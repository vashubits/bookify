(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function of(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Pm={exports:{}},Wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE;function t1(){if(bE)return Wl;bE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Wl.Fragment=e,Wl.jsx=t,Wl.jsxs=t,Wl}var RE;function n1(){return RE||(RE=1,Pm.exports=t1()),Pm.exports}var O=n1(),Lm={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function r1(){if(wE)return Ie;wE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.iterator;function A(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,G={};function U(M,re,le){this.props=M,this.context=re,this.refs=G,this.updater=le||N}U.prototype.isReactComponent={},U.prototype.setState=function(M,re){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,re,"setState")},U.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function W(){}W.prototype=U.prototype;function X(M,re,le){this.props=M,this.context=re,this.refs=G,this.updater=le||N}var J=X.prototype=new W;J.constructor=X,P(J,U.prototype),J.isPureReactComponent=!0;var oe=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},he=Object.prototype.hasOwnProperty;function x(M,re,le,ie,me,be){return le=be.ref,{$$typeof:r,type:M,key:re,ref:le!==void 0?le:null,props:be}}function w(M,re){return x(M.type,re,void 0,void 0,void 0,M.props)}function C(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function V(M){var re={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(le){return re[le]})}var L=/\/+/g;function B(M,re){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):re.toString(36)}function D(){}function ft(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(D,D):(M.status="pending",M.then(function(re){M.status==="pending"&&(M.status="fulfilled",M.value=re)},function(re){M.status==="pending"&&(M.status="rejected",M.reason=re)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function rt(M,re,le,ie,me){var be=typeof M;(be==="undefined"||be==="boolean")&&(M=null);var Se=!1;if(M===null)Se=!0;else switch(be){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(M.$$typeof){case r:case e:Se=!0;break;case _:return Se=M._init,rt(Se(M._payload),re,le,ie,me)}}if(Se)return me=me(M),Se=ie===""?"."+B(M,0):ie,oe(me)?(le="",Se!=null&&(le=Se.replace(L,"$&/")+"/"),rt(me,re,le,"",function(un){return un})):me!=null&&(C(me)&&(me=w(me,le+(me.key==null||M&&M.key===me.key?"":(""+me.key).replace(L,"$&/")+"/")+Se)),re.push(me)),1;Se=0;var Et=ie===""?".":ie+":";if(oe(M))for(var Xe=0;Xe<M.length;Xe++)ie=M[Xe],be=Et+B(ie,Xe),Se+=rt(ie,re,le,be,me);else if(Xe=A(M),typeof Xe=="function")for(M=Xe.call(M),Xe=0;!(ie=M.next()).done;)ie=ie.value,be=Et+B(ie,Xe++),Se+=rt(ie,re,le,be,me);else if(be==="object"){if(typeof M.then=="function")return rt(ft(M),re,le,ie,me);throw re=String(M),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Se}function Q(M,re,le){if(M==null)return M;var ie=[],me=0;return rt(M,ie,"","",function(be){return re.call(le,be,me++)}),ie}function se(M){if(M._status===-1){var re=M._result;re=re(),re.then(function(le){(M._status===0||M._status===-1)&&(M._status=1,M._result=le)},function(le){(M._status===0||M._status===-1)&&(M._status=2,M._result=le)}),M._status===-1&&(M._status=0,M._result=re)}if(M._status===1)return M._result.default;throw M._result}var ce=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Ue(){}return Ie.Children={map:Q,forEach:function(M,re,le){Q(M,function(){re.apply(this,arguments)},le)},count:function(M){var re=0;return Q(M,function(){re++}),re},toArray:function(M){return Q(M,function(re){return re})||[]},only:function(M){if(!C(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ie.Component=U,Ie.Fragment=t,Ie.Profiler=o,Ie.PureComponent=X,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(M){return ue.H.useMemoCache(M)}},Ie.cache=function(M){return function(){return M.apply(null,arguments)}},Ie.cloneElement=function(M,re,le){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ie=P({},M.props),me=M.key,be=void 0;if(re!=null)for(Se in re.ref!==void 0&&(be=void 0),re.key!==void 0&&(me=""+re.key),re)!he.call(re,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&re.ref===void 0||(ie[Se]=re[Se]);var Se=arguments.length-2;if(Se===1)ie.children=le;else if(1<Se){for(var Et=Array(Se),Xe=0;Xe<Se;Xe++)Et[Xe]=arguments[Xe+2];ie.children=Et}return x(M.type,me,void 0,void 0,be,ie)},Ie.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ie.createElement=function(M,re,le){var ie,me={},be=null;if(re!=null)for(ie in re.key!==void 0&&(be=""+re.key),re)he.call(re,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(me[ie]=re[ie]);var Se=arguments.length-2;if(Se===1)me.children=le;else if(1<Se){for(var Et=Array(Se),Xe=0;Xe<Se;Xe++)Et[Xe]=arguments[Xe+2];me.children=Et}if(M&&M.defaultProps)for(ie in Se=M.defaultProps,Se)me[ie]===void 0&&(me[ie]=Se[ie]);return x(M,be,void 0,void 0,null,me)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(M){return{$$typeof:d,render:M}},Ie.isValidElement=C,Ie.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:se}},Ie.memo=function(M,re){return{$$typeof:g,type:M,compare:re===void 0?null:re}},Ie.startTransition=function(M){var re=ue.T,le={};ue.T=le;try{var ie=M(),me=ue.S;me!==null&&me(le,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Ue,ce)}catch(be){ce(be)}finally{ue.T=re}},Ie.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Ie.use=function(M){return ue.H.use(M)},Ie.useActionState=function(M,re,le){return ue.H.useActionState(M,re,le)},Ie.useCallback=function(M,re){return ue.H.useCallback(M,re)},Ie.useContext=function(M){return ue.H.useContext(M)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(M,re){return ue.H.useDeferredValue(M,re)},Ie.useEffect=function(M,re,le){var ie=ue.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(M,re)},Ie.useId=function(){return ue.H.useId()},Ie.useImperativeHandle=function(M,re,le){return ue.H.useImperativeHandle(M,re,le)},Ie.useInsertionEffect=function(M,re){return ue.H.useInsertionEffect(M,re)},Ie.useLayoutEffect=function(M,re){return ue.H.useLayoutEffect(M,re)},Ie.useMemo=function(M,re){return ue.H.useMemo(M,re)},Ie.useOptimistic=function(M,re){return ue.H.useOptimistic(M,re)},Ie.useReducer=function(M,re,le){return ue.H.useReducer(M,re,le)},Ie.useRef=function(M){return ue.H.useRef(M)},Ie.useState=function(M){return ue.H.useState(M)},Ie.useSyncExternalStore=function(M,re,le){return ue.H.useSyncExternalStore(M,re,le)},Ie.useTransition=function(){return ue.H.useTransition()},Ie.version="19.1.1",Ie}var CE;function Kp(){return CE||(CE=1,Lm.exports=r1()),Lm.exports}var R=Kp();const ui=of(R);var Um={exports:{}},Zl={},jm={exports:{}},Bm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function i1(){return IE||(IE=1,(function(r){function e(Q,se){var ce=Q.length;Q.push(se);e:for(;0<ce;){var Ue=ce-1>>>1,M=Q[Ue];if(0<o(M,se))Q[Ue]=se,Q[ce]=M,ce=Ue;else break e}}function t(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var se=Q[0],ce=Q.pop();if(ce!==se){Q[0]=ce;e:for(var Ue=0,M=Q.length,re=M>>>1;Ue<re;){var le=2*(Ue+1)-1,ie=Q[le],me=le+1,be=Q[me];if(0>o(ie,ce))me<M&&0>o(be,ie)?(Q[Ue]=be,Q[me]=ce,Ue=me):(Q[Ue]=ie,Q[le]=ce,Ue=le);else if(me<M&&0>o(be,ce))Q[Ue]=be,Q[me]=ce,Ue=me;else break e}}return se}function o(Q,se){var ce=Q.sortIndex-se.sortIndex;return ce!==0?ce:Q.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var p=[],g=[],_=1,S=null,A=3,N=!1,P=!1,G=!1,U=!1,W=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function oe(Q){for(var se=t(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=Q)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=t(g)}}function ue(Q){if(G=!1,oe(Q),!P)if(t(p)!==null)P=!0,he||(he=!0,B());else{var se=t(g);se!==null&&rt(ue,se.startTime-Q)}}var he=!1,x=-1,w=5,C=-1;function V(){return U?!0:!(r.unstable_now()-C<w)}function L(){if(U=!1,he){var Q=r.unstable_now();C=Q;var se=!0;try{e:{P=!1,G&&(G=!1,X(x),x=-1),N=!0;var ce=A;try{t:{for(oe(Q),S=t(p);S!==null&&!(S.expirationTime>Q&&V());){var Ue=S.callback;if(typeof Ue=="function"){S.callback=null,A=S.priorityLevel;var M=Ue(S.expirationTime<=Q);if(Q=r.unstable_now(),typeof M=="function"){S.callback=M,oe(Q),se=!0;break t}S===t(p)&&s(p),oe(Q)}else s(p);S=t(p)}if(S!==null)se=!0;else{var re=t(g);re!==null&&rt(ue,re.startTime-Q),se=!1}}break e}finally{S=null,A=ce,N=!1}se=void 0}}finally{se?B():he=!1}}}var B;if(typeof J=="function")B=function(){J(L)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ft=D.port2;D.port1.onmessage=L,B=function(){ft.postMessage(null)}}else B=function(){W(L,0)};function rt(Q,se){x=W(function(){Q(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(Q){switch(A){case 1:case 2:case 3:var se=3;break;default:se=A}var ce=A;A=se;try{return Q()}finally{A=ce}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ce=A;A=Q;try{return se()}finally{A=ce}},r.unstable_scheduleCallback=function(Q,se,ce){var Ue=r.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ue+ce:Ue):ce=Ue,Q){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ce+M,Q={id:_++,callback:se,priorityLevel:Q,startTime:ce,expirationTime:M,sortIndex:-1},ce>Ue?(Q.sortIndex=ce,e(g,Q),t(p)===null&&Q===t(g)&&(G?(X(x),x=-1):G=!0,rt(ue,ce-Ue))):(Q.sortIndex=M,e(p,Q),P||N||(P=!0,he||(he=!0,B()))),Q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Q){var se=A;return function(){var ce=A;A=se;try{return Q.apply(this,arguments)}finally{A=ce}}}})(Bm)),Bm}var NE;function s1(){return NE||(NE=1,jm.exports=i1()),jm.exports}var zm={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function a1(){if(DE)return Zt;DE=1;var r=Kp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:_}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},Zt.flushSync=function(p){var g=h.T,_=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=_,s.d.f()}},Zt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Zt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Zt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,S=d(_,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:A,fetchPriority:N}):_==="script"&&s.d.X(p,{crossOrigin:S,integrity:A,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Zt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Zt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,S=d(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Zt.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Zt.requestFormReset=function(p){s.d.r(p)},Zt.unstable_batchedUpdates=function(p,g){return p(g)},Zt.useFormState=function(p,g,_){return h.H.useFormState(p,g,_)},Zt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Zt.version="19.1.1",Zt}var OE;function U0(){if(OE)return zm.exports;OE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),zm.exports=a1(),zm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function o1(){if(xE)return Zl;xE=1;var r=s1(),e=Kp(),t=U0();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function h(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(u(n)!==n)throw Error(s(188))}function p(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return d(f),n;if(m===l)return d(f),i;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var E=!1,T=f.child;T;){if(T===a){E=!0,a=f,l=m;break}if(T===l){E=!0,l=f,a=m;break}T=T.sibling}if(!E){for(T=m.child;T;){if(T===a){E=!0,a=m,l=f;break}if(T===l){E=!0,l=m,a=f;break}T=T.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),J=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=L&&n[L]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function ft(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case P:return"Fragment";case U:return"Profiler";case G:return"StrictMode";case ue:return"Suspense";case he:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case N:return"Portal";case J:return(n.displayName||"Context")+".Provider";case X:return(n._context.displayName||"Context")+".Consumer";case oe:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case x:return i=n.displayName||null,i!==null?i:ft(n.type)||"Memo";case w:i=n._payload,n=n._init;try{return ft(n(i))}catch{}}return null}var rt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Ue=[],M=-1;function re(n){return{current:n}}function le(n){0>M||(n.current=Ue[M],Ue[M]=null,M--)}function ie(n,i){M++,Ue[M]=n.current,n.current=i}var me=re(null),be=re(null),Se=re(null),Et=re(null);function Xe(n,i){switch(ie(Se,i),ie(be,n),ie(me,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Zv(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Zv(i),n=Jv(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}le(me),ie(me,n)}function un(){le(me),le(be),le(Se)}function bn(n){n.memoizedState!==null&&ie(Et,n);var i=me.current,a=Jv(i,n.type);i!==a&&(ie(be,n),ie(me,a))}function zn(n){be.current===n&&(le(me),le(be)),Et.current===n&&(le(Et),$l._currentValue=ce)}var ir=Object.prototype.hasOwnProperty,qn=r.unstable_scheduleCallback,Rn=r.unstable_cancelCallback,tt=r.unstable_shouldYield,As=r.unstable_requestPaint,Yt=r.unstable_now,Pf=r.unstable_getCurrentPriorityLevel,Fo=r.unstable_ImmediatePriority,Ta=r.unstable_UserBlockingPriority,bs=r.unstable_NormalPriority,Lf=r.unstable_LowPriority,Sa=r.unstable_IdlePriority,Go=r.log,zu=r.unstable_setDisableYieldValue,dt=null,Ke=null;function pn(n){if(typeof Go=="function"&&zu(n),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(dt,n)}catch{}}var Xt=Math.clz32?Math.clz32:Rs,qu=Math.log,Uf=Math.LN2;function Rs(n){return n>>>=0,n===0?32:31-(qu(n)/Uf|0)|0}var ws=256,Cs=4194304;function Hn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Aa(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,m=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~m,l!==0?f=Hn(l):(E&=T,E!==0?f=Hn(E):a||(a=T&~n,a!==0&&(f=Hn(a))))):(T=l&~m,T!==0?f=Hn(T):E!==0?f=Hn(E):a||(a=l&~n,a!==0&&(f=Hn(a)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:f}function Is(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function $o(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ko(){var n=ws;return ws<<=1,(ws&4194048)===0&&(ws=256),n}function Qo(){var n=Cs;return Cs<<=1,(Cs&62914560)===0&&(Cs=4194304),n}function kr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Vr(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Yo(n,i,a,l,f,m){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,I=n.expirationTimes,H=n.hiddenUpdates;for(a=E&~a;0<a;){var Y=31-Xt(a),te=1<<Y;T[Y]=0,I[Y]=-1;var F=H[Y];if(F!==null)for(H[Y]=null,Y=0;Y<F.length;Y++){var $=F[Y];$!==null&&($.lane&=-536870913)}a&=~te}l!==0&&sr(n,l,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(E&~i))}function sr(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Xt(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Xo(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-Xt(a),f=1<<l;f&i|n[l]&i&&(n[l]|=i),a&=~f}}function wi(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ba(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ci(){var n=se.p;return n!==0?n:(n=window.event,n===void 0?32:_E(n.type))}function Hu(n,i){var a=se.p;try{return se.p=n,i()}finally{se.p=a}}var ot=Math.random().toString(36).slice(2),Nt="__reactFiber$"+ot,Tt="__reactProps$"+ot,wn="__reactContainer$"+ot,Wo="__reactEvents$"+ot,jf="__reactListeners$"+ot,Ii="__reactHandles$"+ot,Fu="__reactResources$"+ot,Ns="__reactMarker$"+ot;function Ni(n){delete n[Nt],delete n[Tt],delete n[Wo],delete n[jf],delete n[Ii]}function Pr(n){var i=n[Nt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[wn]||a[Nt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=rE(n);n!==null;){if(a=n[Nt])return a;n=rE(n)}return i}n=a,a=n.parentNode}return null}function ar(n){if(n=n[Nt]||n[wn]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function or(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function rn(n){var i=n[Fu];return i||(i=n[Fu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function gt(n){n[Ns]=!0}var Zo=new Set,Ra={};function Fn(n,i){Lr(n,i),Lr(n+"Capture",i)}function Lr(n,i){for(Ra[n]=i,n=0;n<i.length;n++)Zo.add(i[n])}var Gu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$u={},Ds={};function Ku(n){return ir.call(Ds,n)?!0:ir.call($u,n)?!1:Gu.test(n)?Ds[n]=!0:($u[n]=!0,!1)}function Di(n,i,a){if(Ku(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function lr(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function zt(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}var Os,Qu;function Ur(n){if(Os===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Os=i&&i[1]||"",Qu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Os+n+Qu}var wa=!1;function Ca(n,i){if(!n||wa)return"";wa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch($){var F=$}Reflect.construct(n,[],te)}else{try{te.call()}catch($){F=$}n.call(te.prototype)}}else{try{throw Error()}catch($){F=$}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch($){if($&&F&&typeof $.stack=="string")return[$.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),E=m[0],T=m[1];if(E&&T){var I=E.split(`
`),H=T.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===H.length)for(l=I.length-1,f=H.length-1;1<=l&&0<=f&&I[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==H[f]){var Y=`
`+I[l].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=l&&0<=f);break}}}finally{wa=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Ur(a):""}function Jo(n){switch(n.tag){case 26:case 27:case 5:return Ur(n.type);case 16:return Ur("Lazy");case 13:return Ur("Suspense");case 19:return Ur("SuspenseList");case 0:case 15:return Ca(n.type,!1);case 11:return Ca(n.type.render,!1);case 1:return Ca(n.type,!0);case 31:return Ur("Activity");default:return""}}function Ia(n){try{var i="";do i+=Jo(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function el(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Bf(n){var i=el(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,m.call(this,E)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Na(n){n._valueTracker||(n._valueTracker=Bf(n))}function tl(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=el(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function xs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var zf=/[\n"\\]/g;function St(n){return n.replace(zf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function gn(n,i,a,l,f,m,E,T){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+sn(i)):n.value!==""+sn(i)&&(n.value=""+sn(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?Oi(n,E,sn(i)):a!=null?Oi(n,E,sn(a)):l!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+sn(T):n.removeAttribute("name")}function Ms(n,i,a,l,f,m,E,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+sn(a):"",i=i!=null?""+sn(i):a,T||i===n.value||(n.value=i),n.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Oi(n,i,a){i==="number"&&xs(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function jr(n,i,a,l){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+sn(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function We(n,i,a){if(i!=null&&(i=""+sn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+sn(a):""}function ks(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(rt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=sn(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Cn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Vs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yu(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||Vs.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function nl(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Yu(n,f,l)}else for(var m in i)i.hasOwnProperty(m)&&Yu(n,m,i[m])}function rl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Da(n){return Hf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Br=null;function In(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var zr=null,qr=null;function il(n){var i=ar(n);if(i&&(n=i.stateNode)){var a=n[Tt]||null;e:switch(n=i.stateNode,i.type){case"input":if(gn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+St(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var f=l[Tt]||null;if(!f)throw Error(s(90));gn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&tl(l)}break e;case"textarea":We(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&jr(n,!!a.multiple,i,!1)}}}var ur=!1;function Xu(n,i,a){if(ur)return n(i,a);ur=!0;try{var l=n(i);return l}finally{if(ur=!1,(zr!==null||qr!==null)&&(Hc(),zr&&(i=zr,n=qr,qr=zr=null,il(i),n)))for(i=0;i<n.length;i++)il(n[i])}}function Ps(n,i){var a=n.stateNode;if(a===null)return null;var l=a[Tt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nn=!1;if(Gn)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){Nn=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{Nn=!1}var cr=null,xi=null,Hr=null;function sl(){if(Hr)return Hr;var n,i=xi,a=i.length,l,f="value"in cr?cr.value:cr.textContent,m=f.length;for(n=0;n<a&&i[n]===f[n];n++);var E=a-n;for(l=1;l<=E&&i[a-l]===f[m-l];l++);return Hr=f.slice(n,1<l?1-l:void 0)}function hr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function fr(){return!0}function al(){return!1}function Vt(n){function i(a,l,f,m,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?fr:al,this.isPropagationStopped=al,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),i}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=Vt(Ge),Us=_({},Ge,{view:0,detail:0}),Wu=Vt(Us),xa,Ma,dr,js=_({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==dr&&(dr&&n.type==="mousemove"?(xa=n.screenX-dr.screenX,Ma=n.screenY-dr.screenY):Ma=xa=0,dr=n),xa)},movementY:function(n){return"movementY"in n?n.movementY:Ma}}),Dn=Vt(js),Zu=_({},js,{dataTransfer:0}),Ff=Vt(Zu),Bs=_({},Us,{relatedTarget:0}),ka=Vt(Bs),ol=_({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Va=Vt(ol),Ju=_({},Ge,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Pa=Vt(Ju),Gf=_({},Ge,{data:0}),ll=Vt(Gf),zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ec={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ul(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=tc[n])?!!i[n]:!1}function qs(){return ul}var nc=_({},Us,{key:function(n){if(n.key){var i=zs[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=hr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ec[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(n){return n.type==="keypress"?hr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?hr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),La=Vt(nc),rc=_({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cl=Vt(rc),Fr=_({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),ic=Vt(Fr),sc=_({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),ac=Vt(sc),oc=_({},js,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ua=Vt(oc),an=_({},Ge,{newState:0,oldState:0}),lc=Vt(an),uc=[9,13,27,32],mr=Gn&&"CompositionEvent"in window,c=null;Gn&&"documentMode"in document&&(c=document.documentMode);var y=Gn&&"TextEvent"in window&&!c,v=Gn&&(!mr||c&&8<c&&11>=c),b=" ",z=!1;function K(n,i){switch(n){case"keyup":return uc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var je=!1;function Dt(n,i){switch(n){case"compositionend":return ae(i);case"keypress":return i.which!==32?null:(z=!0,b);case"textInput":return n=i.data,n===b&&z?null:n;default:return null}}function Be(n,i){if(je)return n==="compositionend"||!mr&&K(n,i)?(n=sl(),Hr=xi=cr=null,je=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ot(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Pt[n.type]:i==="textarea"}function Gr(n,i,a,l){zr?qr?qr.push(l):qr=[l]:zr=l,i=Yc(i,"onChange"),0<i.length&&(a=new Oa("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var qt=null,pr=null;function hl(n){Kv(n,0)}function cc(n){var i=or(n);if(tl(i))return n}function my(n,i){if(n==="change")return i}var py=!1;if(Gn){var $f;if(Gn){var Kf="oninput"in document;if(!Kf){var gy=document.createElement("div");gy.setAttribute("oninput","return;"),Kf=typeof gy.oninput=="function"}$f=Kf}else $f=!1;py=$f&&(!document.documentMode||9<document.documentMode)}function yy(){qt&&(qt.detachEvent("onpropertychange",_y),pr=qt=null)}function _y(n){if(n.propertyName==="value"&&cc(pr)){var i=[];Gr(i,pr,n,In(n)),Xu(hl,i)}}function OR(n,i,a){n==="focusin"?(yy(),qt=i,pr=a,qt.attachEvent("onpropertychange",_y)):n==="focusout"&&yy()}function xR(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return cc(pr)}function MR(n,i){if(n==="click")return cc(i)}function kR(n,i){if(n==="input"||n==="change")return cc(i)}function VR(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var yn=typeof Object.is=="function"?Object.is:VR;function fl(n,i){if(yn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ir.call(i,f)||!yn(n[f],i[f]))return!1}return!0}function vy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ey(n,i){var a=vy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=vy(a)}}function Ty(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Ty(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Sy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=xs(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=xs(n.document)}return i}function Qf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var PR=Gn&&"documentMode"in document&&11>=document.documentMode,ja=null,Yf=null,dl=null,Xf=!1;function Ay(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xf||ja==null||ja!==xs(l)||(l=ja,"selectionStart"in l&&Qf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dl&&fl(dl,l)||(dl=l,l=Yc(Yf,"onSelect"),0<l.length&&(i=new Oa("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=ja)))}function Hs(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Ba={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},Wf={},by={};Gn&&(by=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Fs(n){if(Wf[n])return Wf[n];if(!Ba[n])return n;var i=Ba[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in by)return Wf[n]=i[a];return n}var Ry=Fs("animationend"),wy=Fs("animationiteration"),Cy=Fs("animationstart"),LR=Fs("transitionrun"),UR=Fs("transitionstart"),jR=Fs("transitioncancel"),Iy=Fs("transitionend"),Ny=new Map,Zf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zf.push("scrollEnd");function $n(n,i){Ny.set(n,i),Fn(i,[n])}var Dy=new WeakMap;function On(n,i){if(typeof n=="object"&&n!==null){var a=Dy.get(n);return a!==void 0?a:(i={value:n,source:i,stack:Ia(i)},Dy.set(n,i),i)}return{value:n,source:i,stack:Ia(i)}}var xn=[],za=0,Jf=0;function hc(){for(var n=za,i=Jf=za=0;i<n;){var a=xn[i];xn[i++]=null;var l=xn[i];xn[i++]=null;var f=xn[i];xn[i++]=null;var m=xn[i];if(xn[i++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}m!==0&&Oy(a,f,m)}}function fc(n,i,a,l){xn[za++]=n,xn[za++]=i,xn[za++]=a,xn[za++]=l,Jf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function ed(n,i,a,l){return fc(n,i,a,l),dc(n)}function qa(n,i){return fc(n,null,null,i),dc(n)}function Oy(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&i!==null&&(f=31-Xt(a),n=m.hiddenUpdates,l=n[f],l===null?n[f]=[i]:l.push(i),i.lane=a|536870912),m):null}function dc(n){if(50<Ul)throw Ul=0,am=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Ha={};function BR(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(n,i,a,l){return new BR(n,i,a,l)}function td(n){return n=n.prototype,!(!n||!n.isReactComponent)}function $r(n,i){var a=n.alternate;return a===null?(a=_n(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function xy(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function mc(n,i,a,l,f,m){var E=0;if(l=n,typeof n=="function")td(n)&&(E=1);else if(typeof n=="string")E=qw(n,a,me.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=_n(31,a,i,f),n.elementType=C,n.lanes=m,n;case P:return Gs(a.children,f,m,i);case G:E=8,f|=24;break;case U:return n=_n(12,a,i,f|2),n.elementType=U,n.lanes=m,n;case ue:return n=_n(13,a,i,f),n.elementType=ue,n.lanes=m,n;case he:return n=_n(19,a,i,f),n.elementType=he,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case W:case J:E=10;break e;case X:E=9;break e;case oe:E=11;break e;case x:E=14;break e;case w:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=_n(E,a,i,f),i.elementType=n,i.type=l,i.lanes=m,i}function Gs(n,i,a,l){return n=_n(7,n,l,i),n.lanes=a,n}function nd(n,i,a){return n=_n(6,n,null,i),n.lanes=a,n}function rd(n,i,a){return i=_n(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Fa=[],Ga=0,pc=null,gc=0,Mn=[],kn=0,$s=null,Kr=1,Qr="";function Ks(n,i){Fa[Ga++]=gc,Fa[Ga++]=pc,pc=n,gc=i}function My(n,i,a){Mn[kn++]=Kr,Mn[kn++]=Qr,Mn[kn++]=$s,$s=n;var l=Kr;n=Qr;var f=32-Xt(l)-1;l&=~(1<<f),a+=1;var m=32-Xt(i)+f;if(30<m){var E=f-f%5;m=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Kr=1<<32-Xt(i)+f|a<<f|l,Qr=m+n}else Kr=1<<m|a<<f|l,Qr=n}function id(n){n.return!==null&&(Ks(n,1),My(n,1,0))}function sd(n){for(;n===pc;)pc=Fa[--Ga],Fa[Ga]=null,gc=Fa[--Ga],Fa[Ga]=null;for(;n===$s;)$s=Mn[--kn],Mn[kn]=null,Qr=Mn[--kn],Mn[kn]=null,Kr=Mn[--kn],Mn[kn]=null}var on=null,mt=null,Fe=!1,Qs=null,gr=!1,ad=Error(s(519));function Ys(n){var i=Error(s(418,""));throw gl(On(i,n)),ad}function ky(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[Nt]=n,i[Tt]=l,a){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(a=0;a<Bl.length;a++)ke(Bl[a],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),Ms(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Na(i);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),ks(i,l.value,l.defaultValue,l.children),Na(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Wv(i.textContent,a)?(l.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),l.onScroll!=null&&ke("scroll",i),l.onScrollEnd!=null&&ke("scrollend",i),l.onClick!=null&&(i.onclick=Xc),i=!0):i=!1,i||Ys(n)}function Vy(n){for(on=n.return;on;)switch(on.tag){case 5:case 13:gr=!1;return;case 27:case 3:gr=!0;return;default:on=on.return}}function ml(n){if(n!==on)return!1;if(!Fe)return Vy(n),Fe=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Sm(n.type,n.memoizedProps)),a=!a),a&&mt&&Ys(n),Vy(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){mt=Qn(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}mt=null}}else i===27?(i=mt,Qi(n.type)?(n=wm,wm=null,mt=n):mt=i):mt=on?Qn(n.stateNode.nextSibling):null;return!0}function pl(){mt=on=null,Fe=!1}function Py(){var n=Qs;return n!==null&&(fn===null?fn=n:fn.push.apply(fn,n),Qs=null),n}function gl(n){Qs===null?Qs=[n]:Qs.push(n)}var od=re(null),Xs=null,Yr=null;function Mi(n,i,a){ie(od,i._currentValue),i._currentValue=a}function Xr(n){n._currentValue=od.current,le(od)}function ld(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function ud(n,i,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=f;for(var I=0;I<i.length;I++)if(T.context===i[I]){m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),ld(m.return,a,n),l||(E=null);break e}m=T.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,m=E.alternate,m!==null&&(m.lanes|=a),ld(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function yl(n,i,a,l){n=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var T=f.type;yn(f.pendingProps.value,E.value)||(n!==null?n.push(T):n=[T])}}else if(f===Et.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push($l):n=[$l])}f=f.return}n!==null&&ud(i,n,a,l),i.flags|=262144}function yc(n){for(n=n.firstContext;n!==null;){if(!yn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ws(n){Xs=n,Yr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Wt(n){return Ly(Xs,n)}function _c(n,i){return Xs===null&&Ws(n),Ly(n,i)}function Ly(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Yr===null){if(n===null)throw Error(s(308));Yr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Yr=Yr.next=i;return a}var zR=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},qR=r.unstable_scheduleCallback,HR=r.unstable_NormalPriority,xt={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cd(){return{controller:new zR,data:new Map,refCount:0}}function _l(n){n.refCount--,n.refCount===0&&qR(HR,function(){n.controller.abort()})}var vl=null,hd=0,$a=0,Ka=null;function FR(n,i){if(vl===null){var a=vl=[];hd=0,$a=dm(),Ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return hd++,i.then(Uy,Uy),i}function Uy(){if(--hd===0&&vl!==null){Ka!==null&&(Ka.status="fulfilled");var n=vl;vl=null,$a=0,Ka=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function GR(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var jy=Q.S;Q.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&FR(n,i),jy!==null&&jy(n,i)};var Zs=re(null);function fd(){var n=Zs.current;return n!==null?n:it.pooledCache}function vc(n,i){i===null?ie(Zs,Zs.current):ie(Zs,i.pool)}function By(){var n=fd();return n===null?null:{parent:xt._currentValue,pool:n}}var El=Error(s(460)),zy=Error(s(474)),Ec=Error(s(542)),dd={then:function(){}};function qy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Tc(){}function Hy(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(Tc,Tc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Gy(n),n;default:if(typeof i.status=="string")i.then(Tc,Tc);else{if(n=it,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Gy(n),n}throw Tl=i,El}}var Tl=null;function Fy(){if(Tl===null)throw Error(s(459));var n=Tl;return Tl=null,n}function Gy(n){if(n===El||n===Ec)throw Error(s(483))}var ki=!1;function md(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Vi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Pi(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=dc(n),Oy(n,null,a),i}return fc(n,l,i,a),dc(n)}function Sl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,Xo(n,a)}}function gd(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var yd=!1;function Al(){if(yd){var n=Ka;if(n!==null)throw n}}function bl(n,i,a,l){yd=!1;var f=n.updateQueue;ki=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var I=T,H=I.next;I.next=null,E===null?m=H:E.next=H,E=I;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==E&&(T===null?Y.firstBaseUpdate=H:T.next=H,Y.lastBaseUpdate=I))}if(m!==null){var te=f.baseState;E=0,Y=H=I=null,T=m;do{var F=T.lane&-536870913,$=F!==T.lane;if($?(ze&F)===F:(l&F)===F){F!==0&&F===$a&&(yd=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ae=n,_e=T;F=i;var et=a;switch(_e.tag){case 1:if(Ae=_e.payload,typeof Ae=="function"){te=Ae.call(et,te,F);break e}te=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=_e.payload,F=typeof Ae=="function"?Ae.call(et,te,F):Ae,F==null)break e;te=_({},te,F);break e;case 2:ki=!0}}F=T.callback,F!==null&&(n.flags|=64,$&&(n.flags|=8192),$=f.callbacks,$===null?f.callbacks=[F]:$.push(F))}else $={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(H=Y=$,I=te):Y=Y.next=$,E|=F;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;$=T,T=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);Y===null&&(I=te),f.baseState=I,f.firstBaseUpdate=H,f.lastBaseUpdate=Y,m===null&&(f.shared.lanes=0),Fi|=E,n.lanes=E,n.memoizedState=te}}function $y(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function Ky(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)$y(a[n],i)}var Qa=re(null),Sc=re(0);function Qy(n,i){n=ri,ie(Sc,n),ie(Qa,i),ri=n|i.baseLanes}function _d(){ie(Sc,ri),ie(Qa,Qa.current)}function vd(){ri=Sc.current,le(Qa),le(Sc)}var Li=0,De=null,Ze=null,At=null,Ac=!1,Ya=!1,Js=!1,bc=0,Rl=0,Xa=null,$R=0;function yt(){throw Error(s(321))}function Ed(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!yn(n[a],i[a]))return!1;return!0}function Td(n,i,a,l,f,m){return Li=m,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=n===null||n.memoizedState===null?O_:x_,Js=!1,m=a(l,f),Js=!1,Ya&&(m=Xy(i,a,l,f)),Yy(n),m}function Yy(n){Q.H=Dc;var i=Ze!==null&&Ze.next!==null;if(Li=0,At=Ze=De=null,Ac=!1,Rl=0,Xa=null,i)throw Error(s(300));n===null||Lt||(n=n.dependencies,n!==null&&yc(n)&&(Lt=!0))}function Xy(n,i,a,l){De=n;var f=0;do{if(Ya&&(Xa=null),Rl=0,Ya=!1,25<=f)throw Error(s(301));if(f+=1,At=Ze=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Q.H=JR,m=i(a,l)}while(Ya);return m}function KR(){var n=Q.H,i=n.useState()[0];return i=typeof i.then=="function"?wl(i):i,n=n.useState()[0],(Ze!==null?Ze.memoizedState:null)!==n&&(De.flags|=1024),i}function Sd(){var n=bc!==0;return bc=0,n}function Ad(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function bd(n){if(Ac){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ac=!1}Li=0,At=Ze=De=null,Ya=!1,Rl=bc=0,Xa=null}function cn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?De.memoizedState=At=n:At=At.next=n,At}function bt(){if(Ze===null){var n=De.alternate;n=n!==null?n.memoizedState:null}else n=Ze.next;var i=At===null?De.memoizedState:At.next;if(i!==null)At=i,Ze=n;else{if(n===null)throw De.alternate===null?Error(s(467)):Error(s(310));Ze=n,n={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},At===null?De.memoizedState=At=n:At=At.next=n}return At}function Rd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(n){var i=Rl;return Rl+=1,Xa===null&&(Xa=[]),n=Hy(Xa,n,i),i=De,(At===null?i.memoizedState:At.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?O_:x_),n}function Rc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return wl(n);if(n.$$typeof===J)return Wt(n)}throw Error(s(438,String(n)))}function wd(n){var i=null,a=De.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Rd(),De.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=V;return i.index++,a}function Wr(n,i){return typeof i=="function"?i(n):i}function wc(n){var i=bt();return Cd(i,Ze,n)}function Cd(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,m=l.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}i.baseQueue=f=m,l.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{i=f.next;var T=E=null,I=null,H=i,Y=!1;do{var te=H.lane&-536870913;if(te!==H.lane?(ze&te)===te:(Li&te)===te){var F=H.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),te===$a&&(Y=!0);else if((Li&F)===F){H=H.next,F===$a&&(Y=!0);continue}else te={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=te,E=m):I=I.next=te,De.lanes|=F,Fi|=F;te=H.action,Js&&a(m,te),m=H.hasEagerState?H.eagerState:a(m,te)}else F={lane:te,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=F,E=m):I=I.next=F,De.lanes|=te,Fi|=te;H=H.next}while(H!==null&&H!==i);if(I===null?E=m:I.next=T,!yn(m,n.memoizedState)&&(Lt=!0,Y&&(a=Ka,a!==null)))throw a;n.memoizedState=m,n.baseState=E,n.baseQueue=I,l.lastRenderedState=m}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Id(n){var i=bt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do m=n(m,E.action),E=E.next;while(E!==f);yn(m,i.memoizedState)||(Lt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,l]}function Wy(n,i,a){var l=De,f=bt(),m=Fe;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!yn((Ze||f).memoizedState,a);E&&(f.memoizedState=a,Lt=!0),f=f.queue;var T=e_.bind(null,l,f,n);if(Cl(2048,8,T,[n]),f.getSnapshot!==i||E||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Wa(9,Cc(),Jy.bind(null,l,f,a,i),null),it===null)throw Error(s(349));m||(Li&124)!==0||Zy(l,i,a)}return a}function Zy(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=De.updateQueue,i===null?(i=Rd(),De.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Jy(n,i,a,l){i.value=a,i.getSnapshot=l,t_(i)&&n_(n)}function e_(n,i,a){return a(function(){t_(i)&&n_(n)})}function t_(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!yn(n,a)}catch{return!0}}function n_(n){var i=qa(n,2);i!==null&&An(i,n,2)}function Nd(n){var i=cn();if(typeof n=="function"){var a=n;if(n=a(),Js){pn(!0);try{a()}finally{pn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:n},i}function r_(n,i,a,l){return n.baseState=a,Cd(n,Ze,typeof l=="function"?l:Wr)}function QR(n,i,a,l,f){if(Nc(n))throw Error(s(485));if(n=i.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};Q.T!==null?a(!0):m.isTransition=!1,l(m),a=i.pending,a===null?(m.next=i.pending=m,i_(i,m)):(m.next=a.next,i.pending=a.next=m)}}function i_(n,i){var a=i.action,l=i.payload,f=n.state;if(i.isTransition){var m=Q.T,E={};Q.T=E;try{var T=a(f,l),I=Q.S;I!==null&&I(E,T),s_(n,i,T)}catch(H){Dd(n,i,H)}finally{Q.T=m}}else try{m=a(f,l),s_(n,i,m)}catch(H){Dd(n,i,H)}}function s_(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){a_(n,i,l)},function(l){return Dd(n,i,l)}):a_(n,i,a)}function a_(n,i,a){i.status="fulfilled",i.value=a,o_(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,i_(n,a)))}function Dd(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,o_(i),i=i.next;while(i!==l)}n.action=null}function o_(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function l_(n,i){return i}function u_(n,i){if(Fe){var a=it.formState;if(a!==null){e:{var l=De;if(Fe){if(mt){t:{for(var f=mt,m=gr;f.nodeType!==8;){if(!m){f=null;break t}if(f=Qn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){mt=Qn(f.nextSibling),l=f.data==="F!";break e}}Ys(l)}l=!1}l&&(i=a[0])}}return a=cn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l_,lastRenderedState:i},a.queue=l,a=I_.bind(null,De,l),l.dispatch=a,l=Nd(!1),m=Vd.bind(null,De,!1,l.queue),l=cn(),f={state:i,dispatch:null,action:n,pending:null},l.queue=f,a=QR.bind(null,De,f,m,a),f.dispatch=a,l.memoizedState=n,[i,a,!1]}function c_(n){var i=bt();return h_(i,Ze,n)}function h_(n,i,a){if(i=Cd(n,i,l_)[0],n=wc(Wr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=wl(i)}catch(E){throw E===El?Ec:E}else l=i;i=bt();var f=i.queue,m=f.dispatch;return a!==i.memoizedState&&(De.flags|=2048,Wa(9,Cc(),YR.bind(null,f,a),null)),[l,m,n]}function YR(n,i){n.action=i}function f_(n){var i=bt(),a=Ze;if(a!==null)return h_(i,a,n);bt(),i=i.memoizedState,a=bt();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function Wa(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=De.updateQueue,i===null&&(i=Rd(),De.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function Cc(){return{destroy:void 0,resource:void 0}}function d_(){return bt().memoizedState}function Ic(n,i,a,l){var f=cn();l=l===void 0?null:l,De.flags|=n,f.memoizedState=Wa(1|i,Cc(),a,l)}function Cl(n,i,a,l){var f=bt();l=l===void 0?null:l;var m=f.memoizedState.inst;Ze!==null&&l!==null&&Ed(l,Ze.memoizedState.deps)?f.memoizedState=Wa(i,m,a,l):(De.flags|=n,f.memoizedState=Wa(1|i,m,a,l))}function m_(n,i){Ic(8390656,8,n,i)}function p_(n,i){Cl(2048,8,n,i)}function g_(n,i){return Cl(4,2,n,i)}function y_(n,i){return Cl(4,4,n,i)}function __(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function v_(n,i,a){a=a!=null?a.concat([n]):null,Cl(4,4,__.bind(null,i,n),a)}function Od(){}function E_(n,i){var a=bt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Ed(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function T_(n,i){var a=bt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Ed(i,l[1]))return l[0];if(l=n(),Js){pn(!0);try{n()}finally{pn(!1)}}return a.memoizedState=[l,i],l}function xd(n,i,a){return a===void 0||(Li&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=bv(),De.lanes|=n,Fi|=n,a)}function S_(n,i,a,l){return yn(a,i)?a:Qa.current!==null?(n=xd(n,a,l),yn(n,i)||(Lt=!0),n):(Li&42)===0?(Lt=!0,n.memoizedState=a):(n=bv(),De.lanes|=n,Fi|=n,i)}function A_(n,i,a,l,f){var m=se.p;se.p=m!==0&&8>m?m:8;var E=Q.T,T={};Q.T=T,Vd(n,!1,i,a);try{var I=f(),H=Q.S;if(H!==null&&H(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=GR(I,l);Il(n,i,Y,Sn(n))}else Il(n,i,l,Sn(n))}catch(te){Il(n,i,{then:function(){},status:"rejected",reason:te},Sn())}finally{se.p=m,Q.T=E}}function XR(){}function Md(n,i,a,l){if(n.tag!==5)throw Error(s(476));var f=b_(n).queue;A_(n,f,i,ce,a===null?XR:function(){return R_(n),a(l)})}function b_(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:ce},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function R_(n){var i=b_(n).next.queue;Il(n,i,{},Sn())}function kd(){return Wt($l)}function w_(){return bt().memoizedState}function C_(){return bt().memoizedState}function WR(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();n=Vi(a);var l=Pi(i,n,a);l!==null&&(An(l,i,a),Sl(l,i,a)),i={cache:cd()},n.payload=i;return}i=i.return}}function ZR(n,i,a){var l=Sn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Nc(n)?N_(i,a):(a=ed(n,i,a,l),a!==null&&(An(a,n,l),D_(a,i,l)))}function I_(n,i,a){var l=Sn();Il(n,i,a,l)}function Il(n,i,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nc(n))N_(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var E=i.lastRenderedState,T=m(E,a);if(f.hasEagerState=!0,f.eagerState=T,yn(T,E))return fc(n,i,f,0),it===null&&hc(),!1}catch{}finally{}if(a=ed(n,i,f,l),a!==null)return An(a,n,l),D_(a,i,l),!0}return!1}function Vd(n,i,a,l){if(l={lane:2,revertLane:dm(),action:l,hasEagerState:!1,eagerState:null,next:null},Nc(n)){if(i)throw Error(s(479))}else i=ed(n,a,l,2),i!==null&&An(i,n,2)}function Nc(n){var i=n.alternate;return n===De||i!==null&&i===De}function N_(n,i){Ya=Ac=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function D_(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,Xo(n,a)}}var Dc={readContext:Wt,use:Rc,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt},O_={readContext:Wt,use:Rc,useCallback:function(n,i){return cn().memoizedState=[n,i===void 0?null:i],n},useContext:Wt,useEffect:m_,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,Ic(4194308,4,__.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Ic(4194308,4,n,i)},useInsertionEffect:function(n,i){Ic(4,2,n,i)},useMemo:function(n,i){var a=cn();i=i===void 0?null:i;var l=n();if(Js){pn(!0);try{n()}finally{pn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=cn();if(a!==void 0){var f=a(i);if(Js){pn(!0);try{a(i)}finally{pn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=ZR.bind(null,De,n),[l.memoizedState,n]},useRef:function(n){var i=cn();return n={current:n},i.memoizedState=n},useState:function(n){n=Nd(n);var i=n.queue,a=I_.bind(null,De,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Od,useDeferredValue:function(n,i){var a=cn();return xd(a,n,i)},useTransition:function(){var n=Nd(!1);return n=A_.bind(null,De,n.queue,!0,!1),cn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=De,f=cn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),it===null)throw Error(s(349));(ze&124)!==0||Zy(l,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,m_(e_.bind(null,l,m,n),[n]),l.flags|=2048,Wa(9,Cc(),Jy.bind(null,l,m,a,i),null),a},useId:function(){var n=cn(),i=it.identifierPrefix;if(Fe){var a=Qr,l=Kr;a=(l&~(1<<32-Xt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=bc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=$R++,i="«"+i+"r"+a.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:kd,useFormState:u_,useActionState:u_,useOptimistic:function(n){var i=cn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Vd.bind(null,De,!0,a),a.dispatch=i,[n,i]},useMemoCache:wd,useCacheRefresh:function(){return cn().memoizedState=WR.bind(null,De)}},x_={readContext:Wt,use:Rc,useCallback:E_,useContext:Wt,useEffect:p_,useImperativeHandle:v_,useInsertionEffect:g_,useLayoutEffect:y_,useMemo:T_,useReducer:wc,useRef:d_,useState:function(){return wc(Wr)},useDebugValue:Od,useDeferredValue:function(n,i){var a=bt();return S_(a,Ze.memoizedState,n,i)},useTransition:function(){var n=wc(Wr)[0],i=bt().memoizedState;return[typeof n=="boolean"?n:wl(n),i]},useSyncExternalStore:Wy,useId:w_,useHostTransitionStatus:kd,useFormState:c_,useActionState:c_,useOptimistic:function(n,i){var a=bt();return r_(a,Ze,n,i)},useMemoCache:wd,useCacheRefresh:C_},JR={readContext:Wt,use:Rc,useCallback:E_,useContext:Wt,useEffect:p_,useImperativeHandle:v_,useInsertionEffect:g_,useLayoutEffect:y_,useMemo:T_,useReducer:Id,useRef:d_,useState:function(){return Id(Wr)},useDebugValue:Od,useDeferredValue:function(n,i){var a=bt();return Ze===null?xd(a,n,i):S_(a,Ze.memoizedState,n,i)},useTransition:function(){var n=Id(Wr)[0],i=bt().memoizedState;return[typeof n=="boolean"?n:wl(n),i]},useSyncExternalStore:Wy,useId:w_,useHostTransitionStatus:kd,useFormState:f_,useActionState:f_,useOptimistic:function(n,i){var a=bt();return Ze!==null?r_(a,Ze,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:wd,useCacheRefresh:C_},Za=null,Nl=0;function Oc(n){var i=Nl;return Nl+=1,Za===null&&(Za=[]),Hy(Za,n,i)}function Dl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function xc(n,i){throw i.$$typeof===S?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function M_(n){var i=n._init;return i(n._payload)}function k_(n){function i(j,k){if(n){var q=j.deletions;q===null?(j.deletions=[k],j.flags|=16):q.push(k)}}function a(j,k){if(!n)return null;for(;k!==null;)i(j,k),k=k.sibling;return null}function l(j){for(var k=new Map;j!==null;)j.key!==null?k.set(j.key,j):k.set(j.index,j),j=j.sibling;return k}function f(j,k){return j=$r(j,k),j.index=0,j.sibling=null,j}function m(j,k,q){return j.index=q,n?(q=j.alternate,q!==null?(q=q.index,q<k?(j.flags|=67108866,k):q):(j.flags|=67108866,k)):(j.flags|=1048576,k)}function E(j){return n&&j.alternate===null&&(j.flags|=67108866),j}function T(j,k,q,Z){return k===null||k.tag!==6?(k=nd(q,j.mode,Z),k.return=j,k):(k=f(k,q),k.return=j,k)}function I(j,k,q,Z){var pe=q.type;return pe===P?Y(j,k,q.props.children,Z,q.key):k!==null&&(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&M_(pe)===k.type)?(k=f(k,q.props),Dl(k,q),k.return=j,k):(k=mc(q.type,q.key,q.props,null,j.mode,Z),Dl(k,q),k.return=j,k)}function H(j,k,q,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=rd(q,j.mode,Z),k.return=j,k):(k=f(k,q.children||[]),k.return=j,k)}function Y(j,k,q,Z,pe){return k===null||k.tag!==7?(k=Gs(q,j.mode,Z,pe),k.return=j,k):(k=f(k,q),k.return=j,k)}function te(j,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=nd(""+k,j.mode,q),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case A:return q=mc(k.type,k.key,k.props,null,j.mode,q),Dl(q,k),q.return=j,q;case N:return k=rd(k,j.mode,q),k.return=j,k;case w:var Z=k._init;return k=Z(k._payload),te(j,k,q)}if(rt(k)||B(k))return k=Gs(k,j.mode,q,null),k.return=j,k;if(typeof k.then=="function")return te(j,Oc(k),q);if(k.$$typeof===J)return te(j,_c(j,k),q);xc(j,k)}return null}function F(j,k,q,Z){var pe=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return pe!==null?null:T(j,k,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return q.key===pe?I(j,k,q,Z):null;case N:return q.key===pe?H(j,k,q,Z):null;case w:return pe=q._init,q=pe(q._payload),F(j,k,q,Z)}if(rt(q)||B(q))return pe!==null?null:Y(j,k,q,Z,null);if(typeof q.then=="function")return F(j,k,Oc(q),Z);if(q.$$typeof===J)return F(j,k,_c(j,q),Z);xc(j,q)}return null}function $(j,k,q,Z,pe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(q)||null,T(k,j,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return j=j.get(Z.key===null?q:Z.key)||null,I(k,j,Z,pe);case N:return j=j.get(Z.key===null?q:Z.key)||null,H(k,j,Z,pe);case w:var xe=Z._init;return Z=xe(Z._payload),$(j,k,q,Z,pe)}if(rt(Z)||B(Z))return j=j.get(q)||null,Y(k,j,Z,pe,null);if(typeof Z.then=="function")return $(j,k,q,Oc(Z),pe);if(Z.$$typeof===J)return $(j,k,q,_c(k,Z),pe);xc(k,Z)}return null}function Ae(j,k,q,Z){for(var pe=null,xe=null,ge=k,ve=k=0,jt=null;ge!==null&&ve<q.length;ve++){ge.index>ve?(jt=ge,ge=null):jt=ge.sibling;var He=F(j,ge,q[ve],Z);if(He===null){ge===null&&(ge=jt);break}n&&ge&&He.alternate===null&&i(j,ge),k=m(He,k,ve),xe===null?pe=He:xe.sibling=He,xe=He,ge=jt}if(ve===q.length)return a(j,ge),Fe&&Ks(j,ve),pe;if(ge===null){for(;ve<q.length;ve++)ge=te(j,q[ve],Z),ge!==null&&(k=m(ge,k,ve),xe===null?pe=ge:xe.sibling=ge,xe=ge);return Fe&&Ks(j,ve),pe}for(ge=l(ge);ve<q.length;ve++)jt=$(ge,j,ve,q[ve],Z),jt!==null&&(n&&jt.alternate!==null&&ge.delete(jt.key===null?ve:jt.key),k=m(jt,k,ve),xe===null?pe=jt:xe.sibling=jt,xe=jt);return n&&ge.forEach(function(Ji){return i(j,Ji)}),Fe&&Ks(j,ve),pe}function _e(j,k,q,Z){if(q==null)throw Error(s(151));for(var pe=null,xe=null,ge=k,ve=k=0,jt=null,He=q.next();ge!==null&&!He.done;ve++,He=q.next()){ge.index>ve?(jt=ge,ge=null):jt=ge.sibling;var Ji=F(j,ge,He.value,Z);if(Ji===null){ge===null&&(ge=jt);break}n&&ge&&Ji.alternate===null&&i(j,ge),k=m(Ji,k,ve),xe===null?pe=Ji:xe.sibling=Ji,xe=Ji,ge=jt}if(He.done)return a(j,ge),Fe&&Ks(j,ve),pe;if(ge===null){for(;!He.done;ve++,He=q.next())He=te(j,He.value,Z),He!==null&&(k=m(He,k,ve),xe===null?pe=He:xe.sibling=He,xe=He);return Fe&&Ks(j,ve),pe}for(ge=l(ge);!He.done;ve++,He=q.next())He=$(ge,j,ve,He.value,Z),He!==null&&(n&&He.alternate!==null&&ge.delete(He.key===null?ve:He.key),k=m(He,k,ve),xe===null?pe=He:xe.sibling=He,xe=He);return n&&ge.forEach(function(e1){return i(j,e1)}),Fe&&Ks(j,ve),pe}function et(j,k,q,Z){if(typeof q=="object"&&q!==null&&q.type===P&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case A:e:{for(var pe=q.key;k!==null;){if(k.key===pe){if(pe=q.type,pe===P){if(k.tag===7){a(j,k.sibling),Z=f(k,q.props.children),Z.return=j,j=Z;break e}}else if(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&M_(pe)===k.type){a(j,k.sibling),Z=f(k,q.props),Dl(Z,q),Z.return=j,j=Z;break e}a(j,k);break}else i(j,k);k=k.sibling}q.type===P?(Z=Gs(q.props.children,j.mode,Z,q.key),Z.return=j,j=Z):(Z=mc(q.type,q.key,q.props,null,j.mode,Z),Dl(Z,q),Z.return=j,j=Z)}return E(j);case N:e:{for(pe=q.key;k!==null;){if(k.key===pe)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){a(j,k.sibling),Z=f(k,q.children||[]),Z.return=j,j=Z;break e}else{a(j,k);break}else i(j,k);k=k.sibling}Z=rd(q,j.mode,Z),Z.return=j,j=Z}return E(j);case w:return pe=q._init,q=pe(q._payload),et(j,k,q,Z)}if(rt(q))return Ae(j,k,q,Z);if(B(q)){if(pe=B(q),typeof pe!="function")throw Error(s(150));return q=pe.call(q),_e(j,k,q,Z)}if(typeof q.then=="function")return et(j,k,Oc(q),Z);if(q.$$typeof===J)return et(j,k,_c(j,q),Z);xc(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(a(j,k.sibling),Z=f(k,q),Z.return=j,j=Z):(a(j,k),Z=nd(q,j.mode,Z),Z.return=j,j=Z),E(j)):a(j,k)}return function(j,k,q,Z){try{Nl=0;var pe=et(j,k,q,Z);return Za=null,pe}catch(ge){if(ge===El||ge===Ec)throw ge;var xe=_n(29,ge,null,j.mode);return xe.lanes=Z,xe.return=j,xe}finally{}}}var Ja=k_(!0),V_=k_(!1),Vn=re(null),yr=null;function Ui(n){var i=n.alternate;ie(Mt,Mt.current&1),ie(Vn,n),yr===null&&(i===null||Qa.current!==null||i.memoizedState!==null)&&(yr=n)}function P_(n){if(n.tag===22){if(ie(Mt,Mt.current),ie(Vn,n),yr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(yr=n)}}else ji()}function ji(){ie(Mt,Mt.current),ie(Vn,Vn.current)}function Zr(n){le(Vn),yr===n&&(yr=null),le(Mt)}var Mt=re(0);function Mc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Rm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Pd(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:_({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Ld={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=Sn(),f=Vi(l);f.payload=i,a!=null&&(f.callback=a),i=Pi(n,f,l),i!==null&&(An(i,n,l),Sl(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=Sn(),f=Vi(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Pi(n,f,l),i!==null&&(An(i,n,l),Sl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Sn(),l=Vi(a);l.tag=2,i!=null&&(l.callback=i),i=Pi(n,l,a),i!==null&&(An(i,n,a),Sl(i,n,a))}};function L_(n,i,a,l,f,m,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,E):i.prototype&&i.prototype.isPureReactComponent?!fl(a,l)||!fl(f,m):!0}function U_(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&Ld.enqueueReplaceState(i,i.state,null)}function ea(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=_({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var kc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function j_(n){kc(n)}function B_(n){console.error(n)}function z_(n){kc(n)}function Vc(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function q_(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ud(n,i,a){return a=Vi(a),a.tag=3,a.payload={element:null},a.callback=function(){Vc(n,i)},a}function H_(n){return n=Vi(n),n.tag=3,n}function F_(n,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;n.payload=function(){return f(m)},n.callback=function(){q_(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){q_(i,a,l),typeof f!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function ew(n,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&yl(i,a,f,!0),a=Vn.current,a!==null){switch(a.tag){case 13:return yr===null?lm():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===dd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),cm(n,l,f)),!1;case 22:return a.flags|=65536,l===dd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),cm(n,l,f)),!1}throw Error(s(435,a.tag))}return cm(n,l,f),lm(),!1}if(Fe)return i=Vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==ad&&(n=Error(s(422),{cause:l}),gl(On(n,a)))):(l!==ad&&(i=Error(s(423),{cause:l}),gl(On(i,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=On(l,a),f=Ud(n.stateNode,l,f),gd(n,f),pt!==4&&(pt=2)),!1;var m=Error(s(520),{cause:l});if(m=On(m,a),Ll===null?Ll=[m]:Ll.push(m),pt!==4&&(pt=2),i===null)return!0;l=On(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Ud(a.stateNode,l,n),gd(a,n),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Gi===null||!Gi.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=H_(f),F_(f,n,a,l),gd(a,f),!1}a=a.return}while(a!==null);return!1}var G_=Error(s(461)),Lt=!1;function Ht(n,i,a,l){i.child=n===null?V_(i,null,a,l):Ja(i,n.child,a,l)}function $_(n,i,a,l,f){a=a.render;var m=i.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return Ws(i),l=Td(n,i,a,E,m,f),T=Sd(),n!==null&&!Lt?(Ad(n,i,f),Jr(n,i,f)):(Fe&&T&&id(i),i.flags|=1,Ht(n,i,l,f),i.child)}function K_(n,i,a,l,f){if(n===null){var m=a.type;return typeof m=="function"&&!td(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,Q_(n,i,m,l,f)):(n=mc(a.type,null,l,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!$d(n,f)){var E=m.memoizedProps;if(a=a.compare,a=a!==null?a:fl,a(E,l)&&n.ref===i.ref)return Jr(n,i,f)}return i.flags|=1,n=$r(m,l),n.ref=i.ref,n.return=i,i.child=n}function Q_(n,i,a,l,f){if(n!==null){var m=n.memoizedProps;if(fl(m,l)&&n.ref===i.ref)if(Lt=!1,i.pendingProps=l=m,$d(n,f))(n.flags&131072)!==0&&(Lt=!0);else return i.lanes=n.lanes,Jr(n,i,f)}return jd(n,i,a,l,f)}function Y_(n,i,a){var l=i.pendingProps,f=l.children,m=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,n!==null){for(f=i.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;i.childLanes=m&~l}else i.childLanes=0,i.child=null;return X_(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&vc(i,m!==null?m.cachePool:null),m!==null?Qy(i,m):_d(),P_(i);else return i.lanes=i.childLanes=536870912,X_(n,i,m!==null?m.baseLanes|a:a,a)}else m!==null?(vc(i,m.cachePool),Qy(i,m),ji(),i.memoizedState=null):(n!==null&&vc(i,null),_d(),ji());return Ht(n,i,f,a),i.child}function X_(n,i,a,l){var f=fd();return f=f===null?null:{parent:xt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},n!==null&&vc(i,null),_d(),P_(i),n!==null&&yl(n,i,l,!0),null}function Pc(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function jd(n,i,a,l,f){return Ws(i),a=Td(n,i,a,l,void 0,f),l=Sd(),n!==null&&!Lt?(Ad(n,i,f),Jr(n,i,f)):(Fe&&l&&id(i),i.flags|=1,Ht(n,i,a,f),i.child)}function W_(n,i,a,l,f,m){return Ws(i),i.updateQueue=null,a=Xy(i,l,a,f),Yy(n),l=Sd(),n!==null&&!Lt?(Ad(n,i,m),Jr(n,i,m)):(Fe&&l&&id(i),i.flags|=1,Ht(n,i,a,m),i.child)}function Z_(n,i,a,l,f){if(Ws(i),i.stateNode===null){var m=Ha,E=a.contextType;typeof E=="object"&&E!==null&&(m=Wt(E)),m=new a(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Ld,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},md(i),E=a.contextType,m.context=typeof E=="object"&&E!==null?Wt(E):Ha,m.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Pd(i,a,E,l),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&Ld.enqueueReplaceState(m,m.state,null),bl(i,l,m,f),Al(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){m=i.stateNode;var T=i.memoizedProps,I=ea(a,T);m.props=I;var H=m.context,Y=a.contextType;E=Ha,typeof Y=="object"&&Y!==null&&(E=Wt(Y));var te=a.getDerivedStateFromProps;Y=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||H!==E)&&U_(i,m,l,E),ki=!1;var F=i.memoizedState;m.state=F,bl(i,l,m,f),Al(),H=i.memoizedState,T||F!==H||ki?(typeof te=="function"&&(Pd(i,a,te,l),H=i.memoizedState),(I=ki||L_(i,a,I,l,F,H,E))?(Y||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),m.props=l,m.state=H,m.context=E,l=I):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,pd(n,i),E=i.memoizedProps,Y=ea(a,E),m.props=Y,te=i.pendingProps,F=m.context,H=a.contextType,I=Ha,typeof H=="object"&&H!==null&&(I=Wt(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==te||F!==I)&&U_(i,m,l,I),ki=!1,F=i.memoizedState,m.state=F,bl(i,l,m,f),Al();var $=i.memoizedState;E!==te||F!==$||ki||n!==null&&n.dependencies!==null&&yc(n.dependencies)?(typeof T=="function"&&(Pd(i,a,T,l),$=i.memoizedState),(Y=ki||L_(i,a,Y,l,F,$,I)||n!==null&&n.dependencies!==null&&yc(n.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,$,I),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,$,I)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&F===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&F===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),m.props=l,m.state=$,m.context=I,l=Y):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&F===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&F===n.memoizedState||(i.flags|=1024),l=!1)}return m=l,Pc(n,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&l?(i.child=Ja(i,n.child,null,f),i.child=Ja(i,null,a,f)):Ht(n,i,a,f),i.memoizedState=m.state,n=i.child):n=Jr(n,i,f),n}function J_(n,i,a,l){return pl(),i.flags|=256,Ht(n,i,a,l),i.child}var Bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zd(n){return{baseLanes:n,cachePool:By()}}function qd(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Pn),n}function ev(n,i,a){var l=i.pendingProps,f=!1,m=(i.flags&128)!==0,E;if((E=m)||(E=n!==null&&n.memoizedState===null?!1:(Mt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(Fe){if(f?Ui(i):ji(),Fe){var T=mt,I;if(I=T){e:{for(I=T,T=gr;I.nodeType!==8;){if(!T){T=null;break e}if(I=Qn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:$s!==null?{id:Kr,overflow:Qr}:null,retryLane:536870912,hydrationErrors:null},I=_n(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,on=i,mt=null,I=!0):I=!1}I||Ys(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Rm(T)?i.lanes=32:i.lanes=536870912,null;Zr(i)}return T=l.children,l=l.fallback,f?(ji(),f=i.mode,T=Lc({mode:"hidden",children:T},f),l=Gs(l,f,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,f=i.child,f.memoizedState=zd(a),f.childLanes=qd(n,E,a),i.memoizedState=Bd,l):(Ui(i),Hd(i,T))}if(I=n.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(m)i.flags&256?(Ui(i),i.flags&=-257,i=Fd(n,i,a)):i.memoizedState!==null?(ji(),i.child=n.child,i.flags|=128,i=null):(ji(),f=l.fallback,T=i.mode,l=Lc({mode:"visible",children:l.children},T),f=Gs(f,T,a,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,Ja(i,n.child,null,a),l=i.child,l.memoizedState=zd(a),l.childLanes=qd(n,E,a),i.memoizedState=Bd,i=f);else if(Ui(i),Rm(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var H=E.dgst;E=H,l=Error(s(419)),l.stack="",l.digest=E,gl({value:l,source:null,stack:null}),i=Fd(n,i,a)}else if(Lt||yl(n,i,a,!1),E=(a&n.childLanes)!==0,Lt||E){if(E=it,E!==null&&(l=a&-a,l=(l&42)!==0?1:wi(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,qa(n,l),An(E,n,l),G_;T.data==="$?"||lm(),i=Fd(n,i,a)}else T.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=I.treeContext,mt=Qn(T.nextSibling),on=i,Fe=!0,Qs=null,gr=!1,n!==null&&(Mn[kn++]=Kr,Mn[kn++]=Qr,Mn[kn++]=$s,Kr=n.id,Qr=n.overflow,$s=i),i=Hd(i,l.children),i.flags|=4096);return i}return f?(ji(),f=l.fallback,T=i.mode,I=n.child,H=I.sibling,l=$r(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,H!==null?f=$r(H,f):(f=Gs(f,T,a,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,T=n.child.memoizedState,T===null?T=zd(a):(I=T.cachePool,I!==null?(H=xt._currentValue,I=I.parent!==H?{parent:H,pool:H}:I):I=By(),T={baseLanes:T.baseLanes|a,cachePool:I}),f.memoizedState=T,f.childLanes=qd(n,E,a),i.memoizedState=Bd,l):(Ui(i),a=n.child,n=a.sibling,a=$r(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=a,i.memoizedState=null,a)}function Hd(n,i){return i=Lc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Lc(n,i){return n=_n(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Fd(n,i,a){return Ja(i,n.child,null,a),n=Hd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function tv(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),ld(n.return,i,a)}function Gd(n,i,a,l,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function nv(n,i,a){var l=i.pendingProps,f=l.revealOrder,m=l.tail;if(Ht(n,i,l.children,a),l=Mt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&tv(n,a,i);else if(n.tag===19)tv(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(ie(Mt,l),f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&Mc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Gd(i,!1,f,a,m);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Mc(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Gd(i,!0,a,null,m);break;case"together":Gd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Jr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Fi|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(yl(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=$r(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=$r(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function $d(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&yc(n)))}function tw(n,i,a){switch(i.tag){case 3:Xe(i,i.stateNode.containerInfo),Mi(i,xt,n.memoizedState.cache),pl();break;case 27:case 5:bn(i);break;case 4:Xe(i,i.stateNode.containerInfo);break;case 10:Mi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ui(i),i.flags|=128,null):(a&i.child.childLanes)!==0?ev(n,i,a):(Ui(i),n=Jr(n,i,a),n!==null?n.sibling:null);Ui(i);break;case 19:var f=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(yl(n,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return nv(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ie(Mt,Mt.current),l)break;return null;case 22:case 23:return i.lanes=0,Y_(n,i,a);case 24:Mi(i,xt,n.memoizedState.cache)}return Jr(n,i,a)}function rv(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Lt=!0;else{if(!$d(n,a)&&(i.flags&128)===0)return Lt=!1,tw(n,i,a);Lt=(n.flags&131072)!==0}else Lt=!1,Fe&&(i.flags&1048576)!==0&&My(i,gc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")td(l)?(n=ea(l,n),i.tag=1,i=Z_(null,i,l,n,a)):(i.tag=0,i=jd(null,i,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===oe){i.tag=11,i=$_(null,i,l,n,a);break e}else if(f===x){i.tag=14,i=K_(null,i,l,n,a);break e}}throw i=ft(l)||l,Error(s(306,i,""))}}return i;case 0:return jd(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=ea(l,i.pendingProps),Z_(n,i,l,f,a);case 3:e:{if(Xe(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var m=i.memoizedState;f=m.element,pd(n,i),bl(i,l,null,a);var E=i.memoizedState;if(l=E.cache,Mi(i,xt,l),l!==m.cache&&ud(i,[xt],a,!0),Al(),l=E.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=J_(n,i,l,a);break e}else if(l!==f){f=On(Error(s(424)),i),gl(f),i=J_(n,i,l,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(mt=Qn(n.firstChild),on=i,Fe=!0,Qs=null,gr=!0,a=V_(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(pl(),l===f){i=Jr(n,i,a);break e}Ht(n,i,l,a)}i=i.child}return i;case 26:return Pc(n,i),n===null?(a=oE(i.type,null,i.pendingProps,null))?i.memoizedState=a:Fe||(a=i.type,n=i.pendingProps,l=Wc(Se.current).createElement(a),l[Nt]=i,l[Tt]=n,Gt(l,a,n),gt(l),i.stateNode=l):i.memoizedState=oE(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return bn(i),n===null&&Fe&&(l=i.stateNode=iE(i.type,i.pendingProps,Se.current),on=i,gr=!0,f=mt,Qi(i.type)?(wm=f,mt=Qn(l.firstChild)):mt=f),Ht(n,i,i.pendingProps.children,a),Pc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Fe&&((f=l=mt)&&(l=Nw(l,i.type,i.pendingProps,gr),l!==null?(i.stateNode=l,on=i,mt=Qn(l.firstChild),gr=!1,f=!0):f=!1),f||Ys(i)),bn(i),f=i.type,m=i.pendingProps,E=n!==null?n.memoizedProps:null,l=m.children,Sm(f,m)?l=null:E!==null&&Sm(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=Td(n,i,KR,null,null,a),$l._currentValue=f),Pc(n,i),Ht(n,i,l,a),i.child;case 6:return n===null&&Fe&&((n=a=mt)&&(a=Dw(a,i.pendingProps,gr),a!==null?(i.stateNode=a,on=i,mt=null,n=!0):n=!1),n||Ys(i)),null;case 13:return ev(n,i,a);case 4:return Xe(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Ja(i,null,l,a):Ht(n,i,l,a),i.child;case 11:return $_(n,i,i.type,i.pendingProps,a);case 7:return Ht(n,i,i.pendingProps,a),i.child;case 8:return Ht(n,i,i.pendingProps.children,a),i.child;case 12:return Ht(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Mi(i,i.type,l.value),Ht(n,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Ws(i),f=Wt(f),l=l(f),i.flags|=1,Ht(n,i,l,a),i.child;case 14:return K_(n,i,i.type,i.pendingProps,a);case 15:return Q_(n,i,i.type,i.pendingProps,a);case 19:return nv(n,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},n===null?(a=Lc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=$r(n.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Y_(n,i,a);case 24:return Ws(i),l=Wt(xt),n===null?(f=fd(),f===null&&(f=it,m=cd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),i.memoizedState={parent:l,cache:f},md(i),Mi(i,xt,f)):((n.lanes&a)!==0&&(pd(n,i),bl(i,null,null,a),Al()),f=n.memoizedState,m=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Mi(i,xt,l)):(l=m.cache,Mi(i,xt,l),l!==f.cache&&ud(i,[xt],a,!0))),Ht(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ei(n){n.flags|=4}function iv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!fE(i)){if(i=Vn.current,i!==null&&((ze&4194048)===ze?yr!==null:(ze&62914560)!==ze&&(ze&536870912)===0||i!==yr))throw Tl=dd,zy;n.flags|=8192}}function Uc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Qo():536870912,n.lanes|=i,ro|=i)}function Ol(n,i){if(!Fe)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ct(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function nw(n,i,a){var l=i.pendingProps;switch(sd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(i),null;case 1:return ct(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Xr(xt),un(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(ml(i)?ei(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Py())),ct(i),null;case 26:return a=i.memoizedState,n===null?(ei(i),a!==null?(ct(i),iv(i,a)):(ct(i),i.flags&=-16777217)):a?a!==n.memoizedState?(ei(i),ct(i),iv(i,a)):(ct(i),i.flags&=-16777217):(n.memoizedProps!==l&&ei(i),ct(i),i.flags&=-16777217),null;case 27:zn(i),a=Se.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&ei(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ct(i),null}n=me.current,ml(i)?ky(i):(n=iE(f,l,a),i.stateNode=n,ei(i))}return ct(i),null;case 5:if(zn(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&ei(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ct(i),null}if(n=me.current,ml(i))ky(i);else{switch(f=Wc(Se.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Nt]=i,n[Tt]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(Gt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ei(i)}}return ct(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&ei(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=Se.current,ml(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,f=on,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Nt]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Wv(n.nodeValue,a)),n||Ys(i)}else n=Wc(n).createTextNode(l),n[Nt]=i,i.stateNode=n}return ct(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=ml(i),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Nt]=i}else pl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ct(i),f=!1}else f=Py(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Zr(i),i):(Zr(i),null)}if(Zr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),Uc(i,i.updateQueue),ct(i),null;case 4:return un(),n===null&&ym(i.stateNode.containerInfo),ct(i),null;case 10:return Xr(i.type),ct(i),null;case 19:if(le(Mt),f=i.memoizedState,f===null)return ct(i),null;if(l=(i.flags&128)!==0,m=f.rendering,m===null)if(l)Ol(f,!1);else{if(pt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=Mc(n),m!==null){for(i.flags|=128,Ol(f,!1),n=m.updateQueue,i.updateQueue=n,Uc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)xy(a,n),a=a.sibling;return ie(Mt,Mt.current&1|2),i.child}n=n.sibling}f.tail!==null&&Yt()>zc&&(i.flags|=128,l=!0,Ol(f,!1),i.lanes=4194304)}else{if(!l)if(n=Mc(m),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,Uc(i,n),Ol(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Fe)return ct(i),null}else 2*Yt()-f.renderingStartTime>zc&&a!==536870912&&(i.flags|=128,l=!0,Ol(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(n=f.last,n!==null?n.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Yt(),i.sibling=null,n=Mt.current,ie(Mt,l?n&1|2:n&1),i):(ct(i),null);case 22:case 23:return Zr(i),vd(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ct(i),i.subtreeFlags&6&&(i.flags|=8192)):ct(i),a=i.updateQueue,a!==null&&Uc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&le(Zs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Xr(xt),ct(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function rw(n,i){switch(sd(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Xr(xt),un(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return zn(i),null;case 13:if(Zr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));pl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return le(Mt),null;case 4:return un(),null;case 10:return Xr(i.type),null;case 22:case 23:return Zr(i),vd(),n!==null&&le(Zs),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Xr(xt),null;case 25:return null;default:return null}}function sv(n,i){switch(sd(i),i.tag){case 3:Xr(xt),un();break;case 26:case 27:case 5:zn(i);break;case 4:un();break;case 13:Zr(i);break;case 19:le(Mt);break;case 10:Xr(i.type);break;case 22:case 23:Zr(i),vd(),n!==null&&le(Zs);break;case 24:Xr(xt)}}function xl(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var m=a.create,E=a.inst;l=m(),E.destroy=l}a=a.next}while(a!==f)}}catch(T){nt(i,i.return,T)}}function Bi(n,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&n)===n){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,f=i;var I=a,H=T;try{H()}catch(Y){nt(f,I,Y)}}}l=l.next}while(l!==m)}}catch(Y){nt(i,i.return,Y)}}function av(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{Ky(i,a)}catch(l){nt(n,n.return,l)}}}function ov(n,i,a){a.props=ea(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){nt(n,i,l)}}function Ml(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){nt(n,i,f)}}function _r(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){nt(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){nt(n,i,f)}else a.current=null}function lv(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){nt(n,n.return,f)}}function Kd(n,i,a){try{var l=n.stateNode;bw(l,n.type,a,i),l[Tt]=i}catch(f){nt(n,n.return,f)}}function uv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Qi(n.type)||n.tag===4}function Qd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||uv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Qi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Yd(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Xc));else if(l!==4&&(l===27&&Qi(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(Yd(n,i,a),n=n.sibling;n!==null;)Yd(n,i,a),n=n.sibling}function jc(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&Qi(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(jc(n,i,a),n=n.sibling;n!==null;)jc(n,i,a),n=n.sibling}function cv(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Gt(i,l,a),i[Nt]=n,i[Tt]=a}catch(m){nt(n,n.return,m)}}var ti=!1,_t=!1,Xd=!1,hv=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function iw(n,i){if(n=n.containerInfo,Em=rh,n=Sy(n),Qf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var E=0,T=-1,I=-1,H=0,Y=0,te=n,F=null;t:for(;;){for(var $;te!==a||f!==0&&te.nodeType!==3||(T=E+f),te!==m||l!==0&&te.nodeType!==3||(I=E+l),te.nodeType===3&&(E+=te.nodeValue.length),($=te.firstChild)!==null;)F=te,te=$;for(;;){if(te===n)break t;if(F===a&&++H===f&&(T=E),F===m&&++Y===l&&(I=E),($=te.nextSibling)!==null)break;te=F,F=te.parentNode}te=$}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tm={focusedElem:n,selectionRange:a},rh=!1,Ut=i;Ut!==null;)if(i=Ut,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Ut=n;else for(;Ut!==null;){switch(i=Ut,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=i,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Ae=ea(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Ae,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(_e){nt(a,a.return,_e)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)bm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":bm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Ut=n;break}Ut=i.return}}function fv(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:zi(n,a),l&4&&xl(5,a);break;case 1:if(zi(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(E){nt(a,a.return,E)}else{var f=ea(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){nt(a,a.return,E)}}l&64&&av(a),l&512&&Ml(a,a.return);break;case 3:if(zi(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ky(n,i)}catch(E){nt(a,a.return,E)}}break;case 27:i===null&&l&4&&cv(a);case 26:case 5:zi(n,a),i===null&&l&4&&lv(a),l&512&&Ml(a,a.return);break;case 12:zi(n,a);break;case 13:zi(n,a),l&4&&pv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=dw.bind(null,a),Ow(n,a))));break;case 22:if(l=a.memoizedState!==null||ti,!l){i=i!==null&&i.memoizedState!==null||_t,f=ti;var m=_t;ti=l,(_t=i)&&!m?qi(n,a,(a.subtreeFlags&8772)!==0):zi(n,a),ti=f,_t=m}break;case 30:break;default:zi(n,a)}}function dv(n){var i=n.alternate;i!==null&&(n.alternate=null,dv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ni(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var lt=null,hn=!1;function ni(n,i,a){for(a=a.child;a!==null;)mv(n,i,a),a=a.sibling}function mv(n,i,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(dt,a)}catch{}switch(a.tag){case 26:_t||_r(a,i),ni(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:_t||_r(a,i);var l=lt,f=hn;Qi(a.type)&&(lt=a.stateNode,hn=!1),ni(n,i,a),ql(a.stateNode),lt=l,hn=f;break;case 5:_t||_r(a,i);case 6:if(l=lt,f=hn,lt=null,ni(n,i,a),lt=l,hn=f,lt!==null)if(hn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(m){nt(a,i,m)}else try{lt.removeChild(a.stateNode)}catch(m){nt(a,i,m)}break;case 18:lt!==null&&(hn?(n=lt,nE(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Xl(n)):nE(lt,a.stateNode));break;case 4:l=lt,f=hn,lt=a.stateNode.containerInfo,hn=!0,ni(n,i,a),lt=l,hn=f;break;case 0:case 11:case 14:case 15:_t||Bi(2,a,i),_t||Bi(4,a,i),ni(n,i,a);break;case 1:_t||(_r(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ov(a,i,l)),ni(n,i,a);break;case 21:ni(n,i,a);break;case 22:_t=(l=_t)||a.memoizedState!==null,ni(n,i,a),_t=l;break;default:ni(n,i,a)}}function pv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Xl(n)}catch(a){nt(i,i.return,a)}}function sw(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new hv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new hv),i;default:throw Error(s(435,n.tag))}}function Wd(n,i){var a=sw(n);i.forEach(function(l){var f=mw.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function vn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=n,E=i,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(Qi(T.type)){lt=T.stateNode,hn=!1;break e}break;case 5:lt=T.stateNode,hn=!1;break e;case 3:case 4:lt=T.stateNode.containerInfo,hn=!0;break e}T=T.return}if(lt===null)throw Error(s(160));mv(m,E,f),lt=null,hn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)gv(i,n),i=i.sibling}var Kn=null;function gv(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:vn(i,n),En(n),l&4&&(Bi(3,n,n.return),xl(3,n),Bi(5,n,n.return));break;case 1:vn(i,n),En(n),l&512&&(_t||a===null||_r(a,a.return)),l&64&&ti&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Kn;if(vn(i,n),En(n),l&512&&(_t||a===null||_r(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ns]||m[Nt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Gt(m,l,a),m[Nt]=n,gt(m),l=m;break e;case"link":var E=cE("link","href",f).get(l+(a.href||""));if(E){for(var T=0;T<E.length;T++)if(m=E[T],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(T,1);break t}}m=f.createElement(l),Gt(m,l,a),f.head.appendChild(m);break;case"meta":if(E=cE("meta","content",f).get(l+(a.content||""))){for(T=0;T<E.length;T++)if(m=E[T],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(T,1);break t}}m=f.createElement(l),Gt(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[Nt]=n,gt(m),l=m}n.stateNode=l}else hE(f,n.type,n.stateNode);else n.stateNode=uE(f,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?hE(f,n.type,n.stateNode):uE(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Kd(n,n.memoizedProps,a.memoizedProps)}break;case 27:vn(i,n),En(n),l&512&&(_t||a===null||_r(a,a.return)),a!==null&&l&4&&Kd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(vn(i,n),En(n),l&512&&(_t||a===null||_r(a,a.return)),n.flags&32){f=n.stateNode;try{Cn(f,"")}catch($){nt(n,n.return,$)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Kd(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Xd=!0);break;case 6:if(vn(i,n),En(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch($){nt(n,n.return,$)}}break;case 3:if(eh=null,f=Kn,Kn=Zc(i.containerInfo),vn(i,n),Kn=f,En(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Xl(i.containerInfo)}catch($){nt(n,n.return,$)}Xd&&(Xd=!1,yv(n));break;case 4:l=Kn,Kn=Zc(n.stateNode.containerInfo),vn(i,n),En(n),Kn=l;break;case 12:vn(i,n),En(n);break;case 13:vn(i,n),En(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(rm=Yt()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Wd(n,l)));break;case 22:f=n.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,H=ti,Y=_t;if(ti=H||f,_t=Y||I,vn(i,n),_t=Y,ti=H,En(n),l&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||I||ti||_t||ta(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(m=I.stateNode,f)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=I.stateNode;var te=I.memoizedProps.style,F=te!=null&&te.hasOwnProperty("display")?te.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch($){nt(I,I.return,$)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch($){nt(I,I.return,$)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Wd(n,a))));break;case 19:vn(i,n),En(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Wd(n,l)));break;case 30:break;case 21:break;default:vn(i,n),En(n)}}function En(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(uv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=Qd(n);jc(n,m,f);break;case 5:var E=a.stateNode;a.flags&32&&(Cn(E,""),a.flags&=-33);var T=Qd(n);jc(n,T,E);break;case 3:case 4:var I=a.stateNode.containerInfo,H=Qd(n);Yd(n,H,I);break;default:throw Error(s(161))}}catch(Y){nt(n,n.return,Y)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function yv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;yv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function zi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)fv(n,i.alternate,i),i=i.sibling}function ta(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Bi(4,i,i.return),ta(i);break;case 1:_r(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ov(i,i.return,a),ta(i);break;case 27:ql(i.stateNode);case 26:case 5:_r(i,i.return),ta(i);break;case 22:i.memoizedState===null&&ta(i);break;case 30:ta(i);break;default:ta(i)}n=n.sibling}}function qi(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=n,m=i,E=m.flags;switch(m.tag){case 0:case 11:case 15:qi(f,m,a),xl(4,m);break;case 1:if(qi(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){nt(l,l.return,H)}if(l=m,f=l.updateQueue,f!==null){var T=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)$y(I[f],T)}catch(H){nt(l,l.return,H)}}a&&E&64&&av(m),Ml(m,m.return);break;case 27:cv(m);case 26:case 5:qi(f,m,a),a&&l===null&&E&4&&lv(m),Ml(m,m.return);break;case 12:qi(f,m,a);break;case 13:qi(f,m,a),a&&E&4&&pv(f,m);break;case 22:m.memoizedState===null&&qi(f,m,a),Ml(m,m.return);break;case 30:break;default:qi(f,m,a)}i=i.sibling}}function Zd(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&_l(a))}function Jd(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&_l(n))}function vr(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)_v(n,i,a,l),i=i.sibling}function _v(n,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:vr(n,i,a,l),f&2048&&xl(9,i);break;case 1:vr(n,i,a,l);break;case 3:vr(n,i,a,l),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&_l(n)));break;case 12:if(f&2048){vr(n,i,a,l),n=i.stateNode;try{var m=i.memoizedProps,E=m.id,T=m.onPostCommit;typeof T=="function"&&T(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){nt(i,i.return,I)}}else vr(n,i,a,l);break;case 13:vr(n,i,a,l);break;case 23:break;case 22:m=i.stateNode,E=i.alternate,i.memoizedState!==null?m._visibility&2?vr(n,i,a,l):kl(n,i):m._visibility&2?vr(n,i,a,l):(m._visibility|=2,eo(n,i,a,l,(i.subtreeFlags&10256)!==0)),f&2048&&Zd(E,i);break;case 24:vr(n,i,a,l),f&2048&&Jd(i.alternate,i);break;default:vr(n,i,a,l)}}function eo(n,i,a,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,E=i,T=a,I=l,H=E.flags;switch(E.tag){case 0:case 11:case 15:eo(m,E,T,I,f),xl(8,E);break;case 23:break;case 22:var Y=E.stateNode;E.memoizedState!==null?Y._visibility&2?eo(m,E,T,I,f):kl(m,E):(Y._visibility|=2,eo(m,E,T,I,f)),f&&H&2048&&Zd(E.alternate,E);break;case 24:eo(m,E,T,I,f),f&&H&2048&&Jd(E.alternate,E);break;default:eo(m,E,T,I,f)}i=i.sibling}}function kl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,f=l.flags;switch(l.tag){case 22:kl(a,l),f&2048&&Zd(l.alternate,l);break;case 24:kl(a,l),f&2048&&Jd(l.alternate,l);break;default:kl(a,l)}i=i.sibling}}var Vl=8192;function to(n){if(n.subtreeFlags&Vl)for(n=n.child;n!==null;)vv(n),n=n.sibling}function vv(n){switch(n.tag){case 26:to(n),n.flags&Vl&&n.memoizedState!==null&&Fw(Kn,n.memoizedState,n.memoizedProps);break;case 5:to(n);break;case 3:case 4:var i=Kn;Kn=Zc(n.stateNode.containerInfo),to(n),Kn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Vl,Vl=16777216,to(n),Vl=i):to(n));break;default:to(n)}}function Ev(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Pl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,Sv(l,n)}Ev(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Tv(n),n=n.sibling}function Tv(n){switch(n.tag){case 0:case 11:case 15:Pl(n),n.flags&2048&&Bi(9,n,n.return);break;case 3:Pl(n);break;case 12:Pl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Bc(n)):Pl(n);break;default:Pl(n)}}function Bc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,Sv(l,n)}Ev(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Bi(8,i,i.return),Bc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Bc(i));break;default:Bc(i)}n=n.sibling}}function Sv(n,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Bi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_l(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=n;Ut!==null;){l=Ut;var f=l.sibling,m=l.return;if(dv(l),l===a){Ut=null;break e}if(f!==null){f.return=m,Ut=f;break e}Ut=m}}}var aw={getCacheForType:function(n){var i=Wt(xt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},ow=typeof WeakMap=="function"?WeakMap:Map,Qe=0,it=null,Me=null,ze=0,Ye=0,Tn=null,Hi=!1,no=!1,em=!1,ri=0,pt=0,Fi=0,na=0,tm=0,Pn=0,ro=0,Ll=null,fn=null,nm=!1,rm=0,zc=1/0,qc=null,Gi=null,Ft=0,$i=null,io=null,so=0,im=0,sm=null,Av=null,Ul=0,am=null;function Sn(){if((Qe&2)!==0&&ze!==0)return ze&-ze;if(Q.T!==null){var n=$a;return n!==0?n:dm()}return Ci()}function bv(){Pn===0&&(Pn=(ze&536870912)===0||Fe?Ko():536870912);var n=Vn.current;return n!==null&&(n.flags|=32),Pn}function An(n,i,a){(n===it&&(Ye===2||Ye===9)||n.cancelPendingCommit!==null)&&(ao(n,0),Ki(n,ze,Pn,!1)),Vr(n,a),((Qe&2)===0||n!==it)&&(n===it&&((Qe&2)===0&&(na|=a),pt===4&&Ki(n,ze,Pn,!1)),Er(n))}function Rv(n,i,a){if((Qe&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&n.expiredLanes)===0||Is(n,i),f=l?cw(n,i):um(n,i,!0),m=l;do{if(f===0){no&&!l&&Ki(n,i,0,!1);break}else{if(a=n.current.alternate,m&&!lw(a)){f=um(n,i,!1),m=!1;continue}if(f===2){if(m=i,n.errorRecoveryDisabledLanes&m)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var T=n;f=Ll;var I=T.current.memoizedState.isDehydrated;if(I&&(ao(T,E).flags|=256),E=um(T,E,!1),E!==2){if(em&&!I){T.errorRecoveryDisabledLanes|=m,na|=m,f=4;break e}m=fn,fn=f,m!==null&&(fn===null?fn=m:fn.push.apply(fn,m))}f=E}if(m=!1,f!==2)continue}}if(f===1){ao(n,0),Ki(n,i,0,!0);break}e:{switch(l=n,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ki(l,i,Pn,!Hi);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=rm+300-Yt(),10<f)){if(Ki(l,i,Pn,!Hi),Aa(l,0,!0)!==0)break e;l.timeoutHandle=eE(wv.bind(null,l,a,fn,qc,nm,i,Pn,na,ro,Hi,m,2,-0,0),f);break e}wv(l,a,fn,qc,nm,i,Pn,na,ro,Hi,m,0,-0,0)}}break}while(!0);Er(n)}function wv(n,i,a,l,f,m,E,T,I,H,Y,te,F,$){if(n.timeoutHandle=-1,te=i.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Gl={stylesheets:null,count:0,unsuspend:Hw},vv(i),te=Gw(),te!==null)){n.cancelPendingCommit=te(Mv.bind(null,n,i,m,a,l,f,E,T,I,Y,1,F,$)),Ki(n,m,E,!H);return}Mv(n,i,m,a,l,f,E,T,I)}function lw(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!yn(m(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ki(n,i,a,l){i&=~tm,i&=~na,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var f=i;0<f;){var m=31-Xt(f),E=1<<m;l[m]=-1,f&=~E}a!==0&&sr(n,a,i)}function Hc(){return(Qe&6)===0?(jl(0),!1):!0}function om(){if(Me!==null){if(Ye===0)var n=Me.return;else n=Me,Yr=Xs=null,bd(n),Za=null,Nl=0,n=Me;for(;n!==null;)sv(n.alternate,n),n=n.return;Me=null}}function ao(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,ww(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),om(),it=n,Me=a=$r(n.current,null),ze=i,Ye=0,Tn=null,Hi=!1,no=Is(n,i),em=!1,ro=Pn=tm=na=Fi=pt=0,fn=Ll=null,nm=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var f=31-Xt(l),m=1<<f;i|=n[f],l&=~m}return ri=i,hc(),a}function Cv(n,i){De=null,Q.H=Dc,i===El||i===Ec?(i=Fy(),Ye=3):i===zy?(i=Fy(),Ye=4):Ye=i===G_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,Me===null&&(pt=1,Vc(n,On(i,n.current)))}function Iv(){var n=Q.H;return Q.H=Dc,n===null?Dc:n}function Nv(){var n=Q.A;return Q.A=aw,n}function lm(){pt=4,Hi||(ze&4194048)!==ze&&Vn.current!==null||(no=!0),(Fi&134217727)===0&&(na&134217727)===0||it===null||Ki(it,ze,Pn,!1)}function um(n,i,a){var l=Qe;Qe|=2;var f=Iv(),m=Nv();(it!==n||ze!==i)&&(qc=null,ao(n,i)),i=!1;var E=pt;e:do try{if(Ye!==0&&Me!==null){var T=Me,I=Tn;switch(Ye){case 8:om(),E=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(i=!0);var H=Ye;if(Ye=0,Tn=null,oo(n,T,I,H),a&&no){E=0;break e}break;default:H=Ye,Ye=0,Tn=null,oo(n,T,I,H)}}uw(),E=pt;break}catch(Y){Cv(n,Y)}while(!0);return i&&n.shellSuspendCounter++,Yr=Xs=null,Qe=l,Q.H=f,Q.A=m,Me===null&&(it=null,ze=0,hc()),E}function uw(){for(;Me!==null;)Dv(Me)}function cw(n,i){var a=Qe;Qe|=2;var l=Iv(),f=Nv();it!==n||ze!==i?(qc=null,zc=Yt()+500,ao(n,i)):no=Is(n,i);e:do try{if(Ye!==0&&Me!==null){i=Me;var m=Tn;t:switch(Ye){case 1:Ye=0,Tn=null,oo(n,i,m,1);break;case 2:case 9:if(qy(m)){Ye=0,Tn=null,Ov(i);break}i=function(){Ye!==2&&Ye!==9||it!==n||(Ye=7),Er(n)},m.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:qy(m)?(Ye=0,Tn=null,Ov(i)):(Ye=0,Tn=null,oo(n,i,m,7));break;case 5:var E=null;switch(Me.tag){case 26:E=Me.memoizedState;case 5:case 27:var T=Me;if(!E||fE(E)){Ye=0,Tn=null;var I=T.sibling;if(I!==null)Me=I;else{var H=T.return;H!==null?(Me=H,Fc(H)):Me=null}break t}}Ye=0,Tn=null,oo(n,i,m,5);break;case 6:Ye=0,Tn=null,oo(n,i,m,6);break;case 8:om(),pt=6;break e;default:throw Error(s(462))}}hw();break}catch(Y){Cv(n,Y)}while(!0);return Yr=Xs=null,Q.H=l,Q.A=f,Qe=a,Me!==null?0:(it=null,ze=0,hc(),pt)}function hw(){for(;Me!==null&&!tt();)Dv(Me)}function Dv(n){var i=rv(n.alternate,n,ri);n.memoizedProps=n.pendingProps,i===null?Fc(n):Me=i}function Ov(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=W_(a,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=W_(a,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:bd(i);default:sv(a,i),i=Me=xy(i,ri),i=rv(a,i,ri)}n.memoizedProps=n.pendingProps,i===null?Fc(n):Me=i}function oo(n,i,a,l){Yr=Xs=null,bd(i),Za=null,Nl=0;var f=i.return;try{if(ew(n,f,i,a,ze)){pt=1,Vc(n,On(a,n.current)),Me=null;return}}catch(m){if(f!==null)throw Me=f,m;pt=1,Vc(n,On(a,n.current)),Me=null;return}i.flags&32768?(Fe||l===1?n=!0:no||(ze&536870912)!==0?n=!1:(Hi=n=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),xv(i,n)):Fc(i)}function Fc(n){var i=n;do{if((i.flags&32768)!==0){xv(i,Hi);return}n=i.return;var a=nw(i.alternate,i,ri);if(a!==null){Me=a;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=n}while(i!==null);pt===0&&(pt=5)}function xv(n,i){do{var a=rw(n.alternate,n);if(a!==null){a.flags&=32767,Me=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Me=n;return}Me=n=a}while(n!==null);pt=6,Me=null}function Mv(n,i,a,l,f,m,E,T,I){n.cancelPendingCommit=null;do Gc();while(Ft!==0);if((Qe&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=Jf,Yo(n,a,m,E,T,I),n===it&&(Me=it=null,ze=0),io=i,$i=n,so=a,im=m,sm=f,Av=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,pw(bs,function(){return Uv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=se.p,se.p=2,E=Qe,Qe|=4;try{iw(n,i,a)}finally{Qe=E,se.p=f,Q.T=l}}Ft=1,kv(),Vv(),Pv()}}function kv(){if(Ft===1){Ft=0;var n=$i,i=io,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var f=Qe;Qe|=4;try{gv(i,n);var m=Tm,E=Sy(n.containerInfo),T=m.focusedElem,I=m.selectionRange;if(E!==T&&T&&T.ownerDocument&&Ty(T.ownerDocument.documentElement,T)){if(I!==null&&Qf(T)){var H=I.start,Y=I.end;if(Y===void 0&&(Y=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(Y,T.value.length);else{var te=T.ownerDocument||document,F=te&&te.defaultView||window;if(F.getSelection){var $=F.getSelection(),Ae=T.textContent.length,_e=Math.min(I.start,Ae),et=I.end===void 0?_e:Math.min(I.end,Ae);!$.extend&&_e>et&&(E=et,et=_e,_e=E);var j=Ey(T,_e),k=Ey(T,et);if(j&&k&&($.rangeCount!==1||$.anchorNode!==j.node||$.anchorOffset!==j.offset||$.focusNode!==k.node||$.focusOffset!==k.offset)){var q=te.createRange();q.setStart(j.node,j.offset),$.removeAllRanges(),_e>et?($.addRange(q),$.extend(k.node,k.offset)):(q.setEnd(k.node,k.offset),$.addRange(q))}}}}for(te=[],$=T;$=$.parentNode;)$.nodeType===1&&te.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<te.length;T++){var Z=te[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}rh=!!Em,Tm=Em=null}finally{Qe=f,se.p=l,Q.T=a}}n.current=i,Ft=2}}function Vv(){if(Ft===2){Ft=0;var n=$i,i=io,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var f=Qe;Qe|=4;try{fv(n,i.alternate,i)}finally{Qe=f,se.p=l,Q.T=a}}Ft=3}}function Pv(){if(Ft===4||Ft===3){Ft=0,As();var n=$i,i=io,a=so,l=Av;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ft=5:(Ft=0,io=$i=null,Lv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Gi=null),ba(a),i=i.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(dt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,f=se.p,se.p=2,Q.T=null;try{for(var m=n.onRecoverableError,E=0;E<l.length;E++){var T=l[E];m(T.value,{componentStack:T.stack})}}finally{Q.T=i,se.p=f}}(so&3)!==0&&Gc(),Er(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===am?Ul++:(Ul=0,am=n):Ul=0,jl(0)}}function Lv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,_l(i)))}function Gc(n){return kv(),Vv(),Pv(),Uv()}function Uv(){if(Ft!==5)return!1;var n=$i,i=im;im=0;var a=ba(so),l=Q.T,f=se.p;try{se.p=32>a?32:a,Q.T=null,a=sm,sm=null;var m=$i,E=so;if(Ft=0,io=$i=null,so=0,(Qe&6)!==0)throw Error(s(331));var T=Qe;if(Qe|=4,Tv(m.current),_v(m,m.current,E,a),Qe=T,jl(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(dt,m)}catch{}return!0}finally{se.p=f,Q.T=l,Lv(n,i)}}function jv(n,i,a){i=On(a,i),i=Ud(n.stateNode,i,2),n=Pi(n,i,2),n!==null&&(Vr(n,2),Er(n))}function nt(n,i,a){if(n.tag===3)jv(n,n,a);else for(;i!==null;){if(i.tag===3){jv(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gi===null||!Gi.has(l))){n=On(a,n),a=H_(2),l=Pi(i,a,2),l!==null&&(F_(a,l,i,n),Vr(l,2),Er(l));break}}i=i.return}}function cm(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new ow;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(em=!0,f.add(a),n=fw.bind(null,n,i,a),i.then(n,n))}function fw(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,it===n&&(ze&a)===a&&(pt===4||pt===3&&(ze&62914560)===ze&&300>Yt()-rm?(Qe&2)===0&&ao(n,0):tm|=a,ro===ze&&(ro=0)),Er(n)}function Bv(n,i){i===0&&(i=Qo()),n=qa(n,i),n!==null&&(Vr(n,i),Er(n))}function dw(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Bv(n,a)}function mw(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Bv(n,a)}function pw(n,i){return qn(n,i)}var $c=null,lo=null,hm=!1,Kc=!1,fm=!1,ra=0;function Er(n){n!==lo&&n.next===null&&(lo===null?$c=lo=n:lo=lo.next=n),Kc=!0,hm||(hm=!0,yw())}function jl(n,i){if(!fm&&Kc){fm=!0;do for(var a=!1,l=$c;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var E=l.suspendedLanes,T=l.pingedLanes;m=(1<<31-Xt(42|n)+1)-1,m&=f&~(E&~T),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Fv(l,m))}else m=ze,m=Aa(l,l===it?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Is(l,m)||(a=!0,Fv(l,m));l=l.next}while(a);fm=!1}}function gw(){zv()}function zv(){Kc=hm=!1;var n=0;ra!==0&&(Rw()&&(n=ra),ra=0);for(var i=Yt(),a=null,l=$c;l!==null;){var f=l.next,m=qv(l,i);m===0?(l.next=null,a===null?$c=f:a.next=f,f===null&&(lo=a)):(a=l,(n!==0||(m&3)!==0)&&(Kc=!0)),l=f}jl(n)}function qv(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var E=31-Xt(m),T=1<<E,I=f[E];I===-1?((T&a)===0||(T&l)!==0)&&(f[E]=$o(T,i)):I<=i&&(n.expiredLanes|=T),m&=~T}if(i=it,a=ze,a=Aa(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(Ye===2||Ye===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Rn(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Is(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&Rn(l),ba(a)){case 2:case 8:a=Ta;break;case 32:a=bs;break;case 268435456:a=Sa;break;default:a=bs}return l=Hv.bind(null,n),a=qn(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&Rn(l),n.callbackPriority=2,n.callbackNode=null,2}function Hv(n,i){if(Ft!==0&&Ft!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Gc()&&n.callbackNode!==a)return null;var l=ze;return l=Aa(n,n===it?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Rv(n,l,i),qv(n,Yt()),n.callbackNode!=null&&n.callbackNode===a?Hv.bind(null,n):null)}function Fv(n,i){if(Gc())return null;Rv(n,i,!0)}function yw(){Cw(function(){(Qe&6)!==0?qn(Fo,gw):zv()})}function dm(){return ra===0&&(ra=Ko()),ra}function Gv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Da(""+n)}function $v(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function _w(n,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var m=Gv((f[Tt]||null).action),E=l.submitter;E&&(i=(i=E[Tt]||null)?Gv(i.formAction):E.getAttribute("formAction"),i!==null&&(m=i,E=null));var T=new Oa("action","action",null,l,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ra!==0){var I=E?$v(f,E):new FormData(f);Md(a,{pending:!0,data:I,method:f.method,action:m},null,I)}}else typeof m=="function"&&(T.preventDefault(),I=E?$v(f,E):new FormData(f),Md(a,{pending:!0,data:I,method:f.method,action:m},m,I))},currentTarget:f}]})}}for(var mm=0;mm<Zf.length;mm++){var pm=Zf[mm],vw=pm.toLowerCase(),Ew=pm[0].toUpperCase()+pm.slice(1);$n(vw,"on"+Ew)}$n(Ry,"onAnimationEnd"),$n(wy,"onAnimationIteration"),$n(Cy,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(LR,"onTransitionRun"),$n(UR,"onTransitionStart"),$n(jR,"onTransitionCancel"),$n(Iy,"onTransitionEnd"),Lr("onMouseEnter",["mouseout","mouseover"]),Lr("onMouseLeave",["mouseout","mouseover"]),Lr("onPointerEnter",["pointerout","pointerover"]),Lr("onPointerLeave",["pointerout","pointerover"]),Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function Kv(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var E=l.length-1;0<=E;E--){var T=l[E],I=T.instance,H=T.currentTarget;if(T=T.listener,I!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=H;try{m(f)}catch(Y){kc(Y)}f.currentTarget=null,m=I}else for(E=0;E<l.length;E++){if(T=l[E],I=T.instance,H=T.currentTarget,T=T.listener,I!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=H;try{m(f)}catch(Y){kc(Y)}f.currentTarget=null,m=I}}}}function ke(n,i){var a=i[Wo];a===void 0&&(a=i[Wo]=new Set);var l=n+"__bubble";a.has(l)||(Qv(i,n,2,!1),a.add(l))}function gm(n,i,a){var l=0;i&&(l|=4),Qv(a,n,l,i)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function ym(n){if(!n[Qc]){n[Qc]=!0,Zo.forEach(function(a){a!=="selectionchange"&&(Tw.has(a)||gm(a,!1,n),gm(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Qc]||(i[Qc]=!0,gm("selectionchange",!1,i))}}function Qv(n,i,a,l){switch(_E(i)){case 2:var f=Qw;break;case 8:f=Yw;break;default:f=Om}a=f.bind(null,i,a,n),f=void 0,!Nn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function _m(n,i,a,l,f){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===f)break;if(E===4)for(E=l.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;T!==null;){if(E=Pr(T),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){l=m=E;continue e}T=T.parentNode}}l=l.return}Xu(function(){var H=m,Y=In(a),te=[];e:{var F=Ny.get(n);if(F!==void 0){var $=Oa,Ae=n;switch(n){case"keypress":if(hr(a)===0)break e;case"keydown":case"keyup":$=La;break;case"focusin":Ae="focus",$=ka;break;case"focusout":Ae="blur",$=ka;break;case"beforeblur":case"afterblur":$=ka;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Ff;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=ic;break;case Ry:case wy:case Cy:$=Va;break;case Iy:$=ac;break;case"scroll":case"scrollend":$=Wu;break;case"wheel":$=Ua;break;case"copy":case"cut":case"paste":$=Pa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=cl;break;case"toggle":case"beforetoggle":$=lc}var _e=(i&4)!==0,et=!_e&&(n==="scroll"||n==="scrollend"),j=_e?F!==null?F+"Capture":null:F;_e=[];for(var k=H,q;k!==null;){var Z=k;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||j===null||(Z=Ps(k,j),Z!=null&&_e.push(zl(k,Z,q))),et)break;k=k.return}0<_e.length&&(F=new $(F,Ae,null,a,Y),te.push({event:F,listeners:_e}))}}if((i&7)===0){e:{if(F=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",F&&a!==Br&&(Ae=a.relatedTarget||a.fromElement)&&(Pr(Ae)||Ae[wn]))break e;if(($||F)&&(F=Y.window===Y?Y:(F=Y.ownerDocument)?F.defaultView||F.parentWindow:window,$?(Ae=a.relatedTarget||a.toElement,$=H,Ae=Ae?Pr(Ae):null,Ae!==null&&(et=u(Ae),_e=Ae.tag,Ae!==et||_e!==5&&_e!==27&&_e!==6)&&(Ae=null)):($=null,Ae=H),$!==Ae)){if(_e=Dn,Z="onMouseLeave",j="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(_e=cl,Z="onPointerLeave",j="onPointerEnter",k="pointer"),et=$==null?F:or($),q=Ae==null?F:or(Ae),F=new _e(Z,k+"leave",$,a,Y),F.target=et,F.relatedTarget=q,Z=null,Pr(Y)===H&&(_e=new _e(j,k+"enter",Ae,a,Y),_e.target=q,_e.relatedTarget=et,Z=_e),et=Z,$&&Ae)t:{for(_e=$,j=Ae,k=0,q=_e;q;q=uo(q))k++;for(q=0,Z=j;Z;Z=uo(Z))q++;for(;0<k-q;)_e=uo(_e),k--;for(;0<q-k;)j=uo(j),q--;for(;k--;){if(_e===j||j!==null&&_e===j.alternate)break t;_e=uo(_e),j=uo(j)}_e=null}else _e=null;$!==null&&Yv(te,F,$,_e,!1),Ae!==null&&et!==null&&Yv(te,et,Ae,_e,!0)}}e:{if(F=H?or(H):window,$=F.nodeName&&F.nodeName.toLowerCase(),$==="select"||$==="input"&&F.type==="file")var pe=my;else if(Ot(F))if(py)pe=kR;else{pe=xR;var xe=OR}else $=F.nodeName,!$||$.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&rl(H.elementType)&&(pe=my):pe=MR;if(pe&&(pe=pe(n,H))){Gr(te,pe,a,Y);break e}xe&&xe(n,F,H),n==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&Oi(F,"number",F.value)}switch(xe=H?or(H):window,n){case"focusin":(Ot(xe)||xe.contentEditable==="true")&&(ja=xe,Yf=H,dl=null);break;case"focusout":dl=Yf=ja=null;break;case"mousedown":Xf=!0;break;case"contextmenu":case"mouseup":case"dragend":Xf=!1,Ay(te,a,Y);break;case"selectionchange":if(PR)break;case"keydown":case"keyup":Ay(te,a,Y)}var ge;if(mr)e:{switch(n){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else je?K(n,a)&&(ve="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(v&&a.locale!=="ko"&&(je||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&je&&(ge=sl()):(cr=Y,xi="value"in cr?cr.value:cr.textContent,je=!0)),xe=Yc(H,ve),0<xe.length&&(ve=new ll(ve,n,null,a,Y),te.push({event:ve,listeners:xe}),ge?ve.data=ge:(ge=ae(a),ge!==null&&(ve.data=ge)))),(ge=y?Dt(n,a):Be(n,a))&&(ve=Yc(H,"onBeforeInput"),0<ve.length&&(xe=new ll("onBeforeInput","beforeinput",null,a,Y),te.push({event:xe,listeners:ve}),xe.data=ge)),_w(te,n,H,a,Y)}Kv(te,i)})}function zl(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Yc(n,i){for(var a=i+"Capture",l=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ps(n,a),f!=null&&l.unshift(zl(n,f,m)),f=Ps(n,i),f!=null&&l.push(zl(n,f,m))),n.tag===3)return l;n=n.return}return[]}function uo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Yv(n,i,a,l,f){for(var m=i._reactName,E=[];a!==null&&a!==l;){var T=a,I=T.alternate,H=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||H===null||(I=H,f?(H=Ps(a,m),H!=null&&E.unshift(zl(a,H,I))):f||(H=Ps(a,m),H!=null&&E.push(zl(a,H,I)))),a=a.return}E.length!==0&&n.push({event:i,listeners:E})}var Sw=/\r\n?/g,Aw=/\u0000|\uFFFD/g;function Xv(n){return(typeof n=="string"?n:""+n).replace(Sw,`
`).replace(Aw,"")}function Wv(n,i){return i=Xv(i),Xv(n)===i}function Xc(){}function Je(n,i,a,l,f,m){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Cn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Cn(n,""+l);break;case"className":lr(n,"class",l);break;case"tabIndex":lr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(n,a,l);break;case"style":nl(n,l,m);break;case"data":if(i!=="object"){lr(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Da(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&Je(n,i,"name",f.name,f,null),Je(n,i,"formEncType",f.formEncType,f,null),Je(n,i,"formMethod",f.formMethod,f,null),Je(n,i,"formTarget",f.formTarget,f,null)):(Je(n,i,"encType",f.encType,f,null),Je(n,i,"method",f.method,f,null),Je(n,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Da(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Xc);break;case"onScroll":l!=null&&ke("scroll",n);break;case"onScrollEnd":l!=null&&ke("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Da(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":ke("beforetoggle",n),ke("toggle",n),Di(n,"popover",l);break;case"xlinkActuate":zt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Di(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=qf.get(a)||a,Di(n,a,l))}}function vm(n,i,a,l,f,m){switch(a){case"style":nl(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Cn(n,l):(typeof l=="number"||typeof l=="bigint")&&Cn(n,""+l);break;case"onScroll":l!=null&&ke("scroll",n);break;case"onScrollEnd":l!=null&&ke("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ra.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),m=n[Tt]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(i,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Di(n,a,l)}}}function Gt(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",n),ke("load",n);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var E=a[m];if(E!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(n,i,m,E,a,null)}}f&&Je(n,i,"srcSet",a.srcSet,a,null),l&&Je(n,i,"src",a.src,a,null);return;case"input":ke("invalid",n);var T=m=E=f=null,I=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":E=Y;break;case"checked":I=Y;break;case"defaultChecked":H=Y;break;case"value":m=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Je(n,i,l,Y,a,null)}}Ms(n,m,T,I,H,E,f,!1),Na(n);return;case"select":ke("invalid",n),l=E=m=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":m=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:Je(n,i,f,T,a,null)}i=m,a=E,n.multiple=!!l,i!=null?jr(n,!!l,i,!1):a!=null&&jr(n,!!l,a,!0);return;case"textarea":ke("invalid",n),m=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(T=a[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":f=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Je(n,i,E,T,a,null)}ks(n,l,f,m),Na(n);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(n,i,I,l,a,null)}return;case"dialog":ke("beforetoggle",n),ke("toggle",n),ke("cancel",n),ke("close",n);break;case"iframe":case"object":ke("load",n);break;case"video":case"audio":for(l=0;l<Bl.length;l++)ke(Bl[l],n);break;case"image":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"embed":case"source":case"link":ke("error",n),ke("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(n,i,H,l,a,null)}return;default:if(rl(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&vm(n,i,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Je(n,i,T,l,a,null))}function bw(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,T=null,I=null,H=null,Y=null;for($ in a){var te=a[$];if(a.hasOwnProperty($)&&te!=null)switch($){case"checked":break;case"value":break;case"defaultValue":I=te;default:l.hasOwnProperty($)||Je(n,i,$,null,l,te)}}for(var F in l){var $=l[F];if(te=a[F],l.hasOwnProperty(F)&&($!=null||te!=null))switch(F){case"type":m=$;break;case"name":f=$;break;case"checked":H=$;break;case"defaultChecked":Y=$;break;case"value":E=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$!==te&&Je(n,i,F,$,l,te)}}gn(n,E,T,I,H,Y,m,f);return;case"select":$=E=T=F=null;for(m in a)if(I=a[m],a.hasOwnProperty(m)&&I!=null)switch(m){case"value":break;case"multiple":$=I;default:l.hasOwnProperty(m)||Je(n,i,m,null,l,I)}for(f in l)if(m=l[f],I=a[f],l.hasOwnProperty(f)&&(m!=null||I!=null))switch(f){case"value":F=m;break;case"defaultValue":T=m;break;case"multiple":E=m;default:m!==I&&Je(n,i,f,m,l,I)}i=T,a=E,l=$,F!=null?jr(n,!!a,F,!1):!!l!=!!a&&(i!=null?jr(n,!!a,i,!0):jr(n,!!a,a?[]:"",!1));return;case"textarea":$=F=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(n,i,T,null,l,f)}for(E in l)if(f=l[E],m=a[E],l.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":F=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Je(n,i,E,f,l,m)}We(n,F,$);return;case"option":for(var Ae in a)if(F=a[Ae],a.hasOwnProperty(Ae)&&F!=null&&!l.hasOwnProperty(Ae))switch(Ae){case"selected":n.selected=!1;break;default:Je(n,i,Ae,null,l,F)}for(I in l)if(F=l[I],$=a[I],l.hasOwnProperty(I)&&F!==$&&(F!=null||$!=null))switch(I){case"selected":n.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Je(n,i,I,F,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)F=a[_e],a.hasOwnProperty(_e)&&F!=null&&!l.hasOwnProperty(_e)&&Je(n,i,_e,null,l,F);for(H in l)if(F=l[H],$=a[H],l.hasOwnProperty(H)&&F!==$&&(F!=null||$!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Je(n,i,H,F,l,$)}return;default:if(rl(i)){for(var et in a)F=a[et],a.hasOwnProperty(et)&&F!==void 0&&!l.hasOwnProperty(et)&&vm(n,i,et,void 0,l,F);for(Y in l)F=l[Y],$=a[Y],!l.hasOwnProperty(Y)||F===$||F===void 0&&$===void 0||vm(n,i,Y,F,l,$);return}}for(var j in a)F=a[j],a.hasOwnProperty(j)&&F!=null&&!l.hasOwnProperty(j)&&Je(n,i,j,null,l,F);for(te in l)F=l[te],$=a[te],!l.hasOwnProperty(te)||F===$||F==null&&$==null||Je(n,i,te,F,l,$)}var Em=null,Tm=null;function Wc(n){return n.nodeType===9?n:n.ownerDocument}function Zv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jv(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Sm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Am=null;function Rw(){var n=window.event;return n&&n.type==="popstate"?n===Am?!1:(Am=n,!0):(Am=null,!1)}var eE=typeof setTimeout=="function"?setTimeout:void 0,ww=typeof clearTimeout=="function"?clearTimeout:void 0,tE=typeof Promise=="function"?Promise:void 0,Cw=typeof queueMicrotask=="function"?queueMicrotask:typeof tE<"u"?function(n){return tE.resolve(null).then(n).catch(Iw)}:eE;function Iw(n){setTimeout(function(){throw n})}function Qi(n){return n==="head"}function nE(n,i){var a=i,l=0,f=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&ql(E.documentElement),a&2&&ql(E.body),a&4)for(a=E.head,ql(a),E=a.firstChild;E;){var T=E.nextSibling,I=E.nodeName;E[Ns]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=T}}if(f===0){n.removeChild(m),Xl(i);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);Xl(i)}function bm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bm(a),Ni(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function Nw(n,i,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Ns])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Qn(n.nextSibling),n===null)break}return null}function Dw(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Qn(n.nextSibling),n===null))return null;return n}function Rm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Ow(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Qn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var wm=null;function rE(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function iE(n,i,a){switch(i=Wc(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function ql(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Ni(n)}var Ln=new Map,sE=new Set;function Zc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ii=se.d;se.d={f:xw,r:Mw,D:kw,C:Vw,L:Pw,m:Lw,X:jw,S:Uw,M:Bw};function xw(){var n=ii.f(),i=Hc();return n||i}function Mw(n){var i=ar(n);i!==null&&i.tag===5&&i.type==="form"?R_(i):ii.r(n)}var co=typeof document>"u"?null:document;function aE(n,i,a){var l=co;if(l&&typeof i=="string"&&i){var f=St(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),sE.has(f)||(sE.add(f),n={rel:n,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Gt(i,"link",n),gt(i),l.head.appendChild(i)))}}function kw(n){ii.D(n),aE("dns-prefetch",n,null)}function Vw(n,i){ii.C(n,i),aE("preconnect",n,i)}function Pw(n,i,a){ii.L(n,i,a);var l=co;if(l&&n&&i){var f='link[rel="preload"][as="'+St(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+St(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+St(a.imageSizes)+'"]')):f+='[href="'+St(n)+'"]';var m=f;switch(i){case"style":m=ho(n);break;case"script":m=fo(n)}Ln.has(m)||(n=_({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Ln.set(m,n),l.querySelector(f)!==null||i==="style"&&l.querySelector(Hl(m))||i==="script"&&l.querySelector(Fl(m))||(i=l.createElement("link"),Gt(i,"link",n),gt(i),l.head.appendChild(i)))}}function Lw(n,i){ii.m(n,i);var a=co;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+St(l)+'"][href="'+St(n)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=fo(n)}if(!Ln.has(m)&&(n=_({rel:"modulepreload",href:n},i),Ln.set(m,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Fl(m)))return}l=a.createElement("link"),Gt(l,"link",n),gt(l),a.head.appendChild(l)}}}function Uw(n,i,a){ii.S(n,i,a);var l=co;if(l&&n){var f=rn(l).hoistableStyles,m=ho(n);i=i||"default";var E=f.get(m);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(Hl(m)))T.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Ln.get(m))&&Cm(n,a);var I=E=l.createElement("link");gt(I),Gt(I,"link",n),I._p=new Promise(function(H,Y){I.onload=H,I.onerror=Y}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Jc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:T},f.set(m,E)}}}function jw(n,i){ii.X(n,i);var a=co;if(a&&n){var l=rn(a).hoistableScripts,f=fo(n),m=l.get(f);m||(m=a.querySelector(Fl(f)),m||(n=_({src:n,async:!0},i),(i=Ln.get(f))&&Im(n,i),m=a.createElement("script"),gt(m),Gt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Bw(n,i){ii.M(n,i);var a=co;if(a&&n){var l=rn(a).hoistableScripts,f=fo(n),m=l.get(f);m||(m=a.querySelector(Fl(f)),m||(n=_({src:n,async:!0,type:"module"},i),(i=Ln.get(f))&&Im(n,i),m=a.createElement("script"),gt(m),Gt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function oE(n,i,a,l){var f=(f=Se.current)?Zc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ho(a.href),a=rn(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=ho(a.href);var m=rn(f).hoistableStyles,E=m.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,E),(m=f.querySelector(Hl(n)))&&!m._p&&(E.instance=m,E.state.loading=5),Ln.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(n,a),m||zw(f,n,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=fo(a),a=rn(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function ho(n){return'href="'+St(n)+'"'}function Hl(n){return'link[rel="stylesheet"]['+n+"]"}function lE(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function zw(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),gt(i),n.head.appendChild(i))}function fo(n){return'[src="'+St(n)+'"]'}function Fl(n){return"script[async]"+n}function uE(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+St(a.href)+'"]');if(l)return i.instance=l,gt(l),l;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),gt(l),Gt(l,"style",f),Jc(l,a.precedence,n),i.instance=l;case"stylesheet":f=ho(a.href);var m=n.querySelector(Hl(f));if(m)return i.state.loading|=4,i.instance=m,gt(m),m;l=lE(a),(f=Ln.get(f))&&Cm(l,f),m=(n.ownerDocument||n).createElement("link"),gt(m);var E=m;return E._p=new Promise(function(T,I){E.onload=T,E.onerror=I}),Gt(m,"link",l),i.state.loading|=4,Jc(m,a.precedence,n),i.instance=m;case"script":return m=fo(a.src),(f=n.querySelector(Fl(m)))?(i.instance=f,gt(f),f):(l=a,(f=Ln.get(m))&&(l=_({},a),Im(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),gt(f),Gt(f,"link",l),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Jc(l,a.precedence,n));return i.instance}function Jc(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===i)m=T;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Cm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Im(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var eh=null;function cE(n,i,a){if(eh===null){var l=new Map,f=eh=new Map;f.set(a,l)}else f=eh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[Ns]||m[Nt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(i)||"";E=n+E;var T=l.get(E);T?T.push(m):l.set(E,[m])}}return l}function hE(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function qw(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function fE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Gl=null;function Hw(){}function Fw(n,i,a){if(Gl===null)throw Error(s(475));var l=Gl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=ho(a.href),m=n.querySelector(Hl(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=th.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=m,gt(m);return}m=n.ownerDocument||n,a=lE(a),(f=Ln.get(f))&&Cm(a,f),m=m.createElement("link"),gt(m);var E=m;E._p=new Promise(function(T,I){E.onload=T,E.onerror=I}),Gt(m,"link",a),i.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=th.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function Gw(){if(Gl===null)throw Error(s(475));var n=Gl;return n.stylesheets&&n.count===0&&Nm(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&Nm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function th(){if(this.count--,this.count===0){if(this.stylesheets)Nm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var nh=null;function Nm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,nh=new Map,i.forEach($w,n),nh=null,th.call(n))}function $w(n,i){if(!(i.state.loading&4)){var a=nh.get(n);if(a)var l=a.get(null);else{a=new Map,nh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=i.instance,E=f.getAttribute("data-precedence"),m=a.get(E)||l,m===l&&a.set(null,f),a.set(E,f),this.count++,l=th.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var $l={$$typeof:J,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function Kw(n,i,a,l,f,m,E,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kr(0),this.hiddenUpdates=kr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function dE(n,i,a,l,f,m,E,T,I,H,Y,te){return n=new Kw(n,i,a,E,T,I,H,te),i=1,m===!0&&(i|=24),m=_n(3,null,null,i),n.current=m,m.stateNode=n,i=cd(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:i},md(m),n}function mE(n){return n?(n=Ha,n):Ha}function pE(n,i,a,l,f,m){f=mE(f),l.context===null?l.context=f:l.pendingContext=f,l=Vi(i),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Pi(n,l,i),a!==null&&(An(a,n,i),Sl(a,n,i))}function gE(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Dm(n,i){gE(n,i),(n=n.alternate)&&gE(n,i)}function yE(n){if(n.tag===13){var i=qa(n,67108864);i!==null&&An(i,n,67108864),Dm(n,67108864)}}var rh=!0;function Qw(n,i,a,l){var f=Q.T;Q.T=null;var m=se.p;try{se.p=2,Om(n,i,a,l)}finally{se.p=m,Q.T=f}}function Yw(n,i,a,l){var f=Q.T;Q.T=null;var m=se.p;try{se.p=8,Om(n,i,a,l)}finally{se.p=m,Q.T=f}}function Om(n,i,a,l){if(rh){var f=xm(l);if(f===null)_m(n,i,l,ih,a),vE(n,l);else if(Ww(f,n,i,a,l))l.stopPropagation();else if(vE(n,l),i&4&&-1<Xw.indexOf(n)){for(;f!==null;){var m=ar(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=Hn(m.pendingLanes);if(E!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var I=1<<31-Xt(E);T.entanglements[1]|=I,E&=~I}Er(m),(Qe&6)===0&&(zc=Yt()+500,jl(0))}}break;case 13:T=qa(m,2),T!==null&&An(T,m,2),Hc(),Dm(m,2)}if(m=xm(l),m===null&&_m(n,i,l,ih,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else _m(n,i,l,null,a)}}function xm(n){return n=In(n),Mm(n)}var ih=null;function Mm(n){if(ih=null,n=Pr(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=h(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return ih=n,null}function _E(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pf()){case Fo:return 2;case Ta:return 8;case bs:case Lf:return 32;case Sa:return 268435456;default:return 32}default:return 32}}var km=!1,Yi=null,Xi=null,Wi=null,Kl=new Map,Ql=new Map,Zi=[],Xw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vE(n,i){switch(n){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":Kl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(i.pointerId)}}function Yl(n,i,a,l,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},i!==null&&(i=ar(i),i!==null&&yE(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function Ww(n,i,a,l,f){switch(i){case"focusin":return Yi=Yl(Yi,n,i,a,l,f),!0;case"dragenter":return Xi=Yl(Xi,n,i,a,l,f),!0;case"mouseover":return Wi=Yl(Wi,n,i,a,l,f),!0;case"pointerover":var m=f.pointerId;return Kl.set(m,Yl(Kl.get(m)||null,n,i,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Ql.set(m,Yl(Ql.get(m)||null,n,i,a,l,f)),!0}return!1}function EE(n){var i=Pr(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){n.blockedOn=i,Hu(n.priority,function(){if(a.tag===13){var l=Sn();l=wi(l);var f=qa(a,l);f!==null&&An(f,a,l),Dm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function sh(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=xm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Br=l,a.target.dispatchEvent(l),Br=null}else return i=ar(a),i!==null&&yE(i),n.blockedOn=a,!1;i.shift()}return!0}function TE(n,i,a){sh(n)&&a.delete(i)}function Zw(){km=!1,Yi!==null&&sh(Yi)&&(Yi=null),Xi!==null&&sh(Xi)&&(Xi=null),Wi!==null&&sh(Wi)&&(Wi=null),Kl.forEach(TE),Ql.forEach(TE)}function ah(n,i){n.blockedOn===i&&(n.blockedOn=null,km||(km=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Zw)))}var oh=null;function SE(n){oh!==n&&(oh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){oh===n&&(oh=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],f=n[i+2];if(typeof l!="function"){if(Mm(l||a)===null)continue;break}var m=ar(a);m!==null&&(n.splice(i,3),i-=3,Md(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Xl(n){function i(I){return ah(I,n)}Yi!==null&&ah(Yi,n),Xi!==null&&ah(Xi,n),Wi!==null&&ah(Wi,n),Kl.forEach(i),Ql.forEach(i);for(var a=0;a<Zi.length;a++){var l=Zi[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Zi.length&&(a=Zi[0],a.blockedOn===null);)EE(a),a.blockedOn===null&&Zi.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],E=f[Tt]||null;if(typeof m=="function")E||SE(a);else if(E){var T=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[Tt]||null)T=E.formAction;else if(Mm(f)!==null)continue}else T=E.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),SE(a)}}}function Vm(n){this._internalRoot=n}lh.prototype.render=Vm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Sn();pE(a,l,n,i,null,null)},lh.prototype.unmount=Vm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;pE(n.current,2,null,n,null,null),Hc(),i[wn]=null}};function lh(n){this._internalRoot=n}lh.prototype.unstable_scheduleHydration=function(n){if(n){var i=Ci();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Zi.length&&i!==0&&i<Zi[a].priority;a++);Zi.splice(a,0,n),a===0&&EE(n)}};var AE=e.version;if(AE!=="19.1.1")throw Error(s(527,AE,"19.1.1"));se.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var Jw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{dt=uh.inject(Jw),Ke=uh}catch{}}return Zl.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",f=j_,m=B_,E=z_,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=dE(n,1,!1,null,null,a,l,f,m,E,T,null),n[wn]=i.current,ym(n),new Vm(i)},Zl.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,f="",m=j_,E=B_,T=z_,I=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),i=dE(n,1,!0,i,a??null,l,f,m,E,T,I,H),i.context=mE(null),a=i.current,l=Sn(),l=wi(l),f=Vi(l),f.callback=null,Pi(a,f,l),a=l,i.current.lanes=a,Vr(i,a),Er(i),n[wn]=i.current,ym(n),new lh(i)},Zl.version="19.1.1",Zl}var ME;function l1(){if(ME)return Um.exports;ME=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Um.exports=o1(),Um.exports}var u1=l1();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kE="popstate";function c1(r={}){function e(s,o){let{pathname:u,search:h,hash:d}=s.location;return dp("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:pu(o)}return f1(e,t,null,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function er(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function h1(){return Math.random().toString(36).substring(2,10)}function VE(r,e){return{usr:r.state,key:r.key,idx:e}}function dp(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Mo(e):e,state:t,key:e&&e.key||s||h1()}}function pu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Mo(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function f1(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,d="POP",p=null,g=_();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function _(){return(h.state||{idx:null}).idx}function S(){d="POP";let U=_(),W=U==null?null:U-g;g=U,p&&p({action:d,location:G.location,delta:W})}function A(U,W){d="PUSH";let X=dp(G.location,U,W);g=_()+1;let J=VE(X,g),oe=G.createHref(X);try{h.pushState(J,"",oe)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(oe)}u&&p&&p({action:d,location:G.location,delta:1})}function N(U,W){d="REPLACE";let X=dp(G.location,U,W);g=_();let J=VE(X,g),oe=G.createHref(X);h.replaceState(J,"",oe),u&&p&&p({action:d,location:G.location,delta:0})}function P(U){return d1(U)}let G={get action(){return d},get location(){return r(o,h)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(kE,S),p=U,()=>{o.removeEventListener(kE,S),p=null}},createHref(U){return e(o,U)},createURL:P,encodeLocation(U){let W=P(U);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:A,replace:N,go(U){return h.go(U)}};return G}function d1(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ut(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:pu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function j0(r,e,t="/"){return m1(r,e,t,!1)}function m1(r,e,t,s){let o=typeof e=="string"?Mo(e):e,u=_i(o.pathname||"/",t);if(u==null)return null;let h=B0(r);p1(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=w1(u);d=b1(h[p],g,s)}return d}function B0(r,e=[],t=[],s="",o=!1){let u=(h,d,p=o,g)=>{let _={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&p)return;ut(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let S=fi([s,_.relativePath]),A=t.concat(_);h.children&&h.children.length>0&&(ut(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),B0(h.children,e,A,S,p)),!(h.path==null&&!h.index)&&e.push({path:S,score:S1(S,h.index),routesMeta:A})};return r.forEach((h,d)=>{if(h.path===""||!h.path?.includes("?"))u(h,d);else for(let p of z0(h.path))u(h,d,!0,p)}),e}function z0(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=z0(s.join("/")),d=[];return d.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...h),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function p1(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:A1(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var g1=/^:[\w-]+$/,y1=3,_1=2,v1=1,E1=10,T1=-2,PE=r=>r==="*";function S1(r,e){let t=r.split("/"),s=t.length;return t.some(PE)&&(s+=T1),e&&(s+=_1),t.filter(o=>!PE(o)).reduce((o,u)=>o+(g1.test(u)?y1:u===""?v1:E1),s)}function A1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function b1(r,e,t=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",S=Mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),A=p.route;if(!S&&g&&t&&!s[s.length-1].route.index&&(S=Mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:fi([u,S.pathname]),pathnameBase:D1(fi([u,S.pathnameBase])),route:A}),S.pathnameBase!=="/"&&(u=fi([u,S.pathnameBase]))}return h}function Mh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=R1(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:S},A)=>{if(_==="*"){let P=d[A]||"";h=u.slice(0,u.length-P.length).replace(/(.)\/+$/,"$1")}const N=d[A];return S&&!N?g[_]=void 0:g[_]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function R1(r,e=!1,t=!0){er(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function w1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return er(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function _i(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function C1(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?Mo(r):r;return{pathname:t?t.startsWith("/")?t:I1(t,e):e,search:O1(s),hash:x1(o)}}function I1(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function qm(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function N1(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Qp(r){let e=N1(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Yp(r,e,t,s=!1){let o;typeof r=="string"?o=Mo(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),qm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),qm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),qm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=t;else{let S=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),S-=1;o.pathname=A.join("/")}d=S>=0?e[S]:"/"}let p=C1(o,d),g=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var fi=r=>r.join("/").replace(/\/\/+/g,"/"),D1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),O1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,x1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function M1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var q0=["POST","PUT","PATCH","DELETE"];new Set(q0);var k1=["GET",...q0];new Set(k1);var ko=R.createContext(null);ko.displayName="DataRouter";var lf=R.createContext(null);lf.displayName="DataRouterState";R.createContext(!1);var H0=R.createContext({isTransitioning:!1});H0.displayName="ViewTransition";var V1=R.createContext(new Map);V1.displayName="Fetchers";var P1=R.createContext(null);P1.displayName="Await";var nr=R.createContext(null);nr.displayName="Navigation";var wu=R.createContext(null);wu.displayName="Location";var rr=R.createContext({outlet:null,matches:[],isDataRoute:!1});rr.displayName="Route";var Xp=R.createContext(null);Xp.displayName="RouteError";function L1(r,{relative:e}={}){ut(Vo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=R.useContext(nr),{hash:o,pathname:u,search:h}=Cu(r,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:fi([t,u])),s.createHref({pathname:d,search:h,hash:o})}function Vo(){return R.useContext(wu)!=null}function _s(){return ut(Vo(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(wu).location}var F0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function G0(r){R.useContext(nr).static||R.useLayoutEffect(r)}function vs(){let{isDataRoute:r}=R.useContext(rr);return r?X1():U1()}function U1(){ut(Vo(),"useNavigate() may be used only in the context of a <Router> component.");let r=R.useContext(ko),{basename:e,navigator:t}=R.useContext(nr),{matches:s}=R.useContext(rr),{pathname:o}=_s(),u=JSON.stringify(Qp(s)),h=R.useRef(!1);return G0(()=>{h.current=!0}),R.useCallback((p,g={})=>{if(er(h.current,F0),!h.current)return;if(typeof p=="number"){t.go(p);return}let _=Yp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:fi([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,u,o,r])}R.createContext(null);function Wp(){let{matches:r}=R.useContext(rr),e=r[r.length-1];return e?e.params:{}}function Cu(r,{relative:e}={}){let{matches:t}=R.useContext(rr),{pathname:s}=_s(),o=JSON.stringify(Qp(t));return R.useMemo(()=>Yp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function j1(r,e){return $0(r,e)}function $0(r,e,t,s,o){ut(Vo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=R.useContext(nr),{matches:h}=R.useContext(rr),d=h[h.length-1],p=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",S=d&&d.route;{let X=S&&S.path||"";K0(g,!S||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let A=_s(),N;if(e){let X=typeof e=="string"?Mo(e):e;ut(_==="/"||X.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${X.pathname}" was given in the \`location\` prop.`),N=X}else N=A;let P=N.pathname||"/",G=P;if(_!=="/"){let X=_.replace(/^\//,"").split("/");G="/"+P.replace(/^\//,"").split("/").slice(X.length).join("/")}let U=j0(r,{pathname:G});er(S||U!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),er(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=F1(U&&U.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:fi([_,u.encodeLocation?u.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?_:fi([_,u.encodeLocation?u.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),h,t,s,o);return e&&W?R.createElement(wu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},W):W}function B1(){let r=Y1(),e=M1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=R.createElement(R.Fragment,null,R.createElement("p",null,"💿 Hey developer 👋"),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:u},"ErrorBoundary")," or"," ",R.createElement("code",{style:u},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),t?R.createElement("pre",{style:o},t):null,h)}var z1=R.createElement(B1,null),q1=class extends R.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?R.createElement(rr.Provider,{value:this.props.routeContext},R.createElement(Xp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function H1({routeContext:r,match:e,children:t}){let s=R.useContext(ko);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(rr.Provider,{value:r},t)}function F1(r,e=[],t=null,s=null,o=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let u=r,h=t?.errors;if(h!=null){let g=u.findIndex(_=>_.route.id&&h?.[_.route.id]!==void 0);ut(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let d=!1,p=-1;if(t)for(let g=0;g<u.length;g++){let _=u[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:S,errors:A}=t,N=_.route.loader&&!S.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||N){d=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,_,S)=>{let A,N=!1,P=null,G=null;t&&(A=h&&_.route.id?h[_.route.id]:void 0,P=_.route.errorElement||z1,d&&(p<0&&S===0?(K0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,G=null):p===S&&(N=!0,G=_.route.hydrateFallbackElement||null)));let U=e.concat(u.slice(0,S+1)),W=()=>{let X;return A?X=P:N?X=G:_.route.Component?X=R.createElement(_.route.Component,null):_.route.element?X=_.route.element:X=g,R.createElement(H1,{match:_,routeContext:{outlet:g,matches:U,isDataRoute:t!=null},children:X})};return t&&(_.route.ErrorBoundary||_.route.errorElement||S===0)?R.createElement(q1,{location:t.location,revalidation:t.revalidation,component:P,error:A,children:W(),routeContext:{outlet:null,matches:U,isDataRoute:!0},unstable_onError:s}):W()},null)}function Zp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G1(r){let e=R.useContext(ko);return ut(e,Zp(r)),e}function $1(r){let e=R.useContext(lf);return ut(e,Zp(r)),e}function K1(r){let e=R.useContext(rr);return ut(e,Zp(r)),e}function Jp(r){let e=K1(r),t=e.matches[e.matches.length-1];return ut(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function Q1(){return Jp("useRouteId")}function Y1(){let r=R.useContext(Xp),e=$1("useRouteError"),t=Jp("useRouteError");return r!==void 0?r:e.errors?.[t]}function X1(){let{router:r}=G1("useNavigate"),e=Jp("useNavigate"),t=R.useRef(!1);return G0(()=>{t.current=!0}),R.useCallback(async(o,u={})=>{er(t.current,F0),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var LE={};function K0(r,e,t){!e&&!LE[r]&&(LE[r]=!0,er(!1,t))}R.memo(W1);function W1({routes:r,future:e,state:t,unstable_onError:s}){return $0(r,void 0,t,s,e)}function Z1({to:r,replace:e,state:t,relative:s}){ut(Vo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=R.useContext(nr);er(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=R.useContext(rr),{pathname:h}=_s(),d=vs(),p=Yp(r,Qp(u),h,s==="path"),g=JSON.stringify(p);return R.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:s})},[d,g,s,e,t]),null}function si(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function J1({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){ut(!Vo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),d=R.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=Mo(t));let{pathname:p="/",search:g="",hash:_="",state:S=null,key:A="default"}=t,N=R.useMemo(()=>{let P=_i(p,h);return P==null?null:{location:{pathname:P,search:g,hash:_,state:S,key:A},navigationType:s}},[h,p,g,_,S,A,s]);return er(N!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:R.createElement(nr.Provider,{value:d},R.createElement(wu.Provider,{children:e,value:N}))}function eC({children:r,location:e}){return j1(mp(r),e)}function mp(r,e=[]){let t=[];return R.Children.forEach(r,(s,o)=>{if(!R.isValidElement(s))return;let u=[...e,o];if(s.type===R.Fragment){t.push.apply(t,mp(s.props.children,u));return}ut(s.type===si,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=mp(s.props.children,u)),t.push(h)}),t}var Th="get",Sh="application/x-www-form-urlencoded";function uf(r){return r!=null&&typeof r.tagName=="string"}function tC(r){return uf(r)&&r.tagName.toLowerCase()==="button"}function nC(r){return uf(r)&&r.tagName.toLowerCase()==="form"}function rC(r){return uf(r)&&r.tagName.toLowerCase()==="input"}function iC(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function sC(r,e){return r.button===0&&(!e||e==="_self")&&!iC(r)}var ch=null;function aC(){if(ch===null)try{new FormData(document.createElement("form"),0),ch=!1}catch{ch=!0}return ch}var oC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hm(r){return r!=null&&!oC.has(r)?(er(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sh}"`),null):r}function lC(r,e){let t,s,o,u,h;if(nC(r)){let d=r.getAttribute("action");s=d?_i(d,e):null,t=r.getAttribute("method")||Th,o=Hm(r.getAttribute("enctype"))||Sh,u=new FormData(r)}else if(tC(r)||rC(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(s=p?_i(p,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||Th,o=Hm(r.getAttribute("formenctype"))||Hm(d.getAttribute("enctype"))||Sh,u=new FormData(d,r),!aC()){let{name:g,type:_,value:S}=r;if(_==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,S)}}else{if(uf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Th,s=null,o=Sh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function eg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function uC(r,e,t){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&_i(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function cC(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hC(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function fC(r,e,t){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await cC(u,t);return h.links?h.links():[]}return[]}));return gC(s.flat(1).filter(hC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function UE(r,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):u==="data"?e.filter((p,g)=>{let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function dC(r,e,{includeHydrateFallback:t}={}){return mC(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function mC(r){return[...new Set(r)]}function pC(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function gC(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(pC(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function Q0(){let r=R.useContext(ko);return eg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function yC(){let r=R.useContext(lf);return eg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var tg=R.createContext(void 0);tg.displayName="FrameworkContext";function Y0(){let r=R.useContext(tg);return eg(r,"You must render this element inside a <HydratedRouter> element"),r}function _C(r,e){let t=R.useContext(tg),[s,o]=R.useState(!1),[u,h]=R.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:S}=e,A=R.useRef(null);R.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let G=W=>{W.forEach(X=>{h(X.isIntersecting)})},U=new IntersectionObserver(G,{threshold:.5});return A.current&&U.observe(A.current),()=>{U.disconnect()}}},[r]),R.useEffect(()=>{if(s){let G=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(G)}}},[s]);let N=()=>{o(!0)},P=()=>{o(!1),h(!1)};return t?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Jl(d,N),onBlur:Jl(p,P),onMouseEnter:Jl(g,N),onMouseLeave:Jl(_,P),onTouchStart:Jl(S,N)}]:[!1,A,{}]}function Jl(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function vC({page:r,...e}){let{router:t}=Q0(),s=R.useMemo(()=>j0(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?R.createElement(TC,{page:r,matches:s,...e}):null}function EC(r){let{manifest:e,routeModules:t}=Y0(),[s,o]=R.useState([]);return R.useEffect(()=>{let u=!1;return fC(r,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,t]),s}function TC({page:r,matches:e,...t}){let s=_s(),{manifest:o,routeModules:u}=Y0(),{basename:h}=Q0(),{loaderData:d,matches:p}=yC(),g=R.useMemo(()=>UE(r,e,p,o,s,"data"),[r,e,p,o,s]),_=R.useMemo(()=>UE(r,e,p,o,s,"assets"),[r,e,p,o,s]),S=R.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let P=new Set,G=!1;if(e.forEach(W=>{let X=o.routes[W.route.id];!X||!X.hasLoader||(!g.some(J=>J.route.id===W.route.id)&&W.route.id in d&&u[W.route.id]?.shouldRevalidate||X.hasClientLoader?G=!0:P.add(W.route.id))}),P.size===0)return[];let U=uC(r,h,"data");return G&&P.size>0&&U.searchParams.set("_routes",e.filter(W=>P.has(W.route.id)).map(W=>W.route.id).join(",")),[U.pathname+U.search]},[h,d,s,o,g,e,r,u]),A=R.useMemo(()=>dC(_,o),[_,o]),N=EC(_);return R.createElement(R.Fragment,null,S.map(P=>R.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),A.map(P=>R.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),N.map(({key:P,link:G})=>R.createElement("link",{key:P,nonce:t.nonce,...G})))}function SC(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var X0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{X0&&(window.__reactRouterVersion="7.8.2")}catch{}function AC({basename:r,children:e,window:t}){let s=R.useRef();s.current==null&&(s.current=c1({window:t,v5Compat:!0}));let o=s.current,[u,h]=R.useState({action:o.action,location:o.location}),d=R.useCallback(p=>{R.startTransition(()=>h(p))},[h]);return R.useLayoutEffect(()=>o.listen(d),[o,d]),R.createElement(J1,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var W0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Z0=R.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:d,target:p,to:g,preventScrollReset:_,viewTransition:S,...A},N){let{basename:P}=R.useContext(nr),G=typeof g=="string"&&W0.test(g),U,W=!1;if(typeof g=="string"&&G&&(U=g,X0))try{let C=new URL(window.location.href),V=g.startsWith("//")?new URL(C.protocol+g):new URL(g),L=_i(V.pathname,P);V.origin===C.origin&&L!=null?g=L+V.search+V.hash:W=!0}catch{er(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=L1(g,{relative:o}),[J,oe,ue]=_C(s,A),he=CC(g,{replace:h,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:S});function x(C){e&&e(C),C.defaultPrevented||he(C)}let w=R.createElement("a",{...A,...ue,href:U||X,onClick:W||u?e:x,ref:SC(N,oe),target:p,"data-discover":!G&&t==="render"?"true":void 0});return J&&!G?R.createElement(R.Fragment,null,w,R.createElement(vC,{page:X})):w});Z0.displayName="Link";var bC=R.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:d,children:p,...g},_){let S=Cu(h,{relative:g.relative}),A=_s(),N=R.useContext(lf),{navigator:P,basename:G}=R.useContext(nr),U=N!=null&&xC(S)&&d===!0,W=P.encodeLocation?P.encodeLocation(S).pathname:S.pathname,X=A.pathname,J=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(X=X.toLowerCase(),J=J?J.toLowerCase():null,W=W.toLowerCase()),J&&G&&(J=_i(J,G)||J);const oe=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let ue=X===W||!o&&X.startsWith(W)&&X.charAt(oe)==="/",he=J!=null&&(J===W||!o&&J.startsWith(W)&&J.charAt(W.length)==="/"),x={isActive:ue,isPending:he,isTransitioning:U},w=ue?e:void 0,C;typeof s=="function"?C=s(x):C=[s,ue?"active":null,he?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(x):u;return R.createElement(Z0,{...g,"aria-current":w,className:C,ref:_,style:V,to:h,viewTransition:d},typeof p=="function"?p(x):p)});bC.displayName="NavLink";var RC=R.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=Th,action:d,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:S,...A},N)=>{let P=DC(),G=OC(d,{relative:g}),U=h.toLowerCase()==="get"?"get":"post",W=typeof d=="string"&&W0.test(d),X=J=>{if(p&&p(J),J.defaultPrevented)return;J.preventDefault();let oe=J.nativeEvent.submitter,ue=oe?.getAttribute("formmethod")||h;P(oe||J.currentTarget,{fetcherKey:e,method:ue,navigate:t,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:S})};return R.createElement("form",{ref:N,method:U,action:G,onSubmit:s?p:X,...A,"data-discover":!W&&r==="render"?"true":void 0})});RC.displayName="Form";function wC(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function J0(r){let e=R.useContext(ko);return ut(e,wC(r)),e}function CC(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=vs(),p=_s(),g=Cu(r,{relative:u});return R.useCallback(_=>{if(sC(_,e)){_.preventDefault();let S=t!==void 0?t:pu(p)===pu(g);d(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,d,g,t,s,e,r,o,u,h])}var IC=0,NC=()=>`__${String(++IC)}__`;function DC(){let{router:r}=J0("useSubmit"),{basename:e}=R.useContext(nr),t=Q1();return R.useCallback(async(s,o={})=>{let{action:u,method:h,encType:d,formData:p,body:g}=lC(s,e);if(o.navigate===!1){let _=o.fetcherKey||NC();await r.fetch(_,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function OC(r,{relative:e}={}){let{basename:t}=R.useContext(nr),s=R.useContext(rr);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Cu(r||".",{relative:e})},h=_s();if(r==null){u.search=h.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(S=>S).forEach(S=>d.append("index",S));let _=d.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:fi([t,u.pathname])),pu(u)}function xC(r,{relative:e}={}){let t=R.useContext(H0);ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=J0("useViewTransitionState"),o=Cu(r,{relative:e});if(!t.isTransitioning)return!1;let u=_i(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=_i(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Mh(o.pathname,h)!=null||Mh(o.pathname,u)!=null}var MC=U0();const To=of(MC);var Fm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var jE;function kC(){return jE||(jE=1,(function(r){(function(){var e={}.hasOwnProperty;function t(){for(var u="",h=0;h<arguments.length;h++){var d=arguments[h];d&&(u=o(u,s(d)))}return u}function s(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return t.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var h="";for(var d in u)e.call(u,d)&&u[d]&&(h=o(h,d));return h}function o(u,h){return h?u?u+" "+h:u+h:u}r.exports?(t.default=t,r.exports=t):window.classNames=t})()})(Fm)),Fm.exports}var VC=kC();const we=of(VC),PC=["as","disabled"];function LC(r,e){if(r==null)return{};var t={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;t[s]=r[s]}return t}function UC(r){return!r||r.trim()==="#"}function ng({tagName:r,disabled:e,href:t,target:s,rel:o,role:u,onClick:h,tabIndex:d=0,type:p}){r||(t!=null||s!=null||o!=null?r="a":r="button");const g={tagName:r};if(r==="button")return[{type:p||"button",disabled:e},g];const _=A=>{if((e||r==="a"&&UC(t))&&A.preventDefault(),e){A.stopPropagation();return}h?.(A)},S=A=>{A.key===" "&&(A.preventDefault(),_(A))};return r==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:u??"button",disabled:void 0,tabIndex:e?void 0:d,href:t,target:r==="a"?s:void 0,"aria-disabled":e||void 0,rel:r==="a"?o:void 0,onClick:_,onKeyDown:S},g]}const eS=R.forwardRef((r,e)=>{let{as:t,disabled:s}=r,o=LC(r,PC);const[u,{tagName:h}]=ng(Object.assign({tagName:t,disabled:s},o));return O.jsx(h,Object.assign({},o,u,{ref:e}))});eS.displayName="Button";const jC=["xxl","xl","lg","md","sm","xs"],BC="xs",cf=R.createContext({prefixes:{},breakpoints:jC,minBreakpoint:BC}),{Consumer:IP,Provider:NP}=cf;function Oe(r,e){const{prefixes:t}=R.useContext(cf);return r||t[e]||e}function tS(){const{breakpoints:r}=R.useContext(cf);return r}function nS(){const{minBreakpoint:r}=R.useContext(cf);return r}const di=R.forwardRef(({as:r,bsPrefix:e,variant:t="primary",size:s,active:o=!1,disabled:u=!1,className:h,...d},p)=>{const g=Oe(e,"btn"),[_,{tagName:S}]=ng({tagName:r,disabled:u,...d}),A=S;return O.jsx(A,{..._,...d,ref:p,disabled:u,className:we(h,g,o&&"active",t&&`${g}-${t}`,s&&`${g}-${s}`,d.href&&u&&"disabled")})});di.displayName="Button";var Gm={exports:{}},$m,BE;function zC(){if(BE)return $m;BE=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return $m=r,$m}var Km,zE;function qC(){if(zE)return Km;zE=1;var r=zC();function e(){}function t(){}return t.resetWarningCache=e,Km=function(){function s(h,d,p,g,_,S){if(S!==r){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}s.isRequired=s;function o(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return u.PropTypes=u,u},Km}var qE;function HC(){return qE||(qE=1,Gm.exports=qC()()),Gm.exports}var FC=HC();const mi=of(FC),GC={type:mi.string,tooltip:mi.bool,as:mi.elementType},hf=R.forwardRef(({as:r="div",className:e,type:t="valid",tooltip:s=!1,...o},u)=>O.jsx(r,{...o,ref:u,className:we(e,`${t}-${s?"tooltip":"feedback"}`)}));hf.displayName="Feedback";hf.propTypes=GC;const vi=R.createContext({}),rg=R.forwardRef(({id:r,bsPrefix:e,className:t,type:s="checkbox",isValid:o=!1,isInvalid:u=!1,as:h="input",...d},p)=>{const{controlId:g}=R.useContext(vi);return e=Oe(e,"form-check-input"),O.jsx(h,{...d,ref:p,type:s,id:r||g,className:we(t,e,o&&"is-valid",u&&"is-invalid")})});rg.displayName="FormCheckInput";const kh=R.forwardRef(({bsPrefix:r,className:e,htmlFor:t,...s},o)=>{const{controlId:u}=R.useContext(vi);return r=Oe(r,"form-check-label"),O.jsx("label",{...s,ref:o,htmlFor:t||u,className:we(e,r)})});kh.displayName="FormCheckLabel";function $C(r,e){return R.Children.toArray(r).some(t=>R.isValidElement(t)&&t.type===e)}const rS=R.forwardRef(({id:r,bsPrefix:e,bsSwitchPrefix:t,inline:s=!1,reverse:o=!1,disabled:u=!1,isValid:h=!1,isInvalid:d=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:_,className:S,style:A,title:N="",type:P="checkbox",label:G,children:U,as:W="input",...X},J)=>{e=Oe(e,"form-check"),t=Oe(t,"form-switch");const{controlId:oe}=R.useContext(vi),ue=R.useMemo(()=>({controlId:r||oe}),[oe,r]),he=!U&&G!=null&&G!==!1||$C(U,kh),x=O.jsx(rg,{...X,type:P==="switch"?"checkbox":P,ref:J,isValid:h,isInvalid:d,disabled:u,as:W});return O.jsx(vi.Provider,{value:ue,children:O.jsx("div",{style:A,className:we(S,he&&e,s&&`${e}-inline`,o&&`${e}-reverse`,P==="switch"&&t),children:U||O.jsxs(O.Fragment,{children:[x,he&&O.jsx(kh,{title:N,children:G}),g&&O.jsx(hf,{type:_,tooltip:p,children:g})]})})})});rS.displayName="FormCheck";const Vh=Object.assign(rS,{Input:rg,Label:kh}),iS=R.forwardRef(({bsPrefix:r,type:e,size:t,htmlSize:s,id:o,className:u,isValid:h=!1,isInvalid:d=!1,plaintext:p,readOnly:g,as:_="input",...S},A)=>{const{controlId:N}=R.useContext(vi);return r=Oe(r,"form-control"),O.jsx(_,{...S,type:e,size:s,ref:A,readOnly:g,id:o||N,className:we(u,p?`${r}-plaintext`:r,t&&`${r}-${t}`,e==="color"&&`${r}-color`,h&&"is-valid",d&&"is-invalid")})});iS.displayName="FormControl";const KC=Object.assign(iS,{Feedback:hf}),sS=R.forwardRef(({className:r,bsPrefix:e,as:t="div",...s},o)=>(e=Oe(e,"form-floating"),O.jsx(t,{ref:o,className:we(r,e),...s})));sS.displayName="FormFloating";const ig=R.forwardRef(({controlId:r,as:e="div",...t},s)=>{const o=R.useMemo(()=>({controlId:r}),[r]);return O.jsx(vi.Provider,{value:o,children:O.jsx(e,{...t,ref:s})})});ig.displayName="FormGroup";function QC({as:r,bsPrefix:e,className:t,...s}){e=Oe(e,"col");const o=tS(),u=nS(),h=[],d=[];return o.forEach(p=>{const g=s[p];delete s[p];let _,S,A;typeof g=="object"&&g!=null?{span:_,offset:S,order:A}=g:_=g;const N=p!==u?`-${p}`:"";_&&h.push(_===!0?`${e}${N}`:`${e}${N}-${_}`),A!=null&&d.push(`order${N}-${A}`),S!=null&&d.push(`offset${N}-${S}`)}),[{...s,className:we(t,...h,...d)},{as:r,bsPrefix:e,spans:h}]}const sg=R.forwardRef((r,e)=>{const[{className:t,...s},{as:o="div",bsPrefix:u,spans:h}]=QC(r);return O.jsx(o,{...s,ref:e,className:we(t,!h.length&&u)})});sg.displayName="Col";const aS=R.forwardRef(({as:r="label",bsPrefix:e,column:t=!1,visuallyHidden:s=!1,className:o,htmlFor:u,...h},d)=>{const{controlId:p}=R.useContext(vi);e=Oe(e,"form-label");let g="col-form-label";typeof t=="string"&&(g=`${g} ${g}-${t}`);const _=we(o,e,s&&"visually-hidden",t&&g);return u=u||p,t?O.jsx(sg,{ref:d,as:"label",className:_,htmlFor:u,...h}):O.jsx(r,{ref:d,className:_,htmlFor:u,...h})});aS.displayName="FormLabel";const oS=R.forwardRef(({bsPrefix:r,className:e,id:t,...s},o)=>{const{controlId:u}=R.useContext(vi);return r=Oe(r,"form-range"),O.jsx("input",{...s,type:"range",ref:o,className:we(e,r),id:t||u})});oS.displayName="FormRange";const lS=R.forwardRef(({bsPrefix:r,size:e,htmlSize:t,className:s,isValid:o=!1,isInvalid:u=!1,id:h,...d},p)=>{const{controlId:g}=R.useContext(vi);return r=Oe(r,"form-select"),O.jsx("select",{...d,size:t,ref:p,className:we(s,r,e&&`${r}-${e}`,o&&"is-valid",u&&"is-invalid"),id:h||g})});lS.displayName="FormSelect";const uS=R.forwardRef(({bsPrefix:r,className:e,as:t="small",muted:s,...o},u)=>(r=Oe(r,"form-text"),O.jsx(t,{...o,ref:u,className:we(e,r,s&&"text-muted")})));uS.displayName="FormText";const cS=R.forwardRef((r,e)=>O.jsx(Vh,{...r,ref:e,type:"switch"}));cS.displayName="Switch";const YC=Object.assign(cS,{Input:Vh.Input,Label:Vh.Label}),hS=R.forwardRef(({bsPrefix:r,className:e,children:t,controlId:s,label:o,...u},h)=>(r=Oe(r,"form-floating"),O.jsxs(ig,{ref:h,className:we(e,r),controlId:s,...u,children:[t,O.jsx("label",{htmlFor:s,children:o})]})));hS.displayName="FloatingLabel";const XC={_ref:mi.any,validated:mi.bool,as:mi.elementType},ag=R.forwardRef(({className:r,validated:e,as:t="form",...s},o)=>O.jsx(t,{...s,ref:o,className:we(r,e&&"was-validated")}));ag.displayName="Form";ag.propTypes=XC;const Ne=Object.assign(ag,{Group:ig,Control:KC,Floating:sS,Check:Vh,Switch:YC,Label:aS,Text:uS,Range:oS,Select:lS,FloatingLabel:hS}),WC=()=>{};var HE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},ZC=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],d=r[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},dS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,d=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,_=u>>2,S=(u&3)<<4|d>>4;let A=(d&15)<<2|g>>6,N=g&63;p||(N=64,h||(A=64)),s.push(t[_],t[S],t[A],t[N])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(fS(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):ZC(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const S=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||d==null||g==null||S==null)throw new JC;const A=u<<2|d>>4;if(s.push(A),g!==64){const N=d<<4&240|g>>2;if(s.push(N),S!==64){const P=g<<6&192|S;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class JC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eI=function(r){const e=fS(r);return dS.encodeByteArray(e,!0)},Ph=function(r){return eI(r).replace(/\./g,"")},mS=function(r){try{return dS.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=()=>tI().__FIREBASE_DEFAULTS__,rI=()=>{if(typeof process>"u"||typeof HE>"u")return;const r=HE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},iI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&mS(r[1]);return e&&JSON.parse(e)},ff=()=>{try{return WC()||nI()||rI()||iI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},pS=r=>ff()?.emulatorHosts?.[r],gS=r=>{const e=pS(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},yS=()=>ff()?.config,_S=r=>ff()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function og(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ph(JSON.stringify(t)),Ph(JSON.stringify(h)),""].join(".")}const uu={};function aI(){const r={prod:[],emulator:[]};for(const e of Object.keys(uu))uu[e]?r.emulator.push(e):r.prod.push(e);return r}function oI(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let FE=!1;function lg(r,e){if(typeof window>"u"||typeof document>"u"||!pa(window.location.host)||uu[r]===e||uu[r]||FE)return;uu[r]=e;function t(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=aI().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function d(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,N){A.setAttribute("width","24"),A.setAttribute("id",N),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{FE=!0,h()},A}function _(A,N){A.setAttribute("id",N),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function S(){const A=oI(s),N=t("text"),P=document.getElementById(N)||document.createElement("span"),G=t("learnmore"),U=document.getElementById(G)||document.createElement("a"),W=t("preprendIcon"),X=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const J=A.element;d(J),_(U,G);const oe=g();p(X,W),J.append(X,P,U,oe),document.body.appendChild(J)}u?(P.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function uI(){const r=ff()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hI(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function fI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dI(){const r=nn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function mI(){return!uI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pI(){try{return typeof indexedDB=="object"}catch{return!1}}function gI(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="FirebaseError";class xr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=yI,Object.setPrototypeOf(this,xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Iu.prototype.create)}}class Iu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?_I(u,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new xr(o,d,s)}}function _I(r,e){return r.replace(vI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const vI=/\{\$([^}]+)}/g;function EI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ua(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(GE(u)&&GE(h)){if(!ua(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function GE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function nu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function ru(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function TI(r,e){const t=new SI(r,e);return t.subscribe.bind(t)}class SI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");AI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Qm),o.error===void 0&&(o.error=Qm),o.complete===void 0&&(o.complete=Qm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AI(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Qm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(r){return r&&r._delegate?r._delegate:r}class cs{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new sI;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wI(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:RI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RI(r){return r===ia?void 0:r}function wI(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new bI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const II={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},NI=Ve.INFO,DI={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},OI=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=DI[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ug{constructor(e){this.name=e,this._logLevel=NI,this._logHandler=OI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?II[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const xI=(r,e)=>e.some(t=>r instanceof t);let $E,KE;function MI(){return $E||($E=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kI(){return KE||(KE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ES=new WeakMap,pp=new WeakMap,TS=new WeakMap,Ym=new WeakMap,cg=new WeakMap;function VI(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(as(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&ES.set(t,r)}).catch(()=>{}),cg.set(e,r),e}function PI(r){if(pp.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});pp.set(r,e)}let gp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return pp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||TS.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return as(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function LI(r){gp=r(gp)}function UI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Xm(this),e,...t);return TS.set(s,e.sort?e.sort():[e]),as(s)}:kI().includes(r)?function(...e){return r.apply(Xm(this),e),as(ES.get(this))}:function(...e){return as(r.apply(Xm(this),e))}}function jI(r){return typeof r=="function"?UI(r):(r instanceof IDBTransaction&&PI(r),xI(r,MI())?new Proxy(r,gp):r)}function as(r){if(r instanceof IDBRequest)return VI(r);if(Ym.has(r))return Ym.get(r);const e=jI(r);return e!==r&&(Ym.set(r,e),cg.set(e,r)),e}const Xm=r=>cg.get(r);function BI(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),d=as(h);return s&&h.addEventListener("upgradeneeded",p=>{s(as(h.result),p.oldVersion,p.newVersion,as(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const zI=["get","getKey","getAll","getAllKeys","count"],qI=["put","add","delete","clear"],Wm=new Map;function QE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Wm.get(e))return Wm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=qI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||zI.includes(t)))return;const u=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return Wm.set(e,u),u}LI(r=>({...r,get:(e,t,s)=>QE(e,t)||r.get(e,t,s),has:(e,t)=>!!QE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(FI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function FI(r){return r.getComponent()?.type==="VERSION"}const yp="@firebase/app",YE="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new ug("@firebase/app"),GI="@firebase/app-compat",$I="@firebase/analytics-compat",KI="@firebase/analytics",QI="@firebase/app-check-compat",YI="@firebase/app-check",XI="@firebase/auth",WI="@firebase/auth-compat",ZI="@firebase/database",JI="@firebase/data-connect",eN="@firebase/database-compat",tN="@firebase/functions",nN="@firebase/functions-compat",rN="@firebase/installations",iN="@firebase/installations-compat",sN="@firebase/messaging",aN="@firebase/messaging-compat",oN="@firebase/performance",lN="@firebase/performance-compat",uN="@firebase/remote-config",cN="@firebase/remote-config-compat",hN="@firebase/storage",fN="@firebase/storage-compat",dN="@firebase/firestore",mN="@firebase/ai",pN="@firebase/firestore-compat",gN="firebase",yN="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="[DEFAULT]",_N={[yp]:"fire-core",[GI]:"fire-core-compat",[KI]:"fire-analytics",[$I]:"fire-analytics-compat",[YI]:"fire-app-check",[QI]:"fire-app-check-compat",[XI]:"fire-auth",[WI]:"fire-auth-compat",[ZI]:"fire-rtdb",[JI]:"fire-data-connect",[eN]:"fire-rtdb-compat",[tN]:"fire-fn",[nN]:"fire-fn-compat",[rN]:"fire-iid",[iN]:"fire-iid-compat",[sN]:"fire-fcm",[aN]:"fire-fcm-compat",[oN]:"fire-perf",[lN]:"fire-perf-compat",[uN]:"fire-rc",[cN]:"fire-rc-compat",[hN]:"fire-gcs",[fN]:"fire-gcs-compat",[dN]:"fire-fst",[pN]:"fire-fst-compat",[mN]:"fire-vertex","fire-js":"fire-js",[gN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new Map,vN=new Map,vp=new Map;function XE(r,e){try{r.container.addComponent(e)}catch(t){Ei.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function ca(r){const e=r.name;if(vp.has(e))return Ei.debug(`There were multiple attempts to register component ${e}.`),!1;vp.set(e,r);for(const t of Lh.values())XE(t,r);for(const t of vN.values())XE(t,r);return!0}function df(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function mn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new Iu("app","Firebase",EN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=yN;function SS(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s={name:_p,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw os.create("bad-app-name",{appName:String(o)});if(t||(t=yS()),!t)throw os.create("no-options");const u=Lh.get(o);if(u){if(ua(t,u.options)&&ua(s,u.config))return u;throw os.create("duplicate-app",{appName:o})}const h=new CI(o);for(const p of vp.values())h.addComponent(p);const d=new TN(t,s,h);return Lh.set(o,d),d}function hg(r=_p){const e=Lh.get(r);if(!e&&r===_p&&yS())return SS();if(!e)throw os.create("no-app",{appName:r});return e}function Ar(r,e,t){let s=_N[r]??r;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ei.warn(h.join(" "));return}ca(new cs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="firebase-heartbeat-database",AN=1,gu="firebase-heartbeat-store";let Zm=null;function AS(){return Zm||(Zm=BI(SN,AN,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(gu)}catch(t){console.warn(t)}}}}).catch(r=>{throw os.create("idb-open",{originalErrorMessage:r.message})})),Zm}async function bN(r){try{const t=(await AS()).transaction(gu),s=await t.objectStore(gu).get(bS(r));return await t.done,s}catch(e){if(e instanceof xr)Ei.warn(e.message);else{const t=os.create("idb-get",{originalErrorMessage:e?.message});Ei.warn(t.message)}}}async function WE(r,e){try{const s=(await AS()).transaction(gu,"readwrite");await s.objectStore(gu).put(e,bS(r)),await s.done}catch(t){if(t instanceof xr)Ei.warn(t.message);else{const s=os.create("idb-set",{originalErrorMessage:t?.message});Ei.warn(s.message)}}}function bS(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=1024,wN=30;class CN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new NN(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ZE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>wN){const o=DN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ei.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ZE(),{heartbeatsToSend:t,unsentEntries:s}=IN(this._heartbeatsCache.heartbeats),o=Ph(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ei.warn(e),""}}}function ZE(){return new Date().toISOString().substring(0,10)}function IN(r,e=RN){const t=[];let s=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),JE(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),JE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class NN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pI()?gI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await bN(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return WE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return WE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function JE(r){return Ph(JSON.stringify({version:2,heartbeats:r})).length}function DN(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(r){ca(new cs("platform-logger",e=>new HI(e),"PRIVATE")),ca(new cs("heartbeat",e=>new CN(e),"PRIVATE")),Ar(yp,YE,r),Ar(yp,YE,"esm2020"),Ar("fire-js","")}ON("");var xN="firebase",MN="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar(xN,MN,"app");function RS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kN=RS,wS=new Iu("auth","Firebase",RS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new ug("@firebase/auth");function VN(r,...e){Uh.logLevel<=Ve.WARN&&Uh.warn(`Auth (${ga}): ${r}`,...e)}function Ah(r,...e){Uh.logLevel<=Ve.ERROR&&Uh.error(`Auth (${ga}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(r,...e){throw dg(r,...e)}function Jn(r,...e){return dg(r,...e)}function fg(r,e,t){const s={...kN(),[e]:t};return new Iu("auth","Firebase",s).create(e,{appName:r.name})}function pi(r){return fg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function PN(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Bn(r,"argument-error"),fg(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dg(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return wS.create(r,...e)}function Ee(r,e,...t){if(!r)throw dg(e,...t)}function ci(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ah(e),new Error(e)}function Ti(r,e){r||ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(){return typeof self<"u"&&self.location?.href||""}function LN(){return eT()==="http:"||eT()==="https:"}function eT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LN()||hI()||"connection"in navigator)?navigator.onLine:!0}function jN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ti(t>e,"Short delay should be less than long delay!"),this.isMobile=lI()||fI()}get(){return UN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(r,e){Ti(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qN=new Du(3e4,6e4);function Es(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ts(r,e,t,s,o={}){return IS(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const d=Nu({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return cI()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&pa(r.emulatorConfig.host)&&(g.credentials="include"),CS.fetch()(await NS(r,r.config.apiHost,t,d),g)})}async function IS(r,e,t){r._canInitEmulator=!1;const s={...BN,...e};try{const o=new FN(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw hh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw hh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw hh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw hh(r,"user-disabled",h);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw fg(r,_,g);Bn(r,_)}}catch(o){if(o instanceof xr)throw o;Bn(r,"network-request-failed",{message:String(o)})}}async function Ou(r,e,t,s,o={}){const u=await Ts(r,e,t,s,o);return"mfaPendingCredential"in u&&Bn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function NS(r,e,t,s){const o=`${e}${t}?${s}`,u=r,h=u.config.emulator?mg(r.config,o):`${r.config.apiScheme}://${o}`;return zN.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function HN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Jn(this.auth,"network-request-failed")),qN.get())})}}function hh(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Jn(r,e,s);return o.customData._tokenResponse=t,o}function tT(r){return r!==void 0&&r.enterprise!==void 0}class GN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return HN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $N(r,e){return Ts(r,"GET","/v2/recaptchaConfig",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(r,e){return Ts(r,"POST","/v1/accounts:delete",e)}async function jh(r,e){return Ts(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QN(r,e=!1){const t=ln(r),s=await t.getIdToken(e),o=pg(s);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:cu(Jm(o.auth_time)),issuedAtTime:cu(Jm(o.iat)),expirationTime:cu(Jm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Jm(r){return Number(r)*1e3}function pg(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=mS(t);return o?JSON.parse(o):(Ah("Failed to decode base64 JWT payload"),null)}catch(o){return Ah("Caught error parsing JWT payload as JSON",o?.toString()),null}}function nT(r){const e=pg(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof xr&&YN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function YN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(r){const e=r.auth,t=await r.getIdToken(),s=await yu(r,jh(e,{idToken:t}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?DS(o.providerUserInfo):[],h=ZN(r.providerData,u),d=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,g=d?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Tp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,_)}async function WN(r){const e=ln(r);await Bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZN(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function DS(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(r,e){const t=await IS(r,{},async()=>{const s=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await NS(r,o,"/v1/token",`key=${u}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return r.emulatorConfig&&pa(r.emulatorConfig.host)&&(p.credentials="include"),CS.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function eD(r,e){return Ts(r,"POST","/v2/accounts:revokeToken",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=nT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await JN(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new So;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Xn{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new XN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await yu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return QN(this,e)}reload(){return WN(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mn(this.auth.app))return Promise.reject(pi(this.auth));const e=await this.getIdToken();return await yu(this,KN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,h=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:S,emailVerified:A,isAnonymous:N,providerData:P,stsTokenManager:G}=t;Ee(S&&G,e,"internal-error");const U=So.fromJSON(this.name,G);Ee(typeof S=="string",e,"internal-error"),es(s,e.name),es(o,e.name),Ee(typeof A=="boolean",e,"internal-error"),Ee(typeof N=="boolean",e,"internal-error"),es(u,e.name),es(h,e.name),es(d,e.name),es(p,e.name),es(g,e.name),es(_,e.name);const W=new Xn({uid:S,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:N,photoURL:h,phoneNumber:u,tenantId:d,stsTokenManager:U,createdAt:g,lastLoginAt:_});return P&&Array.isArray(P)&&(W.providerData=P.map(X=>({...X}))),p&&(W._redirectEventId=p),W}static async _fromIdTokenResponse(e,t,s=!1){const o=new So;o.updateFromServerResponse(t);const u=new Xn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Bh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?DS(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,d=new So;d.updateFromIdToken(s);const p=new Xn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Tp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=new Map;function hi(r){Ti(r instanceof Function,"Expected a class definition");let e=rT.get(r);return e?(Ti(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,rT.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}OS.type="NONE";const iT=OS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(r,e,t){return`firebase:${r}:${e}:${t}`}class Ao{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=bh(this.userKey,o.apiKey,u),this.fullPersistenceKey=bh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await jh(this.auth,{idToken:e}).catch(()=>{});return t?Xn._fromGetAccountInfoResponse(this.auth,t,e):null}return Xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Ao(hi(iT),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||hi(iT);const h=bh(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(h);if(_){let S;if(typeof _=="string"){const A=await jh(e,{idToken:_}).catch(()=>{});if(!A)break;S=await Xn._fromGetAccountInfoResponse(e,A,_)}else S=Xn._fromJSON(e,_);g!==u&&(d=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ao(u,e,s):(u=p[0],d&&await u._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Ao(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LS(e))return"Blackberry";if(US(e))return"Webos";if(MS(e))return"Safari";if((e.includes("chrome/")||kS(e))&&!e.includes("edge/"))return"Chrome";if(PS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if(s?.length===2)return s[1]}return"Other"}function xS(r=nn()){return/firefox\//i.test(r)}function MS(r=nn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kS(r=nn()){return/crios\//i.test(r)}function VS(r=nn()){return/iemobile/i.test(r)}function PS(r=nn()){return/android/i.test(r)}function LS(r=nn()){return/blackberry/i.test(r)}function US(r=nn()){return/webos/i.test(r)}function gg(r=nn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function tD(r=nn()){return gg(r)&&!!window.navigator?.standalone}function nD(){return dI()&&document.documentMode===10}function jS(r=nn()){return gg(r)||PS(r)||US(r)||LS(r)||/windows phone/i.test(r)||VS(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(r,e=[]){let t;switch(r){case"Browser":t=sT(nn());break;case"Worker":t=`${sT(nn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ga}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,d)=>{try{const p=e(u);h(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(r,e={}){return Ts(r,"GET","/v2/passwordPolicy",Es(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=6;class aD{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??sD,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aT(this),this.idTokenSubscription=new aT(this),this.beforeStateQueue=new rD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ao.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await jh(this,{idToken:e}),s=await Xn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(mn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mn(this.app))return Promise.reject(pi(this));const t=e?ln(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mn(this.app)?Promise.reject(pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mn(this.app)?Promise.reject(pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iD(this),t=new aD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Iu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await eD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&hi(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await Ao.create(this,[hi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&VN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ss(r){return ln(r)}class aT{constructor(e){this.auth=e,this.observer=null,this.addObserver=TI(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lD(r){mf=r}function zS(r){return mf.loadJS(r)}function uD(){return mf.recaptchaEnterpriseScript}function cD(){return mf.gapiScript}function hD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class fD{constructor(){this.enterprise=new dD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class dD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const mD="recaptcha-enterprise",qS="NO_RECAPTCHA";class pD{constructor(e){this.type=mD,this.auth=Ss(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{$N(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new GN(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function o(u,h,d){const p=window.grecaptcha;tT(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(qS)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fD().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(d=>{if(!t&&tT(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=uD();p.length!==0&&(p+=d),zS(p).then(()=>{o(d,u,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function oT(r,e,t,s=!1,o=!1){const u=new pD(r);let h;if(o)h=qS;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Sp(r,e,t,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await oT(r,e,t,t==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await oT(r,e,t,t==="getOobCode");return s(r,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(r,e){const t=df(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(ua(u,e??{}))return o;Bn(o,"already-initialized")}return t.initialize({options:e})}function yD(r,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(hi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function _D(r,e,t){const s=Ss(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=HS(e),{host:h,port:d}=vD(e),p=d===null?"":`:${d}`,g={url:`${u}//${h}${p}/`},_=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(ua(g,s.config.emulator)&&ua(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,pa(h)?(og(`${u}//${h}${p}`),lg("Auth",!0)):ED()}function HS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function vD(r){const e=HS(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:lT(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:lT(h)}}}function lT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function ED(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ci("not implemented")}_getIdTokenResponse(e){return ci("not implemented")}_linkToIdToken(e,t){return ci("not implemented")}_getReauthenticationResolver(e){return ci("not implemented")}}async function TD(r,e){return Ts(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(r,e){return Ou(r,"POST","/v1/accounts:signInWithPassword",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(r,e){return Ou(r,"POST","/v1/accounts:signInWithEmailLink",Es(r,e))}async function bD(r,e){return Ou(r,"POST","/v1/accounts:signInWithEmailLink",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends yg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new _u(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new _u(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sp(e,t,"signInWithPassword",SD);case"emailLink":return AD(e,{email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sp(e,s,"signUpPassword",TD);case"emailLink":return bD(e,{idToken:t,email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(r,e){return Ou(r,"POST","/v1/accounts:signInWithIdp",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="http://localhost";class ha extends yg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Bn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const h=new ha(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return bo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,bo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,bo(e,t)}buildRequest(){const e={requestUri:RD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CD(r){const e=nu(ru(r)).link,t=e?nu(ru(e)).deep_link_id:null,s=nu(ru(r)).deep_link_id;return(s?nu(ru(s)).link:null)||s||t||e||r}class _g{constructor(e){const t=nu(ru(e)),s=t.apiKey??null,o=t.oobCode??null,u=wD(t.mode??null);Ee(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=CD(e);try{return new _g(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.providerId=Po.PROVIDER_ID}static credential(e,t){return _u._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=_g.parseLink(t);return Ee(s,"argument-error"),_u._fromEmailAndCode(e,s.code,s.tenantId)}}Po.PROVIDER_ID="password";Po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends vg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends xu{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends xu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ha._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ai.credential(t,s)}catch{return null}}}ai.GOOGLE_SIGN_IN_METHOD="google.com";ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends xu{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com";rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends xu{constructor(){super("twitter.com")}static credential(e,t){return ha._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return is.credential(t,s)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(r,e){return Ou(r,"POST","/v1/accounts:signUp",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Xn._fromIdTokenResponse(e,s,o),h=uT(s);return new fa({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=uT(s);return new fa({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function uT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends xr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,zh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new zh(e,t,s,o)}}function FS(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?zh._fromErrorAndOperation(r,u,e,s):u})}async function ND(r,e,t=!1){const s=await yu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return fa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(r,e,t=!1){const{auth:s}=r;if(mn(s.app))return Promise.reject(pi(s));const o="reauthenticate";try{const u=await yu(r,FS(s,o,e,r),t);Ee(u.idToken,s,"internal-error");const h=pg(u.idToken);Ee(h,s,"internal-error");const{sub:d}=h;return Ee(r.uid===d,s,"user-mismatch"),fa._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Bn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GS(r,e,t=!1){if(mn(r.app))return Promise.reject(pi(r));const s="signIn",o=await FS(r,s,e),u=await fa._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(u.user),u}async function OD(r,e){return GS(Ss(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $S(r){const e=Ss(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xD(r,e,t){if(mn(r.app))return Promise.reject(pi(r));const s=Ss(r),h=await Sp(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ID).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&$S(r),p}),d=await fa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function MD(r,e,t){return mn(r.app)?Promise.reject(pi(r)):OD(ln(r),Po.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&$S(r),s})}function kD(r,e,t,s){return ln(r).onIdTokenChanged(e,t,s)}function VD(r,e,t){return ln(r).beforeAuthStateChanged(e,t)}function PD(r,e,t,s){return ln(r).onAuthStateChanged(e,t,s)}const qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qh,"1"),this.storage.removeItem(qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=1e3,UD=10;class QS extends KS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);nD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,UD):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},LD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}QS.type="LOCAL";const jD=QS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS extends KS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}YS.type="SESSION";const XS=YS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new pf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,u)),p=await BD(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,p)=>{const g=Eg("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(S){const A=S;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(A.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return window}function qD(r){br().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(){return typeof br().WorkerGlobalScope<"u"&&typeof br().importScripts=="function"}async function HD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FD(){return navigator?.serviceWorker?.controller||null}function GD(){return WS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="firebaseLocalStorageDb",$D=1,Hh="firebaseLocalStorage",JS="fbase_key";class Mu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function gf(r,e){return r.transaction([Hh],e?"readwrite":"readonly").objectStore(Hh)}function KD(){const r=indexedDB.deleteDatabase(ZS);return new Mu(r).toPromise()}function Ap(){const r=indexedDB.open(ZS,$D);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Hh,{keyPath:JS})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Hh)?e(s):(s.close(),await KD(),e(await Ap()))})})}async function cT(r,e,t){const s=gf(r,!0).put({[JS]:e,value:t});return new Mu(s).toPromise()}async function QD(r,e){const t=gf(r,!1).get(e),s=await new Mu(t).toPromise();return s===void 0?null:s.value}function hT(r,e){const t=gf(r,!0).delete(e);return new Mu(t).toPromise()}const YD=800,XD=3;class eA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ap(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>XD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pf._getInstance(GD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await HD(),!this.activeServiceWorker)return;this.sender=new zD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ap();return await cT(e,qh,"1"),await hT(e,qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>cT(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>QD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>hT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=gf(o,!1).getAll();return new Mu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eA.type="LOCAL";const WD=eA;new Du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(r,e){return e?hi(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg extends yg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ZD(r){return GS(r.auth,new Tg(r),r.bypassAuthState)}function JD(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),DD(t,new Tg(r),r.bypassAuthState)}async function eO(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),ND(t,new Tg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZD;case"linkViaPopup":case"linkViaRedirect":return eO;case"reauthViaPopup":case"reauthViaRedirect":return JD;default:Bn(this.auth,"internal-error")}}resolve(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=new Du(2e3,1e4);async function nO(r,e,t){if(mn(r.app))return Promise.reject(Jn(r,"operation-not-supported-in-this-environment"));const s=Ss(r);PN(r,e,vg);const o=tA(s,t);return new aa(s,"signInViaPopup",e,o).executeNotNull()}class aa extends nA{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,aa.currentPopupAction&&aa.currentPopupAction.cancel(),aa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Ti(this.filter.length===1,"Popup operations only handle one event");const e=Eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,aa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tO.get())};e()}}aa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO="pendingRedirect",Rh=new Map;class iO extends nA{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Rh.get(this.auth._key());if(!e){try{const s=await sO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Rh.set(this.auth._key(),e)}return this.bypassAuthState||Rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sO(r,e){const t=lO(e),s=oO(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function aO(r,e){Rh.set(r._key(),e)}function oO(r){return hi(r._redirectPersistence)}function lO(r){return bh(rO,r.config.apiKey,r.name)}async function uO(r,e,t=!1){if(mn(r.app))return Promise.reject(pi(r));const s=Ss(r),o=tA(s,e),h=await new iO(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=600*1e3;class hO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!rA(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Jn(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cO&&this.cachedEventUids.clear(),this.cachedEventUids.has(fT(e))}saveEventToCache(e){this.cachedEventUids.add(fT(e)),this.lastProcessedEventTime=Date.now()}}function fT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function rA({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function fO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rA(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dO(r,e={}){return Ts(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pO=/^https?/;async function gO(r){if(r.config.emulator)return;const{authorizedDomains:e}=await dO(r);for(const t of e)try{if(yO(t))return}catch{}Bn(r,"unauthorized-domain")}function yO(r){const e=Ep(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!pO.test(t))return!1;if(mO.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=new Du(3e4,6e4);function dT(){const r=br().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function vO(r){return new Promise((e,t)=>{function s(){dT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dT(),t(Jn(r,"network-request-failed"))},timeout:_O.get()})}if(br().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(br().gapi?.load)s();else{const o=hD("iframefcb");return br()[o]=()=>{gapi.load?s():t(Jn(r,"network-request-failed"))},zS(`${cD()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw wh=null,e})}let wh=null;function EO(r){return wh=wh||vO(r),wh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=new Du(5e3,15e3),SO="__/auth/iframe",AO="emulator/auth/iframe",bO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wO(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?mg(e,AO):`https://${r.config.authDomain}/${SO}`,s={apiKey:e.apiKey,appName:r.name,v:ga},o=RO.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Nu(s).slice(1)}`}async function CO(r){const e=await EO(r),t=br().gapi;return Ee(t,r,"internal-error"),e.open({where:document.body,url:wO(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Jn(r,"network-request-failed"),d=br().setTimeout(()=>{u(h)},TO.get());function p(){br().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NO=500,DO=600,OO="_blank",xO="http://localhost";class mT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MO(r,e,t,s=NO,o=DO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...IO,width:s.toString(),height:o.toString(),top:u,left:h},g=nn().toLowerCase();t&&(d=kS(g)?OO:t),xS(g)&&(e=e||xO,p.scrollbars="yes");const _=Object.entries(p).reduce((A,[N,P])=>`${A}${N}=${P},`,"");if(tD(g)&&d!=="_self")return kO(e||"",d),new mT(null);const S=window.open(e||"",d,_);Ee(S,r,"popup-blocked");try{S.focus()}catch{}return new mT(S)}function kO(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="__/auth/handler",PO="emulator/auth/handler",LO=encodeURIComponent("fac");async function pT(r,e,t,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:ga,eventId:o};if(e instanceof vg){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",EI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,S]of Object.entries({}))h[_]=S}if(e instanceof xu){const _=e.getScopes().filter(S=>S!=="");_.length>0&&(h.scopes=_.join(","))}r.tenantId&&(h.tid=r.tenantId);const d=h;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await r._getAppCheckToken(),g=p?`#${LO}=${encodeURIComponent(p)}`:"";return`${UO(r)}?${Nu(d).slice(1)}${g}`}function UO({config:r}){return r.emulator?mg(r,PO):`https://${r.authDomain}/${VO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="webStorageSupport";class jO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XS,this._completeRedirectFn=uO,this._overrideRedirectResult=aO}async _openPopup(e,t,s,o){Ti(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await pT(e,t,s,Ep(),o);return MO(e,u,Eg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await pT(e,t,s,Ep(),o);return qD(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Ti(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await CO(e),s=new hO(e);return t.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ep,{type:ep},o=>{const u=o?.[0]?.[ep];u!==void 0&&t(!!u),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=gO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return jS()||MS()||gg()}}const BO=jO;var gT="@firebase/auth",yT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HO(r){ca(new cs("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BS(r)},g=new oD(s,o,u,p);return yD(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ca(new cs("auth-internal",e=>{const t=Ss(e.getProvider("auth").getImmediate());return(s=>new zO(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ar(gT,yT,qO(r)),Ar(gT,yT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=300,GO=_S("authIdTokenMaxAge")||FO;let _T=null;const $O=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>GO)return;const o=t?.token;_T!==o&&(_T=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function KO(r=hg()){const e=df(r,"auth");if(e.isInitialized())return e.getImmediate();const t=gD(r,{popupRedirectResolver:BO,persistence:[WD,jD,XS]}),s=_S("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=$O(u.toString());VD(t,h,()=>h(t.currentUser)),kD(t,d=>h(d))}}const o=pS("auth");return o&&_D(t,`http://${o}`),t}function QO(){return document.getElementsByTagName("head")?.[0]??document}lD({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Jn("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",QO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HO("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="firebasestorage.googleapis.com",YO="storageBucket",XO=120*1e3,WO=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends xr{constructor(e,t,s=0){super(tp(e),`Firebase Storage: ${t} (${tp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return tp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Dr;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Dr||(Dr={}));function tp(r){return"storage/"+r}function ZO(){const r="An unknown error occurred, please check the error payload for server response.";return new Mr(Dr.UNKNOWN,r)}function JO(){return new Mr(Dr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function e2(){return new Mr(Dr.CANCELED,"User canceled the upload/download.")}function t2(r){return new Mr(Dr.INVALID_URL,"Invalid URL '"+r+"'.")}function n2(r){return new Mr(Dr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function vT(r){return new Mr(Dr.INVALID_ARGUMENT,r)}function sA(){return new Mr(Dr.APP_DELETED,"The Firebase app was deleted.")}function r2(r){return new Mr(Dr.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Wn.makeFromUrl(e,t)}catch{return new Wn(e,"")}if(s.path==="")return s;throw n2(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(oe){oe.path_=decodeURIComponent(oe.path)}const _="v[A-Za-z0-9_]+",S=t.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",N=new RegExp(`^https?://${S}/${_}/b/${o}/o${A}`,"i"),P={bucket:1,path:3},G=t===iA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,U="([^?#]*)",W=new RegExp(`^https?://${G}/${o}/${U}`,"i"),J=[{regex:d,indices:p,postModify:u},{regex:N,indices:P,postModify:g},{regex:W,indices:{bucket:1,path:2},postModify:g}];for(let oe=0;oe<J.length;oe++){const ue=J[oe],he=ue.regex.exec(e);if(he){const x=he[ue.indices.bucket];let w=he[ue.indices.path];w||(w=""),s=new Wn(x,w),ue.postModify(s);break}}if(s==null)throw t2(e);return s}}class i2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(r,e,t){let s=1,o=null,u=null,h=!1,d=0;function p(){return d===2}let g=!1;function _(...U){g||(g=!0,e.apply(null,U))}function S(U){o=setTimeout(()=>{o=null,r(N,p())},U)}function A(){u&&clearTimeout(u)}function N(U,...W){if(g){A();return}if(U){A(),_.call(null,U,...W);return}if(p()||h){A(),_.call(null,U,...W);return}s<64&&(s*=2);let J;d===1?(d=2,J=0):J=(s+Math.random())*1e3,S(J)}let P=!1;function G(U){P||(P=!0,A(),!g&&(o!==null?(U||(d=2),clearTimeout(o),S(0)):U||(d=1)))}return S(0),u=setTimeout(()=>{h=!0,G(!0)},t),G}function a2(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(r){return r!==void 0}function ET(r,e,t,s){if(s<e)throw vT(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>t)throw vT(`Invalid value for '${r}'. Expected ${t} or less.`)}function l2(r){const e=encodeURIComponent;let t="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Fh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Fh||(Fh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(r,e){const t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,t,s,o,u,h,d,p,g,_,S,A=!0,N=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=S,this.retry=A,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,G)=>{this.resolve_=P,this.reject_=G,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new fh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const d=u.getErrorCode()===Fh.NO_ERROR,p=u.getStatus();if(!d||u2(p,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===Fh.ABORT;s(!1,new fh(!1,null,_));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new fh(g,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());o2(p)?u(p):u()}catch(p){h(p)}else if(d!==null){const p=ZO();p.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,p)):h(p)}else if(o.canceled){const p=this.appDelete_?sA():e2();h(p)}else{const p=JO();h(p)}};this.canceled_?t(!1,new fh(!1,null,!0)):this.backoffId_=s2(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&a2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function h2(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function f2(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function d2(r,e){e&&(r["X-Firebase-GMPID"]=e)}function m2(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function p2(r,e,t,s,o,u,h=!0,d=!1){const p=l2(r.urlParams),g=r.url+p,_=Object.assign({},r.headers);return d2(_,e),h2(_,t),f2(_,u),m2(_,s),new c2(g,r.method,_,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function y2(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t){this._service=e,t instanceof Wn?this._location=t:this._location=Wn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Gh(e,t)}get root(){const e=new Wn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return y2(this._location.path)}get storage(){return this._service}get parent(){const e=g2(this._location.path);if(e===null)return null;const t=new Wn(this._location.bucket,e);return new Gh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw r2(e)}}function TT(r,e){const t=e?.[YO];return t==null?null:Wn.makeFromBucketSpec(t,r)}function _2(r,e,t,s={}){r.host=`${e}:${t}`;const o=pa(e);o&&(og(`https://${r.host}/b`),lg("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:vS(u,r.app.options.projectId))}class v2{constructor(e,t,s,o,u,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=iA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=XO,this._maxUploadRetryTime=WO,this._requests=new Set,o!=null?this._bucket=Wn.makeFromBucketSpec(o,this._host):this._bucket=TT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Wn.makeFromBucketSpec(this._url,e):this._bucket=TT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ET("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ET("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gh(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new i2(sA());{const h=p2(e,this._appId,s,o,t,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const ST="@firebase/storage",AT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="storage";function E2(r=hg(),e){r=ln(r);const s=df(r,aA).getImmediate({identifier:e}),o=gS("storage");return o&&T2(s,...o),s}function T2(r,e,t,s={}){_2(r,e,t,s)}function S2(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new v2(t,s,o,e,ga)}function A2(){ca(new cs(aA,S2,"PUBLIC").setMultipleInstances(!0)),Ar(ST,AT,""),Ar(ST,AT,"esm2020")}A2();var bT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ls,oA;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,w){function C(){}C.prototype=w.prototype,x.D=w.prototype,x.prototype=new C,x.prototype.constructor=x,x.C=function(V,L,B){for(var D=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)D[ft-2]=arguments[ft];return w.prototype[L].apply(V,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,w,C){C||(C=0);var V=Array(16);if(typeof w=="string")for(var L=0;16>L;++L)V[L]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(L=0;16>L;++L)V[L]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=x.g[0],C=x.g[1],L=x.g[2];var B=x.g[3],D=w+(B^C&(L^B))+V[0]+3614090360&4294967295;w=C+(D<<7&4294967295|D>>>25),D=B+(L^w&(C^L))+V[1]+3905402710&4294967295,B=w+(D<<12&4294967295|D>>>20),D=L+(C^B&(w^C))+V[2]+606105819&4294967295,L=B+(D<<17&4294967295|D>>>15),D=C+(w^L&(B^w))+V[3]+3250441966&4294967295,C=L+(D<<22&4294967295|D>>>10),D=w+(B^C&(L^B))+V[4]+4118548399&4294967295,w=C+(D<<7&4294967295|D>>>25),D=B+(L^w&(C^L))+V[5]+1200080426&4294967295,B=w+(D<<12&4294967295|D>>>20),D=L+(C^B&(w^C))+V[6]+2821735955&4294967295,L=B+(D<<17&4294967295|D>>>15),D=C+(w^L&(B^w))+V[7]+4249261313&4294967295,C=L+(D<<22&4294967295|D>>>10),D=w+(B^C&(L^B))+V[8]+1770035416&4294967295,w=C+(D<<7&4294967295|D>>>25),D=B+(L^w&(C^L))+V[9]+2336552879&4294967295,B=w+(D<<12&4294967295|D>>>20),D=L+(C^B&(w^C))+V[10]+4294925233&4294967295,L=B+(D<<17&4294967295|D>>>15),D=C+(w^L&(B^w))+V[11]+2304563134&4294967295,C=L+(D<<22&4294967295|D>>>10),D=w+(B^C&(L^B))+V[12]+1804603682&4294967295,w=C+(D<<7&4294967295|D>>>25),D=B+(L^w&(C^L))+V[13]+4254626195&4294967295,B=w+(D<<12&4294967295|D>>>20),D=L+(C^B&(w^C))+V[14]+2792965006&4294967295,L=B+(D<<17&4294967295|D>>>15),D=C+(w^L&(B^w))+V[15]+1236535329&4294967295,C=L+(D<<22&4294967295|D>>>10),D=w+(L^B&(C^L))+V[1]+4129170786&4294967295,w=C+(D<<5&4294967295|D>>>27),D=B+(C^L&(w^C))+V[6]+3225465664&4294967295,B=w+(D<<9&4294967295|D>>>23),D=L+(w^C&(B^w))+V[11]+643717713&4294967295,L=B+(D<<14&4294967295|D>>>18),D=C+(B^w&(L^B))+V[0]+3921069994&4294967295,C=L+(D<<20&4294967295|D>>>12),D=w+(L^B&(C^L))+V[5]+3593408605&4294967295,w=C+(D<<5&4294967295|D>>>27),D=B+(C^L&(w^C))+V[10]+38016083&4294967295,B=w+(D<<9&4294967295|D>>>23),D=L+(w^C&(B^w))+V[15]+3634488961&4294967295,L=B+(D<<14&4294967295|D>>>18),D=C+(B^w&(L^B))+V[4]+3889429448&4294967295,C=L+(D<<20&4294967295|D>>>12),D=w+(L^B&(C^L))+V[9]+568446438&4294967295,w=C+(D<<5&4294967295|D>>>27),D=B+(C^L&(w^C))+V[14]+3275163606&4294967295,B=w+(D<<9&4294967295|D>>>23),D=L+(w^C&(B^w))+V[3]+4107603335&4294967295,L=B+(D<<14&4294967295|D>>>18),D=C+(B^w&(L^B))+V[8]+1163531501&4294967295,C=L+(D<<20&4294967295|D>>>12),D=w+(L^B&(C^L))+V[13]+2850285829&4294967295,w=C+(D<<5&4294967295|D>>>27),D=B+(C^L&(w^C))+V[2]+4243563512&4294967295,B=w+(D<<9&4294967295|D>>>23),D=L+(w^C&(B^w))+V[7]+1735328473&4294967295,L=B+(D<<14&4294967295|D>>>18),D=C+(B^w&(L^B))+V[12]+2368359562&4294967295,C=L+(D<<20&4294967295|D>>>12),D=w+(C^L^B)+V[5]+4294588738&4294967295,w=C+(D<<4&4294967295|D>>>28),D=B+(w^C^L)+V[8]+2272392833&4294967295,B=w+(D<<11&4294967295|D>>>21),D=L+(B^w^C)+V[11]+1839030562&4294967295,L=B+(D<<16&4294967295|D>>>16),D=C+(L^B^w)+V[14]+4259657740&4294967295,C=L+(D<<23&4294967295|D>>>9),D=w+(C^L^B)+V[1]+2763975236&4294967295,w=C+(D<<4&4294967295|D>>>28),D=B+(w^C^L)+V[4]+1272893353&4294967295,B=w+(D<<11&4294967295|D>>>21),D=L+(B^w^C)+V[7]+4139469664&4294967295,L=B+(D<<16&4294967295|D>>>16),D=C+(L^B^w)+V[10]+3200236656&4294967295,C=L+(D<<23&4294967295|D>>>9),D=w+(C^L^B)+V[13]+681279174&4294967295,w=C+(D<<4&4294967295|D>>>28),D=B+(w^C^L)+V[0]+3936430074&4294967295,B=w+(D<<11&4294967295|D>>>21),D=L+(B^w^C)+V[3]+3572445317&4294967295,L=B+(D<<16&4294967295|D>>>16),D=C+(L^B^w)+V[6]+76029189&4294967295,C=L+(D<<23&4294967295|D>>>9),D=w+(C^L^B)+V[9]+3654602809&4294967295,w=C+(D<<4&4294967295|D>>>28),D=B+(w^C^L)+V[12]+3873151461&4294967295,B=w+(D<<11&4294967295|D>>>21),D=L+(B^w^C)+V[15]+530742520&4294967295,L=B+(D<<16&4294967295|D>>>16),D=C+(L^B^w)+V[2]+3299628645&4294967295,C=L+(D<<23&4294967295|D>>>9),D=w+(L^(C|~B))+V[0]+4096336452&4294967295,w=C+(D<<6&4294967295|D>>>26),D=B+(C^(w|~L))+V[7]+1126891415&4294967295,B=w+(D<<10&4294967295|D>>>22),D=L+(w^(B|~C))+V[14]+2878612391&4294967295,L=B+(D<<15&4294967295|D>>>17),D=C+(B^(L|~w))+V[5]+4237533241&4294967295,C=L+(D<<21&4294967295|D>>>11),D=w+(L^(C|~B))+V[12]+1700485571&4294967295,w=C+(D<<6&4294967295|D>>>26),D=B+(C^(w|~L))+V[3]+2399980690&4294967295,B=w+(D<<10&4294967295|D>>>22),D=L+(w^(B|~C))+V[10]+4293915773&4294967295,L=B+(D<<15&4294967295|D>>>17),D=C+(B^(L|~w))+V[1]+2240044497&4294967295,C=L+(D<<21&4294967295|D>>>11),D=w+(L^(C|~B))+V[8]+1873313359&4294967295,w=C+(D<<6&4294967295|D>>>26),D=B+(C^(w|~L))+V[15]+4264355552&4294967295,B=w+(D<<10&4294967295|D>>>22),D=L+(w^(B|~C))+V[6]+2734768916&4294967295,L=B+(D<<15&4294967295|D>>>17),D=C+(B^(L|~w))+V[13]+1309151649&4294967295,C=L+(D<<21&4294967295|D>>>11),D=w+(L^(C|~B))+V[4]+4149444226&4294967295,w=C+(D<<6&4294967295|D>>>26),D=B+(C^(w|~L))+V[11]+3174756917&4294967295,B=w+(D<<10&4294967295|D>>>22),D=L+(w^(B|~C))+V[2]+718787259&4294967295,L=B+(D<<15&4294967295|D>>>17),D=C+(B^(L|~w))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+L&4294967295,x.g[3]=x.g[3]+B&4294967295}s.prototype.u=function(x,w){w===void 0&&(w=x.length);for(var C=w-this.blockSize,V=this.B,L=this.h,B=0;B<w;){if(L==0)for(;B<=C;)o(this,x,B),B+=this.blockSize;if(typeof x=="string"){for(;B<w;)if(V[L++]=x.charCodeAt(B++),L==this.blockSize){o(this,V),L=0;break}}else for(;B<w;)if(V[L++]=x[B++],L==this.blockSize){o(this,V),L=0;break}}this.h=L,this.o+=w},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;var C=8*this.o;for(w=x.length-8;w<x.length;++w)x[w]=C&255,C/=256;for(this.u(x),x=Array(16),w=C=0;4>w;++w)for(var V=0;32>V;V+=8)x[C++]=this.g[w]>>>V&255;return x};function u(x,w){var C=d;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=w(x)}function h(x,w){this.h=w;for(var C=[],V=!0,L=x.length-1;0<=L;L--){var B=x[L]|0;V&&B==w||(C[L]=B,V=!1)}this.g=C}var d={};function p(x){return-128<=x&&128>x?u(x,function(w){return new h([w|0],0>w?-1:0)}):new h([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return S;if(0>x)return U(g(-x));for(var w=[],C=1,V=0;x>=C;V++)w[V]=x/C|0,C*=4294967296;return new h(w,0)}function _(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return U(_(x.substring(1),w));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(w,8)),V=S,L=0;L<x.length;L+=8){var B=Math.min(8,x.length-L),D=parseInt(x.substring(L,L+B),w);8>B?(B=g(Math.pow(w,B)),V=V.j(B).add(g(D))):(V=V.j(C),V=V.add(g(D)))}return V}var S=p(0),A=p(1),N=p(16777216);r=h.prototype,r.m=function(){if(G(this))return-U(this).m();for(var x=0,w=1,C=0;C<this.g.length;C++){var V=this.i(C);x+=(0<=V?V:4294967296+V)*w,w*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(P(this))return"0";if(G(this))return"-"+U(this).toString(x);for(var w=g(Math.pow(x,6)),C=this,V="";;){var L=oe(C,w).g;C=W(C,L.j(w));var B=((0<C.g.length?C.g[0]:C.h)>>>0).toString(x);if(C=L,P(C))return B+V;for(;6>B.length;)B="0"+B;V=B+V}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function P(x){if(x.h!=0)return!1;for(var w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function G(x){return x.h==-1}r.l=function(x){return x=W(this,x),G(x)?-1:P(x)?0:1};function U(x){for(var w=x.g.length,C=[],V=0;V<w;V++)C[V]=~x.g[V];return new h(C,~x.h).add(A)}r.abs=function(){return G(this)?U(this):this},r.add=function(x){for(var w=Math.max(this.g.length,x.g.length),C=[],V=0,L=0;L<=w;L++){var B=V+(this.i(L)&65535)+(x.i(L)&65535),D=(B>>>16)+(this.i(L)>>>16)+(x.i(L)>>>16);V=D>>>16,B&=65535,D&=65535,C[L]=D<<16|B}return new h(C,C[C.length-1]&-2147483648?-1:0)};function W(x,w){return x.add(U(w))}r.j=function(x){if(P(this)||P(x))return S;if(G(this))return G(x)?U(this).j(U(x)):U(U(this).j(x));if(G(x))return U(this.j(U(x)));if(0>this.l(N)&&0>x.l(N))return g(this.m()*x.m());for(var w=this.g.length+x.g.length,C=[],V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(var L=0;L<x.g.length;L++){var B=this.i(V)>>>16,D=this.i(V)&65535,ft=x.i(L)>>>16,rt=x.i(L)&65535;C[2*V+2*L]+=D*rt,X(C,2*V+2*L),C[2*V+2*L+1]+=B*rt,X(C,2*V+2*L+1),C[2*V+2*L+1]+=D*ft,X(C,2*V+2*L+1),C[2*V+2*L+2]+=B*ft,X(C,2*V+2*L+2)}for(V=0;V<w;V++)C[V]=C[2*V+1]<<16|C[2*V];for(V=w;V<2*w;V++)C[V]=0;return new h(C,0)};function X(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function J(x,w){this.g=x,this.h=w}function oe(x,w){if(P(w))throw Error("division by zero");if(P(x))return new J(S,S);if(G(x))return w=oe(U(x),w),new J(U(w.g),U(w.h));if(G(w))return w=oe(x,U(w)),new J(U(w.g),w.h);if(30<x.g.length){if(G(x)||G(w))throw Error("slowDivide_ only works with positive integers.");for(var C=A,V=w;0>=V.l(x);)C=ue(C),V=ue(V);var L=he(C,1),B=he(V,1);for(V=he(V,2),C=he(C,2);!P(V);){var D=B.add(V);0>=D.l(x)&&(L=L.add(C),B=D),V=he(V,1),C=he(C,1)}return w=W(x,L.j(w)),new J(L,w)}for(L=S;0<=x.l(w);){for(C=Math.max(1,Math.floor(x.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),B=g(C),D=B.j(w);G(D)||0<D.l(x);)C-=V,B=g(C),D=B.j(w);P(B)&&(B=A),L=L.add(B),x=W(x,D)}return new J(L,x)}r.A=function(x){return oe(this,x).h},r.and=function(x){for(var w=Math.max(this.g.length,x.g.length),C=[],V=0;V<w;V++)C[V]=this.i(V)&x.i(V);return new h(C,this.h&x.h)},r.or=function(x){for(var w=Math.max(this.g.length,x.g.length),C=[],V=0;V<w;V++)C[V]=this.i(V)|x.i(V);return new h(C,this.h|x.h)},r.xor=function(x){for(var w=Math.max(this.g.length,x.g.length),C=[],V=0;V<w;V++)C[V]=this.i(V)^x.i(V);return new h(C,this.h^x.h)};function ue(x){for(var w=x.g.length+1,C=[],V=0;V<w;V++)C[V]=x.i(V)<<1|x.i(V-1)>>>31;return new h(C,x.h)}function he(x,w){var C=w>>5;w%=32;for(var V=x.g.length-C,L=[],B=0;B<V;B++)L[B]=0<w?x.i(B+C)>>>w|x.i(B+C+1)<<32-w:x.i(B+C);return new h(L,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,oA=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,ls=h}).apply(typeof bT<"u"?bT:typeof self<"u"?self:typeof window<"u"?window:{});var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lA,iu,uA,Ch,bp,cA,hA,fA;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof dh=="object"&&dh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var z=c[b];if(!(z in v))break e;v=v[z]}c=c[c.length-1],b=v[c],y=y(b),y!=b&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,b=!1,z={next:function(){if(!b&&v<c.length){var K=v++;return{value:y(K,c[K]),done:!1}}return b=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function S(c,y,v){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,b),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function A(c,y,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:S,A.apply(null,arguments)}function N(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function P(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(b,z,K){for(var ae=Array(arguments.length-2),je=2;je<arguments.length;je++)ae[je-2]=arguments[je];return y.prototype[z].apply(b,ae)}}function G(c){const y=c.length;if(0<y){const v=Array(y);for(let b=0;b<y;b++)v[b]=c[b];return v}return[]}function U(c,y){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(p(b)){const z=c.length||0,K=b.length||0;c.length=z+K;for(let ae=0;ae<K;ae++)c[z+ae]=b[ae]}else c.push(b)}}class W{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var ue=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function he(c,y,v){for(const b in c)y.call(v,c[b],b,c)}function x(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function w(c){const y={};for(const v in c)y[v]=c[v];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let v,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(v in b)c[v]=b[v];for(let K=0;K<C.length;K++)v=C[K],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function L(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function B(c){d.setTimeout(()=>{throw c},0)}function D(){var c=Ue;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ft{constructor(){this.h=this.g=null}add(y,v){const b=rt.get();b.set(y,v),this.h?this.h.next=b:this.g=b,this.h=b}}var rt=new W(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ce=!1,Ue=new ft,M=()=>{const c=d.Promise.resolve(void 0);se=()=>{c.then(re)}};var re=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(v){B(v)}var y=rt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ce=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var me=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return c})();function be(c,y){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ue){e:{try{oe(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Se[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&be.aa.h.call(this)}}P(be,ie);var Se={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Et="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function un(c,y,v,b,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!b,this.ha=z,this.key=++Xe,this.da=this.fa=!1}function bn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function zn(c){this.src=c,this.g={},this.h=0}zn.prototype.add=function(c,y,v,b,z){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var ae=qn(c,y,b,z);return-1<ae?(y=c[ae],v||(y.fa=!1)):(y=new un(y,this.src,K,!!b,z),y.fa=v,c.push(y)),y};function ir(c,y){var v=y.type;if(v in c.g){var b=c.g[v],z=Array.prototype.indexOf.call(b,y,void 0),K;(K=0<=z)&&Array.prototype.splice.call(b,z,1),K&&(bn(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function qn(c,y,v,b){for(var z=0;z<c.length;++z){var K=c[z];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==b)return z}return-1}var Rn="closure_lm_"+(1e6*Math.random()|0),tt={};function As(c,y,v,b,z){if(Array.isArray(y)){for(var K=0;K<y.length;K++)As(c,y[K],v,b,z);return null}return v=zu(v),c&&c[Et]?c.K(y,v,g(b)?!!b.capture:!1,z):Yt(c,y,v,!1,b,z)}function Yt(c,y,v,b,z,K){if(!y)throw Error("Invalid event type");var ae=g(z)?!!z.capture:!!z,je=Sa(c);if(je||(c[Rn]=je=new zn(c)),v=je.add(y,v,b,ae,K),v.proxy)return v;if(b=Pf(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)me||(z=ae),z===void 0&&(z=!1),c.addEventListener(y.toString(),b,z);else if(c.attachEvent)c.attachEvent(bs(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Pf(){function c(v){return y.call(c.src,c.listener,v)}const y=Lf;return c}function Fo(c,y,v,b,z){if(Array.isArray(y))for(var K=0;K<y.length;K++)Fo(c,y[K],v,b,z);else b=g(b)?!!b.capture:!!b,v=zu(v),c&&c[Et]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],v=qn(K,v,b,z),-1<v&&(bn(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=Sa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=qn(y,v,b,z)),(v=-1<c?y[c]:null)&&Ta(v))}function Ta(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Et])ir(y.i,c);else{var v=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(v,b,c.capture):y.detachEvent?y.detachEvent(bs(v),b):y.addListener&&y.removeListener&&y.removeListener(b),(v=Sa(y))?(ir(v,c),v.h==0&&(v.src=null,y[Rn]=null)):bn(c)}}}function bs(c){return c in tt?tt[c]:tt[c]="on"+c}function Lf(c,y){if(c.da)c=!0;else{y=new be(y,this);var v=c.listener,b=c.ha||c.src;c.fa&&Ta(c),c=v.call(b,y)}return c}function Sa(c){return c=c[Rn],c instanceof zn?c:null}var Go="__closure_events_fn_"+(1e9*Math.random()>>>0);function zu(c){return typeof c=="function"?c:(c[Go]||(c[Go]=function(y){return c.handleEvent(y)}),c[Go])}function dt(){le.call(this),this.i=new zn(this),this.M=this,this.F=null}P(dt,le),dt.prototype[Et]=!0,dt.prototype.removeEventListener=function(c,y,v,b){Fo(this,c,y,v,b)};function Ke(c,y){var v,b=c.F;if(b)for(v=[];b;b=b.F)v.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new ie(y,c);else if(y instanceof ie)y.target=y.target||c;else{var z=y;y=new ie(b,c),V(y,z)}if(z=!0,v)for(var K=v.length-1;0<=K;K--){var ae=y.g=v[K];z=pn(ae,b,!0,y)&&z}if(ae=y.g=c,z=pn(ae,b,!0,y)&&z,z=pn(ae,b,!1,y)&&z,v)for(K=0;K<v.length;K++)ae=y.g=v[K],z=pn(ae,b,!1,y)&&z}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],b=0;b<v.length;b++)bn(v[b]);delete c.g[y],c.h--}}this.F=null},dt.prototype.K=function(c,y,v,b){return this.i.add(String(c),y,!1,v,b)},dt.prototype.L=function(c,y,v,b){return this.i.add(String(c),y,!0,v,b)};function pn(c,y,v,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,K=0;K<y.length;++K){var ae=y[K];if(ae&&!ae.da&&ae.capture==v){var je=ae.listener,Dt=ae.ha||ae.src;ae.fa&&ir(c.i,ae),z=je.call(Dt,b)!==!1&&z}}return z&&!b.defaultPrevented}function Xt(c,y,v){if(typeof c=="function")v&&(c=A(c,v));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function qu(c){c.g=Xt(()=>{c.g=null,c.i&&(c.i=!1,qu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Uf extends le{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:qu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rs(c){le.call(this),this.h=c,this.g={}}P(Rs,le);var ws=[];function Cs(c){he(c.g,function(y,v){this.g.hasOwnProperty(v)&&Ta(y)},c),c.g={}}Rs.prototype.N=function(){Rs.aa.N.call(this),Cs(this)},Rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=d.JSON.stringify,Aa=d.JSON.parse,Is=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function $o(){}$o.prototype.h=null;function Ko(c){return c.h||(c.h=c.i())}function Qo(){}var kr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vr(){ie.call(this,"d")}P(Vr,ie);function Yo(){ie.call(this,"c")}P(Yo,ie);var sr={},Xo=null;function wi(){return Xo=Xo||new dt}sr.La="serverreachability";function ba(c){ie.call(this,sr.La,c)}P(ba,ie);function Ci(c){const y=wi();Ke(y,new ba(y))}sr.STAT_EVENT="statevent";function Hu(c,y){ie.call(this,sr.STAT_EVENT,c),this.stat=y}P(Hu,ie);function ot(c){const y=wi();Ke(y,new Hu(y,c))}sr.Ma="timingevent";function Nt(c,y){ie.call(this,sr.Ma,c),this.size=y}P(Nt,ie);function Tt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function wn(){this.g=!0}wn.prototype.xa=function(){this.g=!1};function Wo(c,y,v,b,z,K){c.info(function(){if(c.g)if(K)for(var ae="",je=K.split("&"),Dt=0;Dt<je.length;Dt++){var Be=je[Dt].split("=");if(1<Be.length){var Pt=Be[0];Be=Be[1];var Ot=Pt.split("_");ae=2<=Ot.length&&Ot[1]=="type"?ae+(Pt+"="+Be+"&"):ae+(Pt+"=redacted&")}}else ae=null;else ae=K;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+y+`
`+v+`
`+ae})}function jf(c,y,v,b,z,K,ae){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+y+`
`+v+`
`+K+" "+ae})}function Ii(c,y,v,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ns(c,v)+(b?" "+b:"")})}function Fu(c,y){c.info(function(){return"TIMEOUT: "+y})}wn.prototype.info=function(){};function Ns(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var b=v[c];if(!(2>b.length)){var z=b[1];if(Array.isArray(z)&&!(1>z.length)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ae=1;ae<z.length;ae++)z[ae]=""}}}}return Hn(v)}catch{return y}}var Ni={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ar;function or(){}P(or,$o),or.prototype.g=function(){return new XMLHttpRequest},or.prototype.i=function(){return{}},ar=new or;function rn(c,y,v,b){this.j=c,this.i=y,this.l=v,this.R=b||1,this.U=new Rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gt}function gt(){this.i=null,this.g="",this.h=!1}var Zo={},Ra={};function Fn(c,y,v){c.L=1,c.v=ks(gn(y)),c.m=v,c.P=!0,Lr(c,null)}function Lr(c,y){c.F=Date.now(),Ds(c),c.A=gn(c.v);var v=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),il(v.i,"t",b),c.C=0,v=c.j.J,c.h=new gt,c.g=ac(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Uf(A(c.Y,c,c.g),c.O)),y=c.U,v=c.g,b=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(ws[0]=z.toString()),z=ws);for(var K=0;K<z.length;K++){var ae=As(v,z[K],b||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ci(),Wo(c.i,c.u,c.A,c.l,c.R,c.m)}rn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Dn(c)==3?y.j():this.Y(c)},rn.prototype.Y=function(c){try{if(c==this.g)e:{const Ot=Dn(this.g);var y=this.g.Ba();const Gr=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||Zu(this.g)))){this.J||Ot!=4||y==7||(y==8||0>=Gr?Ci(3):Ci(2)),Di(this);var v=this.g.Z();this.X=v;t:if(Gu(this)){var b=Zu(this.g);c="";var z=b.length,K=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zt(this),lr(this);var ae="";break t}this.h.i=new d.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(K&&y==z-1)});b.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,jf(this.i,this.u,this.A,this.l,this.R,Ot,v),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Dt=this.g;if((je=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(je)){var Be=je;break t}}Be=null}if(v=Be)Ii(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Os(this,v);else{this.o=!1,this.s=3,ot(12),zt(this),lr(this);break e}}if(this.P){v=!0;let qt;for(;!this.J&&this.C<ae.length;)if(qt=$u(this,ae),qt==Ra){Ot==4&&(this.s=4,ot(14),v=!1),Ii(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==Zo){this.s=4,ot(15),Ii(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else Ii(this.i,this.l,qt,null),Os(this,qt);if(Gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||ae.length!=0||this.h.h||(this.s=1,ot(16),v=!1),this.o=this.o&&v,!v)Ii(this.i,this.l,ae,"[Invalid Chunked Response]"),zt(this),lr(this);else if(0<ae.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),qs(Pt),Pt.M=!0,ot(11))}}else Ii(this.i,this.l,ae,null),Os(this,ae);Ot==4&&zt(this),this.o&&!this.J&&(Ot==4?rc(this.j,this):(this.o=!1,Ds(this)))}else Ff(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),zt(this),lr(this)}}}catch{}finally{}};function Gu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function $u(c,y){var v=c.C,b=y.indexOf(`
`,v);return b==-1?Ra:(v=Number(y.substring(v,b)),isNaN(v)?Zo:(b+=1,b+v>y.length?Ra:(y=y.slice(b,b+v),c.C=b+v,y)))}rn.prototype.cancel=function(){this.J=!0,zt(this)};function Ds(c){c.S=Date.now()+c.I,Ku(c,c.I)}function Ku(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Tt(A(c.ba,c),y)}function Di(c){c.B&&(d.clearTimeout(c.B),c.B=null)}rn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Fu(this.i,this.A),this.L!=2&&(Ci(),ot(17)),zt(this),this.s=2,lr(this)):Ku(this,this.S-c)};function lr(c){c.j.G==0||c.J||rc(c.j,c)}function zt(c){Di(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Cs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Os(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Jo(v.h,c))){if(!c.K&&Jo(v.h,c)&&v.G==3){try{var b=v.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)La(v),Va(v);else break e;ul(v),ot(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=Tt(A(v.Za,v),6e3));if(1>=Ca(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Fr(v,11)}else if((c.K||v.g==c)&&La(v),!X(y))for(z=v.Da.g.parse(y),y=0;y<z.length;y++){let Be=z[y];if(v.T=Be[0],Be=Be[1],v.G==2)if(Be[0]=="c"){v.K=Be[1],v.ia=Be[2];const Pt=Be[3];Pt!=null&&(v.la=Pt,v.j.info("VER="+v.la));const Ot=Be[4];Ot!=null&&(v.Aa=Ot,v.j.info("SVER="+v.Aa));const Gr=Be[5];Gr!=null&&typeof Gr=="number"&&0<Gr&&(b=1.5*Gr,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const qt=c.g;if(qt){const pr=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pr){var K=b.h;K.g||pr.indexOf("spdy")==-1&&pr.indexOf("quic")==-1&&pr.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ia(K,K.h),K.h=null))}if(b.D){const hl=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;hl&&(b.ya=hl,We(b.I,b.D,hl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var ae=c;if(b.qa=sc(b,b.J?b.ia:null,b.W),ae.K){sn(b.h,ae);var je=ae,Dt=b.L;Dt&&(je.I=Dt),je.B&&(Di(je),Ds(je)),b.g=ae}else tc(b);0<v.i.length&&Pa(v)}else Be[0]!="stop"&&Be[0]!="close"||Fr(v,7);else v.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Fr(v,7):ol(v):Be[0]!="noop"&&v.l&&v.l.ta(Be),v.v=0)}}Ci(4)}catch{}}var Qu=class{constructor(c,y){this.g=c,this.map=y}};function Ur(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ca(c){return c.h?1:c.g?c.g.size:0}function Jo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ia(c,y){c.g?c.g.add(y):c.h=y}function sn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ur.prototype.cancel=function(){if(this.i=el(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function el(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return G(c.i)}function Bf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,b=0;b<v;b++)y.push(c[b]);return y}y=[],v=0;for(b in c)y[v++]=c[b];return y}function Na(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const b in c)y[v++]=b;return y}}}function tl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Na(c),b=Bf(c),z=b.length,K=0;K<z;K++)y.call(void 0,b[K],v&&v[K],c)}var xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zf(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var b=c[v].indexOf("="),z=null;if(0<=b){var K=c[v].substring(0,b);z=c[v].substring(b+1)}else K=c[v];y(K,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function St(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof St){this.h=c.h,Ms(this,c.j),this.o=c.o,this.g=c.g,Oi(this,c.s),this.l=c.l;var y=c.i,v=new Br;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),jr(this,v),this.m=c.m}else c&&(y=String(c).match(xs))?(this.h=!1,Ms(this,y[1]||"",!0),this.o=Cn(y[2]||""),this.g=Cn(y[3]||"",!0),Oi(this,y[4]),this.l=Cn(y[5]||"",!0),jr(this,y[6]||"",!0),this.m=Cn(y[7]||"")):(this.h=!1,this.i=new Br(null,this.h))}St.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Vs(y,nl,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Vs(y,nl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Vs(v,v.charAt(0)=="/"?qf:rl,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Vs(v,Da)),c.join("")};function gn(c){return new St(c)}function Ms(c,y,v){c.j=v?Cn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Oi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function jr(c,y,v){y instanceof Br?(c.i=y,Xu(c.i,c.h)):(v||(y=Vs(y,Hf)),c.i=new Br(y,c.h))}function We(c,y,v){c.i.set(y,v)}function ks(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Cn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Vs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Yu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Yu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var nl=/[#\/\?@]/g,rl=/[#\?:]/g,qf=/[#\?]/g,Hf=/[#\?@]/g,Da=/#/g;function Br(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function In(c){c.g||(c.g=new Map,c.h=0,c.i&&zf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Br.prototype,r.add=function(c,y){In(this),this.i=null,c=ur(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function zr(c,y){In(c),y=ur(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function qr(c,y){return In(c),y=ur(c,y),c.g.has(y)}r.forEach=function(c,y){In(this),this.g.forEach(function(v,b){v.forEach(function(z){c.call(y,z,b,this)},this)},this)},r.na=function(){In(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let b=0;b<y.length;b++){const z=c[b];for(let K=0;K<z.length;K++)v.push(y[b])}return v},r.V=function(c){In(this);let y=[];if(typeof c=="string")qr(this,c)&&(y=y.concat(this.g.get(ur(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return In(this),this.i=null,c=ur(this,c),qr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function il(c,y,v){zr(c,y),0<v.length&&(c.i=null,c.g.set(ur(c,y),G(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var b=y[v];const K=encodeURIComponent(String(b)),ae=this.V(b);for(b=0;b<ae.length;b++){var z=K;ae[b]!==""&&(z+="="+encodeURIComponent(String(ae[b]))),c.push(z)}}return this.i=c.join("&")};function ur(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Xu(c,y){y&&!c.j&&(In(c),c.i=null,c.g.forEach(function(v,b){var z=b.toLowerCase();b!=z&&(zr(this,b),il(this,z,v))},c)),c.j=y}function Ps(c,y){const v=new wn;if(d.Image){const b=new Image;b.onload=N(Nn,v,"TestLoadImage: loaded",!0,y,b),b.onerror=N(Nn,v,"TestLoadImage: error",!1,y,b),b.onabort=N(Nn,v,"TestLoadImage: abort",!1,y,b),b.ontimeout=N(Nn,v,"TestLoadImage: timeout",!1,y,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Gn(c,y){const v=new wn,b=new AbortController,z=setTimeout(()=>{b.abort(),Nn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(K=>{clearTimeout(z),K.ok?Nn(v,"TestPingServer: ok",!0,y):Nn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Nn(v,"TestPingServer: error",!1,y)})}function Nn(c,y,v,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(v)}catch{}}function Ls(){this.g=new Is}function cr(c,y,v){const b=v||"";try{tl(c,function(z,K){let ae=z;g(z)&&(ae=Hn(z)),y.push(b+K+"="+encodeURIComponent(ae))})}catch(z){throw y.push(b+"type="+encodeURIComponent("_badmap")),z}}function xi(c){this.l=c.Ub||null,this.j=c.eb||!1}P(xi,$o),xi.prototype.g=function(){return new Hr(this.l,this.j)},xi.prototype.i=(function(c){return function(){return c}})({});function Hr(c,y){dt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Hr,dt),r=Hr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,fr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,fr(this)),this.g&&(this.readyState=3,fr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function sl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?hr(this):fr(this),this.readyState==3&&sl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,hr(this))},r.Qa=function(c){this.g&&(this.response=c,hr(this))},r.ga=function(){this.g&&hr(this)};function hr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,fr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function fr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function al(c){let y="";return he(c,function(v,b){y+=b,y+=":",y+=v,y+=`\r
`}),y}function Vt(c,y,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=al(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):We(c,y,v))}function Ge(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Ge,dt);var Oa=/^https?$/i,Us=["POST","PUT"];r=Ge.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ar.g(),this.v=this.o?Ko(this.o):Ko(ar),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Wu(this,K);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)v.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const K of b.keys())v.set(K,b.get(K));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),z=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Us,y,void 0))||b||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of v)this.g.setRequestHeader(K,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{js(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Wu(this,K)}};function Wu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,xa(c),dr(c)}function xa(c){c.A||(c.A=!0,Ke(c,"complete"),Ke(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ke(this,"complete"),Ke(this,"abort"),dr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dr(this,!0)),Ge.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ma(this):this.bb())},r.bb=function(){Ma(this)};function Ma(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Dn(c)!=4||c.Z()!=2)){if(c.u&&Dn(c)==4)Xt(c.Ea,0,c);else if(Ke(c,"readystatechange"),Dn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var b;if(b=ae===0){var z=String(c.D).match(xs)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),b=!Oa.test(z?z.toLowerCase():"")}v=b}if(v)Ke(c,"complete"),Ke(c,"success");else{c.m=6;try{var K=2<Dn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",xa(c)}}finally{dr(c)}}}}function dr(c,y){if(c.g){js(c);const v=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ke(c,"ready");try{v.onreadystatechange=b}catch{}}}function js(c){c.I&&(d.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Dn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Aa(y)}};function Zu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ff(c){const y={};c=(c.g&&2<=Dn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(X(c[b]))continue;var v=L(c[b]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[z]||[];y[z]=K,K.push(v)}x(y,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bs(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function ka(c){this.Aa=0,this.i=[],this.j=new wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bs("baseRetryDelayMs",5e3,c),this.cb=Bs("retryDelaySeedMs",1e4,c),this.Wa=Bs("forwardChannelMaxRetries",2,c),this.wa=Bs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ur(c&&c.concurrentRequestLimit),this.Da=new Ls,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ka.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,b){ot(0),this.W=c,this.H=y||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=sc(this,null,this.W),Pa(this)};function ol(c){if(Ju(c),c.G==3){var y=c.U++,v=gn(c.I);if(We(v,"SID",c.K),We(v,"RID",y),We(v,"TYPE","terminate"),zs(c,v),y=new rn(c,c.j,y),y.L=2,y.v=ks(gn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=ac(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ds(y)}ic(c)}function Va(c){c.g&&(qs(c),c.g.cancel(),c.g=null)}function Ju(c){Va(c),c.u&&(d.clearTimeout(c.u),c.u=null),La(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Pa(c){if(!wa(c.h)&&!c.s){c.s=!0;var y=c.Ga;se||M(),ce||(se(),ce=!0),Ue.add(y,c),c.B=0}}function Gf(c,y){return Ca(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Tt(A(c.Ga,c,y),cl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new rn(this,this.j,c);let K=this.o;if(this.S&&(K?(K=w(K),V(K,this.S)):K=this.S),this.m!==null||this.O||(z.H=K,K=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=ec(this,z,y),v=gn(this.I),We(v,"RID",c),We(v,"CVER",22),this.D&&We(v,"X-HTTP-Session-Id",this.D),zs(this,v),K&&(this.O?y="headers="+encodeURIComponent(String(al(K)))+"&"+y:this.m&&Vt(v,this.m,K)),Ia(this.h,z),this.Ua&&We(v,"TYPE","init"),this.P?(We(v,"$req",y),We(v,"SID","null"),z.T=!0,Fn(z,v,null)):Fn(z,v,y),this.G=2}}else this.G==3&&(c?ll(this,c):this.i.length==0||wa(this.h)||ll(this))};function ll(c,y){var v;y?v=y.l:v=c.U++;const b=gn(c.I);We(b,"SID",c.K),We(b,"RID",v),We(b,"AID",c.T),zs(c,b),c.m&&c.o&&Vt(b,c.m,c.o),v=new rn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ec(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ia(c.h,v),Fn(v,b,y)}function zs(c,y){c.H&&he(c.H,function(v,b){We(y,b,v)}),c.l&&tl({},function(v,b){We(y,b,v)})}function ec(c,y,v){v=Math.min(c.i.length,v);var b=c.l?A(c.l.Na,c.l,c):null;e:{var z=c.i;let K=-1;for(;;){const ae=["count="+v];K==-1?0<v?(K=z[0].g,ae.push("ofs="+K)):K=0:ae.push("ofs="+K);let je=!0;for(let Dt=0;Dt<v;Dt++){let Be=z[Dt].g;const Pt=z[Dt].map;if(Be-=K,0>Be)K=Math.max(0,z[Dt].g-100),je=!1;else try{cr(Pt,ae,"req"+Be+"_")}catch{b&&b(Pt)}}if(je){b=ae.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,b}function tc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;se||M(),ce||(se(),ce=!0),Ue.add(y,c),c.v=0}}function ul(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Tt(A(c.Fa,c),cl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,nc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Tt(A(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),Va(this),nc(this))};function qs(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function nc(c){c.g=new rn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=gn(c.qa);We(y,"RID","rpc"),We(y,"SID",c.K),We(y,"AID",c.T),We(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(y,"TO",c.ja),We(y,"TYPE","xmlhttp"),zs(c,y),c.m&&c.o&&Vt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ks(gn(y)),v.m=null,v.P=!0,Lr(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Va(this),ul(this),ot(19))};function La(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function rc(c,y){var v=null;if(c.g==y){La(c),qs(c),c.g=null;var b=2}else if(Jo(c.h,y))v=y.D,sn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;b=wi(),Ke(b,new Nt(b,v)),Pa(c)}else tc(c);else if(z=y.s,z==3||z==0&&0<y.X||!(b==1&&Gf(c,y)||b==2&&ul(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),z){case 1:Fr(c,5);break;case 4:Fr(c,10);break;case 3:Fr(c,6);break;default:Fr(c,2)}}}function cl(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Fr(c,y){if(c.j.info("Error code "+y),y==2){var v=A(c.fb,c),b=c.Xa;const z=!b;b=new St(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ms(b,"https"),ks(b),z?Ps(b.toString(),v):Gn(b.toString(),v)}else ot(2);c.G=0,c.l&&c.l.sa(y),ic(c),Ju(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function ic(c){if(c.G=0,c.ka=[],c.l){const y=el(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function sc(c,y,v){var b=v instanceof St?gn(v):new St(v);if(b.g!="")y&&(b.g=y+"."+b.g),Oi(b,b.s);else{var z=d.location;b=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var K=new St(null);b&&Ms(K,b),y&&(K.g=y),z&&Oi(K,z),v&&(K.l=v),b=K}return v=c.D,y=c.ya,v&&y&&We(b,v,y),We(b,"VER",c.la),zs(c,b),b}function ac(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ge(new xi({eb:v})):new Ge(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function oc(){}r=oc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ua(){}Ua.prototype.g=function(c,y){return new an(c,y)};function an(c,y){dt.call(this),this.g=new ka(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!X(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!X(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new mr(this)}P(an,dt),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){ol(this.g)},an.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Hn(c),c=v);y.i.push(new Qu(y.Ya++,c)),y.G==3&&Pa(y)},an.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,an.aa.N.call(this)};function lc(c){Vr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}P(lc,Vr);function uc(){Yo.call(this),this.status=1}P(uc,Yo);function mr(c){this.g=c}P(mr,oc),mr.prototype.ua=function(){Ke(this.g,"a")},mr.prototype.ta=function(c){Ke(this.g,new lc(c))},mr.prototype.sa=function(c){Ke(this.g,new uc)},mr.prototype.ra=function(){Ke(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,fA=function(){return new Ua},hA=function(){return wi()},cA=sr,bp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ni.NO_ERROR=0,Ni.TIMEOUT=8,Ni.HTTP_ERROR=6,Ch=Ni,Pr.COMPLETE="complete",uA=Pr,Qo.EventType=kr,kr.OPEN="a",kr.CLOSE="b",kr.ERROR="c",kr.MESSAGE="d",dt.prototype.listen=dt.prototype.K,iu=Qo,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,lA=Ge}).apply(typeof dh<"u"?dh:typeof self<"u"?self:typeof window<"u"?window:{});const RT="@firebase/firestore",wT="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new ug("@firebase/firestore");function yo(){return da.logLevel}function de(r,...e){if(da.logLevel<=Ve.DEBUG){const t=e.map(Sg);da.debug(`Firestore (${Lo}): ${r}`,...t)}}function Si(r,...e){if(da.logLevel<=Ve.ERROR){const t=e.map(Sg);da.error(`Firestore (${Lo}): ${r}`,...t)}}function Co(r,...e){if(da.logLevel<=Ve.WARN){const t=e.map(Sg);da.warn(`Firestore (${Lo}): ${r}`,...t)}}function Sg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,dA(r,s,t)}function dA(r,e,t){let s=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Si(s),new Error(s)}function $e(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||dA(e,o,s)}function Ce(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends xr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class b2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(en.UNAUTHENTICATED)))}shutdown(){}}class R2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class w2{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new gi,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new gi)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string",31837,{l:s}),new mA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class C2{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class I2{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new C2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class CT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0,3512);const s=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new CT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?($e(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new CT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=D2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Pe(r,e){return r<e?-1:r>e?1:0}function Rp(r,e){const t=Math.min(r.length,e.length);for(let s=0;s<t;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return np(o)===np(u)?Pe(o,u):np(o)?1:-1}return Pe(r.length,e.length)}const O2=55296,x2=57343;function np(r){const e=r.charCodeAt(0);return e>=O2&&e<=x2}function Io(r,e,t){return r.length===e.length&&r.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="__name__";class Tr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Te(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Tr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tr?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Tr.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Pe(e.length,t.length)}static compareSegments(e,t){const s=Tr.isNumericId(e),o=Tr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Tr.extractNumericId(e).compare(Tr.extractNumericId(t)):Rp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ls.fromString(e.substring(4,e.length-2))}}class st extends Tr{construct(e,t,s){return new st(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new st(t)}static emptyPath(){return new st([])}}const M2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Tr{construct(e,t,s){return new Kt(e,t,s)}static isValidIdentifier(e){return M2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IT}static keyField(){return new Kt([IT])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new fe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(u(),o++)}if(u(),h)throw new fe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(t)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(st.fromString(e))}static fromName(e){return new ye(st.fromString(e).popFirst(5))}static empty(){return new ye(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new st(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(r,e,t){if(!t)throw new fe(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function k2(r,e,t,s){if(e===!0&&s===!0)throw new fe(ee.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function NT(r){if(!ye.isDocumentKey(r))throw new fe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function DT(r){if(ye.isDocumentKey(r))throw new fe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function gA(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function yf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function hs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new fe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=yf(r);throw new fe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(r,e){const t={typeString:r};return e&&(t.value=e),t}function ku(r,e){if(!gA(r))throw new fe(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new fe(ee.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=-62135596800,xT=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*xT);return new at(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<OT)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xT}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ku(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-OT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Ct("string",at._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new at(0,0))}static max(){return new Re(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=-1;function V2(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new at(t+1,0):new at(t,s));return new fs(o,ye.empty(),e)}function P2(r){return new fs(r.readTime,r.key,vu)}class fs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new fs(Re.min(),ye.empty(),vu)}static max(){return new fs(Re.max(),ye.empty(),vu)}}function L2(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(r.documentKey,e.documentKey),t!==0?t:Pe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==U2)throw r;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.reject(t)}static resolve(e){return new ne(((t,s)=>{t(e)}))}static reject(e){return new ne(((t,s)=>{s(e)}))}static waitFor(e){return new ne(((t,s)=>{let o=0,u=0,h=!1;e.forEach((d=>{++o,d.next((()=>{++u,h&&u===o&&t()}),(p=>s(p)))})),h=!0,u===o&&t()}))}static or(e){let t=ne.resolve(!1);for(const s of e)t=t.next((o=>o?ne.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,u)=>{s.push(t.call(this,o,u))})),this.waitFor(s)}static mapArray(e,t){return new ne(((s,o)=>{const u=e.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next((_=>{h[g]=_,++d,d===u&&s(h)}),(_=>o(_)))}}))}static doWhile(e,t){return new ne(((s,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):s()};u()}))}}function B2(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function jo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_f.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg=-1;function vf(r){return r==null}function $h(r){return r===0&&1/r==-1/0}function z2(r){return typeof r=="number"&&Number.isInteger(r)&&!$h(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="";function q2(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=MT(e)),e=H2(r.get(t),e);return MT(e)}function H2(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case yA:t+="";break;default:t+=u}}return t}function MT(r){return r+yA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ya(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function _A(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,t){this.comparator=e,this.root=t||$t.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mh(this.root,e,this.comparator,!0)}}class mh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??$t.RED,this.left=o??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new $t(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new $t(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new VT(this.data.getIterator())}getIteratorFrom(e){return new VT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new kt(this.comparator);return t.data=e,t}}class VT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Zn([])}unionWith(e){let t=new kt(Kt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Io(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new vA("Invalid base64 string: "+u):u}})(e);return new Qt(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const F2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(r){if($e(!!r,39018),typeof r=="string"){let e=0;const t=F2.exec(r);if($e(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(r.seconds),nanos:vt(r.nanos)}}function vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ms(r){return typeof r=="string"?Qt.fromBase64String(r):Qt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="server_timestamp",TA="__type__",SA="__previous_value__",AA="__local_write_time__";function Rg(r){return(r?.mapValue?.fields||{})[TA]?.stringValue===EA}function Ef(r){const e=r.mapValue.fields[SA];return Rg(e)?Ef(e):e}function Eu(r){const e=ds(r.mapValue.fields[AA].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,t,s,o,u,h,d,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Kh="(default)";class Tu{constructor(e,t){this.projectId=e,this.database=t||Kh}static empty(){return new Tu("","")}get isDefaultDatabase(){return this.database===Kh}isEqual(e){return e instanceof Tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="__type__",$2="__max__",ph={mapValue:{}},RA="__vector__",Qh="value";function ps(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Rg(r)?4:Q2(r)?9007199254740991:K2(r)?10:11:Te(28295,{value:r})}function Or(r,e){if(r===e)return!0;const t=ps(r);if(t!==ps(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Eu(r).isEqual(Eu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ds(o.timestampValue),d=ds(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ms(o.bytesValue).isEqual(ms(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=vt(o.doubleValue),d=vt(u.doubleValue);return h===d?$h(h)===$h(d):isNaN(h)&&isNaN(d)}return!1})(r,e);case 9:return Io(r.arrayValue.values||[],e.arrayValue.values||[],Or);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(kT(h)!==kT(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Or(h[p],d[p])))return!1;return!0})(r,e);default:return Te(52216,{left:r})}}function Su(r,e){return(r.values||[]).find((t=>Or(t,e)))!==void 0}function No(r,e){if(r===e)return 0;const t=ps(r),s=ps(e);if(t!==s)return Pe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const d=vt(u.integerValue||u.doubleValue),p=vt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(r,e);case 3:return PT(r.timestampValue,e.timestampValue);case 4:return PT(Eu(r),Eu(e));case 5:return Rp(r.stringValue,e.stringValue);case 6:return(function(u,h){const d=ms(u),p=ms(h);return d.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const d=u.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=Pe(d[g],p[g]);if(_!==0)return _}return Pe(d.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const d=Pe(vt(u.latitude),vt(h.latitude));return d!==0?d:Pe(vt(u.longitude),vt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return LT(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const d=u.fields||{},p=h.fields||{},g=d[Qh]?.arrayValue,_=p[Qh]?.arrayValue,S=Pe(g?.values?.length||0,_?.values?.length||0);return S!==0?S:LT(g,_)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===ph.mapValue&&h===ph.mapValue)return 0;if(u===ph.mapValue)return 1;if(h===ph.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=h.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let S=0;S<p.length&&S<_.length;++S){const A=Rp(p[S],_[S]);if(A!==0)return A;const N=No(d[p[S]],g[_[S]]);if(N!==0)return N}return Pe(p.length,_.length)})(r.mapValue,e.mapValue);default:throw Te(23264,{he:t})}}function PT(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const t=ds(r),s=ds(e),o=Pe(t.seconds,s.seconds);return o!==0?o:Pe(t.nanos,s.nanos)}function LT(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=No(t[o],s[o]);if(u)return u}return Pe(t.length,s.length)}function Do(r){return wp(r)}function wp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const s=ds(t);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return ms(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return ye.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=wp(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${wp(t.fields[h])}`;return o+"}"})(r.mapValue):Te(61005,{value:r})}function Ih(r){switch(ps(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ef(r);return e?16+Ih(e):16;case 5:return 2*r.stringValue.length;case 6:return ms(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Ih(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ya(s.fields,((u,h)=>{o+=u.length+Ih(h)})),o})(r.mapValue);default:throw Te(13486,{value:r})}}function UT(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Cp(r){return!!r&&"integerValue"in r}function wg(r){return!!r&&"arrayValue"in r}function jT(r){return!!r&&"nullValue"in r}function BT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Nh(r){return!!r&&"mapValue"in r}function K2(r){return(r?.mapValue?.fields||{})[bA]?.stringValue===RA}function hu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ya(r.mapValue.fields,((t,s)=>e.mapValue.fields[t]=hu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hu(r.arrayValue.values[t]);return e}return{...r}}function Q2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===$2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Nh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hu(t)}setAll(e){let t=Kt.emptyPath(),s={},o=[];e.forEach(((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=hu(h):o.push(d.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Nh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Or(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ya(t,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Un(hu(this.value))}}function wA(r){const e=[];return ya(r.fields,((t,s)=>{const o=new Kt([t]);if(Nh(s)){const u=wA(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,t,s,o,u,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new tn(e,0,Re.min(),Re.min(),Re.min(),Un.empty(),0)}static newFoundDocument(e,t,s,o){return new tn(e,1,t,Re.min(),s,o,0)}static newNoDocument(e,t){return new tn(e,2,t,Re.min(),Re.min(),Un.empty(),0)}static newUnknownDocument(e,t){return new tn(e,3,t,Re.min(),Re.min(),Un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t){this.position=e,this.inclusive=t}}function zT(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),t.key):s=No(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function qT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Or(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t="asc"){this.field=e,this.dir=t}}function Y2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{}class wt extends CA{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new W2(e,t,s):t==="array-contains"?new ex(e,s):t==="in"?new tx(e,s):t==="not-in"?new nx(e,s):t==="array-contains-any"?new rx(e,s):new wt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new Z2(e,s):new J2(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(No(t,this.value)):t!==null&&ps(this.value)===ps(t)&&this.matchesComparison(No(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends CA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new tr(e,t)}matches(e){return IA(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function IA(r){return r.op==="and"}function NA(r){return X2(r)&&IA(r)}function X2(r){for(const e of r.filters)if(e instanceof tr)return!1;return!0}function Ip(r){if(r instanceof wt)return r.field.canonicalString()+r.op.toString()+Do(r.value);if(NA(r))return r.filters.map((e=>Ip(e))).join(",");{const e=r.filters.map((t=>Ip(t))).join(",");return`${r.op}(${e})`}}function DA(r,e){return r instanceof wt?(function(s,o){return o instanceof wt&&s.op===o.op&&s.field.isEqual(o.field)&&Or(s.value,o.value)})(r,e):r instanceof tr?(function(s,o){return o instanceof tr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,d)=>u&&DA(h,o.filters[d])),!0):!1})(r,e):void Te(19439)}function OA(r){return r instanceof wt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Do(t.value)}`})(r):r instanceof tr?(function(t){return t.op.toString()+" {"+t.getFilters().map(OA).join(" ,")+"}"})(r):"Filter"}class W2 extends wt{constructor(e,t,s){super(e,t,s),this.key=ye.fromName(s.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class Z2 extends wt{constructor(e,t){super(e,"in",t),this.keys=xA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class J2 extends wt{constructor(e,t){super(e,"not-in",t),this.keys=xA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function xA(r,e){return(e.arrayValue?.values||[]).map((t=>ye.fromName(t.referenceValue)))}class ex extends wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wg(t)&&Su(t.arrayValue,this.value)}}class tx extends wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Su(this.value.arrayValue,t)}}class nx extends wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Su(this.value.arrayValue,t)}}class rx extends wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Su(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,t=null,s=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.Te=null}}function HT(r,e=null,t=[],s=[],o=null,u=null,h=null){return new ix(r,e,t,s,o,u,h)}function Cg(r){const e=Ce(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Ip(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),vf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Do(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Do(s))).join(",")),e.Te=t}return e.Te}function Ig(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Y2(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!DA(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!qT(r.startAt,e.startAt)&&qT(r.endAt,e.endAt)}function Np(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,t=null,s=[],o=[],u=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sx(r,e,t,s,o,u,h,d){return new Vu(r,e,t,s,o,u,h,d)}function Ng(r){return new Vu(r)}function FT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function MA(r){return r.collectionGroup!==null}function fu(r){const e=Ce(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new kt(Kt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Xh(u,s))})),t.has(Kt.keyField().canonicalString())||e.Ie.push(new Xh(Kt.keyField(),s))}return e.Ie}function Rr(r){const e=Ce(r);return e.Ee||(e.Ee=ax(e,fu(r))),e.Ee}function ax(r,e){if(r.limitType==="F")return HT(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Xh(o.field,u)}));const t=r.endAt?new Yh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Yh(r.startAt.position,r.startAt.inclusive):null;return HT(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Dp(r,e){const t=r.filters.concat([e]);return new Vu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Op(r,e,t){return new Vu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Tf(r,e){return Ig(Rr(r),Rr(e))&&r.limitType===e.limitType}function kA(r){return`${Cg(Rr(r))}|lt:${r.limitType}`}function _o(r){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>OA(o))).join(", ")}]`),vf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Do(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Do(o))).join(",")),`Target(${s})`})(Rr(r))}; limitType=${r.limitType})`}function Sf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of fu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,d,p){const g=zT(h,d,p);return h.inclusive?g<=0:g<0})(s.startAt,fu(s),o)||s.endAt&&!(function(h,d,p){const g=zT(h,d,p);return h.inclusive?g>=0:g>0})(s.endAt,fu(s),o))})(r,e)}function ox(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function VA(r){return(e,t)=>{let s=!1;for(const o of fu(r)){const u=lx(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function lx(r,e,t){const s=r.field.isKeyField()?ye.comparator(e.key,t.key):(function(u,h,d){const p=h.data.field(u),g=d.data.field(u);return p!==null&&g!==null?No(p,g):Te(42886)})(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ya(this.inner,((t,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return _A(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=new ht(ye.comparator);function Ai(){return ux}const PA=new ht(ye.comparator);function su(...r){let e=PA;for(const t of r)e=e.insert(t.key,t);return e}function LA(r){let e=PA;return r.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function oa(){return du()}function UA(){return du()}function du(){return new _a((r=>r.toString()),((r,e)=>r.isEqual(e)))}const cx=new ht(ye.comparator),hx=new kt(ye.comparator);function Le(...r){let e=hx;for(const t of r)e=e.add(t);return e}const fx=new kt(Pe);function dx(){return fx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$h(e)?"-0":e}}function jA(r){return{integerValue:""+r}}function mx(r,e){return z2(e)?jA(e):Dg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(){this._=void 0}}function px(r,e,t){return r instanceof Wh?(function(o,u){const h={fields:{[TA]:{stringValue:EA},[AA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Rg(u)&&(u=Ef(u)),u&&(h.fields[SA]=u),{mapValue:h}})(t,e):r instanceof Au?zA(r,e):r instanceof bu?qA(r,e):(function(o,u){const h=BA(o,u),d=GT(h)+GT(o.Ae);return Cp(h)&&Cp(o.Ae)?jA(d):Dg(o.serializer,d)})(r,e)}function gx(r,e,t){return r instanceof Au?zA(r,e):r instanceof bu?qA(r,e):t}function BA(r,e){return r instanceof Zh?(function(s){return Cp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Wh extends Af{}class Au extends Af{constructor(e){super(),this.elements=e}}function zA(r,e){const t=HA(e);for(const s of r.elements)t.some((o=>Or(o,s)))||t.push(s);return{arrayValue:{values:t}}}class bu extends Af{constructor(e){super(),this.elements=e}}function qA(r,e){let t=HA(e);for(const s of r.elements)t=t.filter((o=>!Or(o,s)));return{arrayValue:{values:t}}}class Zh extends Af{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function GT(r){return vt(r.integerValue||r.doubleValue)}function HA(r){return wg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function yx(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Au&&o instanceof Au||s instanceof bu&&o instanceof bu?Io(s.elements,o.elements,Or):s instanceof Zh&&o instanceof Zh?Or(s.Ae,o.Ae):s instanceof Wh&&o instanceof Wh})(r.transform,e.transform)}class _x{constructor(e,t){this.version=e,this.transformResults=t}}class wr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class bf{}function FA(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new $A(r.key,wr.none()):new Pu(r.key,r.data,wr.none());{const t=r.data,s=Un.empty();let o=new kt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new va(r.key,s,new Zn(o.toArray()),wr.none())}}function vx(r,e,t){r instanceof Pu?(function(o,u,h){const d=o.value.clone(),p=KT(o.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()})(r,e,t):r instanceof va?(function(o,u,h){if(!Dh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=KT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(GA(o)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,t):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function mu(r,e,t,s){return r instanceof Pu?(function(u,h,d,p){if(!Dh(u.precondition,h))return d;const g=u.value.clone(),_=QT(u.fieldTransforms,p,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,e,t,s):r instanceof va?(function(u,h,d,p){if(!Dh(u.precondition,h))return d;const g=QT(u.fieldTransforms,p,h),_=h.data;return _.setAll(GA(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,e,t,s):(function(u,h,d){return Dh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d})(r,e,t)}function Ex(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=BA(s.transform,o||null);u!=null&&(t===null&&(t=Un.empty()),t.set(s.field,u))}return t||null}function $T(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Io(s,o,((u,h)=>yx(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Pu extends bf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class va extends bf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function GA(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}})),e}function KT(r,e,t){const s=new Map;$e(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,d=e.data.field(u.field);s.set(u.field,gx(h,d,t[o]))}return s}function QT(r,e,t){const s=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);s.set(o.field,px(u,h,e))}return s}class $A extends bf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tx extends bf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&vx(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=mu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=mu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=UA();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(o.key)?null:d;const p=FA(h,d);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Le())}isEqual(e){return this.batchId===e.batchId&&Io(this.mutations,e.mutations,((t,s)=>$T(t,s)))&&Io(this.baseMutations,e.baseMutations,((t,s)=>$T(t,s)))}}class Og{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){$e(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return cx})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Og(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,qe;function Rx(r){switch(r){case ee.OK:return Te(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function KA(r){if(r===void 0)return Si("GRPC error has no .code"),ee.UNKNOWN;switch(r){case Rt.OK:return ee.OK;case Rt.CANCELLED:return ee.CANCELLED;case Rt.UNKNOWN:return ee.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ee.INTERNAL;case Rt.UNAVAILABLE:return ee.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ee.NOT_FOUND;case Rt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Rt.ABORTED:return ee.ABORTED;case Rt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Rt.DATA_LOSS:return ee.DATA_LOSS;default:return Te(39323,{code:r})}}(qe=Rt||(Rt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=new ls([4294967295,4294967295],0);function YT(r){const e=wx().encode(r),t=new oA;return t.update(e),new Uint8Array(t.digest())}function XT(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ls([t,s],0),new ls([o,u],0)]}class xg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new au(`Invalid padding: ${t}`);if(s<0)throw new au(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new au(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ls.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(ls.fromNumber(s)));return o.compare(Cx)===1&&(o=new ls([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=YT(e),[s,o]=XT(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new xg(u,o,t);return s.forEach((d=>h.insert(d))),h}insert(e){if(this.ge===0)return;const t=YT(e),[s,o]=XT(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Lu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Rf(Re.min(),o,new ht(Pe),Ai(),Le())}}class Lu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Lu(s,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class QA{constructor(e,t){this.targetId=e,this.Ce=t}}class YA{constructor(e,t,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class WT{constructor(){this.ve=0,this.Fe=ZT(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),t=Le(),s=Le();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}})),new Lu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=ZT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ix{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ai(),this.Je=gh(),this.He=gh(),this.Ye=new ht(Pe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(Np(u))if(s===0){const h=new ye(u.path);this.et(t,h,tn.newNoDocument(h,Re.min()))}else $e(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const d=this.ut(e),p=d?this.ct(d,e,h):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,d;try{h=ms(s).toUint8Array()}catch(p){if(p instanceof vA)return Co("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new xg(h,o,u)}catch(p){return Co(p instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,h)=>{const d=this.ot(h);if(d){if(u.current&&Np(d.target)){const p=new ye(d.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,tn.newNoDocument(p,e))}u.Be&&(t.set(h,u.ke()),u.qe())}}));let s=Le();this.He.forEach(((u,h)=>{let d=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Rf(e,t,this.Ye,this.je,s);return this.je=Ai(),this.Je=gh(),this.He=gh(),this.Ye=new ht(Pe),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new WT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new kt(Pe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new kt(Pe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new WT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function gh(){return new ht(ye.comparator)}function ZT(){return new ht(ye.comparator)}const Nx={asc:"ASCENDING",desc:"DESCENDING"},Dx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ox={and:"AND",or:"OR"};class xx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xp(r,e){return r.useProto3Json||vf(e)?e:{value:e}}function Jh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XA(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Mx(r,e){return Jh(r,e.toTimestamp())}function Cr(r){return $e(!!r,49232),Re.fromTimestamp((function(t){const s=ds(t);return new at(s.seconds,s.nanos)})(r))}function Mg(r,e){return Mp(r,e).canonicalString()}function Mp(r,e){const t=(function(o){return new st(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function WA(r){const e=st.fromString(r);return $e(nb(e),10190,{key:e.toString()}),e}function kp(r,e){return Mg(r.databaseId,e.path)}function rp(r,e){const t=WA(e);if(t.get(1)!==r.databaseId.projectId)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ye(JA(t))}function ZA(r,e){return Mg(r.databaseId,e)}function kx(r){const e=WA(r);return e.length===4?st.emptyPath():JA(e)}function Vp(r){return new st(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function JA(r){return $e(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function JT(r,e,t){return{name:kp(r,e),fields:t.value.mapValue.fields}}function Vx(r,e){let t;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,_){return g.useProto3Json?($e(_===void 0||typeof _=="string",58123),Qt.fromBase64String(_||"")):($e(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Qt.fromUint8Array(_||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&(function(g){const _=g.code===void 0?ee.UNKNOWN:KA(g.code);return new fe(_,g.message||"")})(h);t=new YA(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=rp(r,s.document.name),u=Cr(s.document.updateTime),h=s.document.createTime?Cr(s.document.createTime):Re.min(),d=new Un({mapValue:{fields:s.document.fields}}),p=tn.newFoundDocument(o,u,h,d),g=s.targetIds||[],_=s.removedTargetIds||[];t=new Oh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=rp(r,s.document),u=s.readTime?Cr(s.readTime):Re.min(),h=tn.newNoDocument(o,u),d=s.removedTargetIds||[];t=new Oh([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=rp(r,s.document),u=s.removedTargetIds||[];t=new Oh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new bx(o,u),d=s.targetId;t=new QA(d,h)}}return t}function Px(r,e){let t;if(e instanceof Pu)t={update:JT(r,e.key,e.value)};else if(e instanceof $A)t={delete:kp(r,e.key)};else if(e instanceof va)t={update:JT(r,e.key,e.data),updateMask:Gx(e.fieldMask)};else{if(!(e instanceof Tx))return Te(16599,{Vt:e.type});t={verify:kp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const d=h.transform;if(d instanceof Wh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Au)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof bu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Zh)return{fieldPath:h.field.canonicalString(),increment:d.Ae};throw Te(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Mx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)})(r,e.precondition)),t}function Lx(r,e){return r&&r.length>0?($e(e!==void 0,14353),r.map((t=>(function(o,u){let h=o.updateTime?Cr(o.updateTime):Cr(u);return h.isEqual(Re.min())&&(h=Cr(u)),new _x(h,o.transformResults||[])})(t,e)))):[]}function Ux(r,e){return{documents:[ZA(r,e.path)]}}function jx(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=ZA(r,o);const u=(function(g){if(g.length!==0)return tb(tr.create(g,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((_=>(function(A){return{field:vo(A.field),direction:qx(A.dir)}})(_)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=xp(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function Bx(r){let e=kx(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){$e(s===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=(function(S){const A=eb(S);return A instanceof tr&&NA(A)?A.getFilters():[A]})(t.where));let h=[];t.orderBy&&(h=(function(S){return S.map((A=>(function(P){return new Xh(Eo(P.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(A)))})(t.orderBy));let d=null;t.limit&&(d=(function(S){let A;return A=typeof S=="object"?S.value:S,vf(A)?null:A})(t.limit));let p=null;t.startAt&&(p=(function(S){const A=!!S.before,N=S.values||[];return new Yh(N,A)})(t.startAt));let g=null;return t.endAt&&(g=(function(S){const A=!S.before,N=S.values||[];return new Yh(N,A)})(t.endAt)),sx(e,o,h,u,d,"F",p,g)}function zx(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function eb(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Eo(t.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Eo(t.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Eo(t.unaryFilter.field);return wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Eo(t.unaryFilter.field);return wt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(r):r.fieldFilter!==void 0?(function(t){return wt.create(Eo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return tr.create(t.compositeFilter.filters.map((s=>eb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(t.compositeFilter.op))})(r):Te(30097,{filter:r})}function qx(r){return Nx[r]}function Hx(r){return Dx[r]}function Fx(r){return Ox[r]}function vo(r){return{fieldPath:r.canonicalString()}}function Eo(r){return Kt.fromServerFormat(r.fieldPath)}function tb(r){return r instanceof wt?(function(t){if(t.op==="=="){if(BT(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NAN"}};if(jT(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(BT(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NOT_NAN"}};if(jT(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(t.field),op:Hx(t.op),value:t.value}}})(r):r instanceof tr?(function(t){const s=t.getFilters().map((o=>tb(o)));return s.length===1?s[0]:{compositeFilter:{op:Fx(t.op),filters:s}}})(r):Te(54877,{filter:r})}function Gx(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function nb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,t,s,o,u=Re.min(),h=Re.min(),d=Qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.yt=e}}function Kx(r){const e=Bx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Op(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this.Cn=new Yx}addToCollectionParentIndex(e,t){return this.Cn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(fs.min())}updateCollectionGroup(e,t,s){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class Yx{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new kt(st.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rb=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(rb,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Oo(0)}static cr(){return new Oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="LruGarbageCollector",Xx=1048576;function n0([r,e],[t,s]){const o=Pe(r,t);return o===0?Pe(e,s):o}class Wx{constructor(e){this.Ir=e,this.buffer=new kt(n0),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();n0(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Zx{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(t0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){jo(t)?de(t0,"Ignoring IndexedDB error during garbage collection: ",t):await Uo(t)}await this.Vr(3e5)}))}}class Jx{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(_f.ce);const s=new Wx(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(e0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e0):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,u,h,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,d=Date.now(),this.removeTargets(e,s,t)))).next((S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(g=Date.now(),yo()<=Ve.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function eM(r,e){return new Jx(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this.changes=new _a((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ne.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&mu(s.mutation,o,Zn.empty(),at.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Le()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Le()){const o=oa();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((u=>{let h=su();return u.forEach(((d,p)=>{h=h.insert(d,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const s=oa();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Le())))}populateOverlays(e,t,s){const o=[];return s.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,d)=>{t.set(h,d)}))}))}computeViews(e,t,s,o){let u=Ai();const h=du(),d=(function(){return du()})();return t.forEach(((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof va)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),mu(_.mutation,g,_.mutation.getFieldMask(),at.now())):h.set(g.key,Zn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,_)=>h.set(g,_))),t.forEach(((g,_)=>d.set(g,new nM(_,h.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const s=du();let o=new ht(((h,d)=>h-d)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const d of h)d.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let _=s.get(p)||Zn.empty();_=d.applyToLocalView(g,_),s.set(p,_);const S=(o.get(d.batchId)||Le()).add(p);o=o.insert(d.batchId,S)}))})).next((()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,S=UA();_.forEach((A=>{if(!u.has(A)){const N=FA(t.get(A),s.get(A));N!==null&&S.set(A,N),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,S))}return ne.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):MA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):ne.resolve(oa());let d=vu,p=u;return h.next((g=>ne.forEach(g,((_,S)=>(d<S.largestBatchId&&(d=S.largestBatchId),u.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next((A=>{p=p.insert(_,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Le()))).next((_=>({batchId:d,changes:LA(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next((s=>{let o=su();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=su();return this.indexManager.getCollectionParents(e,u).next((d=>ne.forEach(d,(p=>{const g=(function(S,A){return new Vu(A,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((_=>{_.forEach(((S,A)=>{h=h.insert(S,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,tn.newInvalidDocument(_)))}));let d=su();return h.forEach(((p,g)=>{const _=u.get(p);_!==void 0&&mu(_.mutation,g,Zn.empty(),at.now()),Sf(t,g)&&(d=d.insert(p,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ne.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Cr(o.createTime)}})(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:Kx(o.bundledQuery),readTime:Cr(o.readTime)}})(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this.overlays=new ht(ye.comparator),this.qr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const s=oa();return ne.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,u)=>{this.St(e,t,u)})),ne.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,t,s){const o=oa(),u=t.length+1,h=new ye(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ht(((g,_)=>g-_));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=oa(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=oa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>d.set(g,_))),!(d.size()>=o)););return ne.resolve(d)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new Ax(t,s));let u=this.qr.get(t);u===void 0&&(u=Le(),this.qr.set(t,u)),this.qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(){this.Qr=new kt(Bt.$r),this.Ur=new kt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Bt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Bt(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new ye(new st([])),s=new Bt(t,e),o=new Bt(t,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ye(new st([])),s=new Bt(t,e),o=new Bt(t,e+1);let u=Le();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const t=new Bt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ye.comparator(e.key,t.key)||Pe(e.Yr,t.Yr)}static Kr(e,t){return Pe(e.Yr,t.Yr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new kt(Bt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Sx(u,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Zr=this.Zr.add(new Bt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,t){return ne.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?bg:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Bt(t,0),o=new Bt(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const d=this.Xr(h.Yr);u.push(d)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new kt(Pe);return t.forEach((o=>{const u=new Bt(o,0),h=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(d=>{s=s.add(d.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const h=new Bt(new ye(u),0);let d=new kt(Pe);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Yr)),!0)}),h),ne.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){$e(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(t.mutations,(o=>{const u=new Bt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Bt(t,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e){this.ri=e,this.docs=(function(){return new ht(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ne.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(t))}getEntries(e,t){let s=Ai();return t.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Ai();const h=t.path,d=new ye(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||L2(P2(_),s)<=0||(o.has(_.key)||Sf(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Te(9500)}ii(e,t){return ne.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new uM(this)}getSize(e){return ne.resolve(this.size)}}class uM extends tM{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.persistence=e,this.si=new _a((t=>Cg(t)),Ig),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new kg,this.targetCount=0,this.ai=Oo.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),ne.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Oo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Pr(t),ne.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.si.forEach(((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return ne.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),ne.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return ne.resolve(s)}containsKey(e,t){return ne.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,t){this.ui={},this.overlays={},this.ci=new _f(0),this.li=!1,this.li=!0,this.hi=new aM,this.referenceDelegate=e(this),this.Pi=new cM(this),this.indexManager=new Qx,this.remoteDocumentCache=(function(o){return new lM(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new $x(t),this.Ii=new iM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new oM(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){de("MemoryPersistence","Starting transaction:",e);const o=new hM(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,t){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class hM extends j2{constructor(e){super(),this.currentSequenceNumber=e}}class Vg{constructor(e){this.persistence=e,this.Ri=new kg,this.Vi=null}static mi(e){return new Vg(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((u=>{u||t.removeEntry(o,Re.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ne.or([()=>ne.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ef{constructor(e,t){this.persistence=e,this.pi=new _a((s=>q2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=eM(this,t)}static mi(e,t){return new ef(e,t)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,t).next((d=>{d||(s++,u.removeEntry(h,Re.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ih(e.data.value)),t}br(e,t,s){return ne.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Le(),o=Le();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Pg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return mI()?8:B2(nn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ys(e,t).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,t,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new fM;return this.Ss(e,t,h).next((d=>{if(u.result=d,this.Vs)return this.bs(e,t,h,d.size)}))})).next((()=>u.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(yo()<=Ve.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",_o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(yo()<=Ve.DEBUG&&de("QueryEngine","Query:",_o(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(yo()<=Ve.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",_o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(t))):ne.resolve())}ys(e,t){if(FT(t))return ne.resolve(null);let s=Rr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Op(t,null,"F"),s=Rr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Le(...u);return this.ps.getDocuments(e,h).next((d=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(t,d);return this.Cs(t,g,h,p.readTime)?this.ys(e,Op(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,s,o){return FT(t)||o.isEqual(Re.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(t,u);return this.Cs(t,h,s,o)?ne.resolve(null):(yo()<=Ve.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(t)),this.vs(e,h,t,V2(o,vu)).next((d=>d)))}))}Ds(e,t){let s=new kt(VA(e));return t.forEach(((o,u)=>{Sf(e,u)&&(s=s.add(u))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,s){return yo()<=Ve.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",_o(t)),this.ps.getDocumentsMatchingQuery(e,t,fs.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(t.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="LocalStore",mM=3e8;class pM{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ht(Pe),this.xs=new _a((u=>Cg(u)),Ig),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function gM(r,e,t,s){return new pM(r,e,t,s)}async function sb(r,e){const t=Ce(r);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],d=[];let p=Le();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:d})))}))}))}function yM(r,e){const t=Ce(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,_){const S=g.batch,A=S.keys();let N=ne.resolve();return A.forEach((P=>{N=N.next((()=>_.getEntry(p,P))).next((G=>{const U=g.docVersions.get(P);$e(U!==null,48541),G.version.compareTo(U)<0&&(S.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),_.addEntry(G)))}))})),N.next((()=>d.mutationQueue.removeMutationBatch(p,S)))})(t,s,e,u).next((()=>u.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=Le();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function ab(r){const e=Ce(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function _M(r,e){const t=Ce(r),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach(((_,S)=>{const A=o.get(S);if(!A)return;d.push(t.Pi.removeMatchingKeys(u,_.removedDocuments,S).next((()=>t.Pi.addMatchingKeys(u,_.addedDocuments,S))));let N=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?N=N.withResumeToken(Qt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):_.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(_.resumeToken,s)),o=o.insert(S,N),(function(G,U,W){return G.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=mM?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(A,N,_)&&d.push(t.Pi.updateTargetData(u,N))}));let p=Ai(),g=Le();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))})),d.push(vM(u,h,e.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!s.isEqual(Re.min())){const _=t.Pi.getLastRemoteSnapshotVersion(u).next((S=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));d.push(_)}return ne.waitFor(d).next((()=>h.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(t.Ms=o,u)))}function vM(r,e,t){let s=Le(),o=Le();return t.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=Ai();return t.forEach(((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):de(Lg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function EM(r,e){const t=Ce(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=bg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function TM(r,e){const t=Ce(r);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):t.Pi.allocateTargetId(s).next((h=>(o=new ss(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Pp(r,e,t){const s=Ce(r),o=s.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!jo(h))throw h;de(Lg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function r0(r,e,t){const s=Ce(r);let o=Re.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,_){const S=Ce(p),A=S.xs.get(_);return A!==void 0?ne.resolve(S.Ms.get(A)):S.Pi.getTargetData(g,_)})(s,h,Rr(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,d.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,t?o:Re.min(),t?u:Le()))).next((d=>(SM(s,ox(e),d),{documents:d,Qs:u})))))}function SM(r,e,t){let s=r.Os.get(e)||Re.min();t.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class i0{constructor(){this.activeTargetIds=dx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AM{constructor(){this.Mo=new i0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new i0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="ConnectivityMonitor";class a0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(s0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(s0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh=null;function Lp(){return yh===null?yh=(function(){return 268435456+Math.round(2147483648*Math.random())})():yh++,"0x"+yh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="RestConnection",RM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Kh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,u){const h=Lp(),d=this.zo(e,t.toUriEncodedString());de(ip,`Sending RPC '${e}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(d),_=pa(g);return this.Jo(e,d,p,s,_).then((S=>(de(ip,`Received RPC '${e}' ${h}: `,S),S)),(S=>{throw Co(ip,`RPC '${e}' ${h} failed with error: `,S,"url: ",d,"request:",s),S}))}Ho(e,t,s,o,u,h){return this.Go(e,t,s,o,u)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Lo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,t){const s=RM[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class IM extends wM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const h=Lp();return new Promise(((d,p)=>{const g=new lA;g.setWithCredentials(!0),g.listenOnce(uA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Ch.NO_ERROR:const S=g.getResponseJson();de(Jt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),d(S);break;case Ch.TIMEOUT:de(Jt,`RPC '${e}' ${h} timed out`),p(new fe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Ch.HTTP_ERROR:const A=g.getStatus();if(de(Jt,`RPC '${e}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const P=N?.error;if(P&&P.status&&P.message){const G=(function(W){const X=W.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(X)>=0?X:ee.UNKNOWN})(P.status);p(new fe(G,P.message))}else p(new fe(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new fe(ee.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(Jt,`RPC '${e}' ${h} completed.`)}}));const _=JSON.stringify(o);de(Jt,`RPC '${e}' ${h} sending request:`,o),g.send(t,"POST",_,s,15)}))}T_(e,t,s){const o=Lp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=fA(),d=hA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const _=u.join("");de(Jt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const S=h.createWebChannel(_,p);this.I_(S);let A=!1,N=!1;const P=new CM({Yo:U=>{N?de(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(A||(de(Jt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),A=!0),de(Jt,`RPC '${e}' stream ${o} sending:`,U),S.send(U))},Zo:()=>S.close()}),G=(U,W,X)=>{U.listen(W,(J=>{try{X(J)}catch(oe){setTimeout((()=>{throw oe}),0)}}))};return G(S,iu.EventType.OPEN,(()=>{N||(de(Jt,`RPC '${e}' stream ${o} transport opened.`),P.o_())})),G(S,iu.EventType.CLOSE,(()=>{N||(N=!0,de(Jt,`RPC '${e}' stream ${o} transport closed`),P.a_(),this.E_(S))})),G(S,iu.EventType.ERROR,(U=>{N||(N=!0,Co(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),P.a_(new fe(ee.UNAVAILABLE,"The operation could not be completed")))})),G(S,iu.EventType.MESSAGE,(U=>{if(!N){const W=U.data[0];$e(!!W,16349);const X=W,J=X?.error||X[0]?.error;if(J){de(Jt,`RPC '${e}' stream ${o} received error:`,J);const oe=J.status;let ue=(function(w){const C=Rt[w];if(C!==void 0)return KA(C)})(oe),he=J.message;ue===void 0&&(ue=ee.INTERNAL,he="Unknown error status: "+oe+" with message "+J.message),N=!0,P.a_(new fe(ue,he)),S.close()}else de(Jt,`RPC '${e}' stream ${o} received:`,W),P.u_(W)}})),G(d,cA.STAT_EVENT,(U=>{U.stat===bp.PROXY?de(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===bp.NOPROXY&&de(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function sp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(r){return new xx(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="PersistentStream";class lb{constructor(e,t,s,o,u,h,d,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ob(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Si(t.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new fe(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(o0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(de(o0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NM extends lb{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Vx(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Re.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Re.min():h.readTime?Cr(h.readTime):Re.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Vp(this.serializer),t.addTarget=(function(u,h){let d;const p=h.target;if(d=Np(p)?{documents:Ux(u,p)}:{query:jx(u,p).ft},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=XA(u,h.resumeToken);const g=xp(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Re.min())>0){d.readTime=Jh(u,h.snapshotVersion.toTimestamp());const g=xp(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const s=zx(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Vp(this.serializer),t.removeTarget=e,this.q_(t)}}class DM extends lb{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Lx(e.writeResults,e.commitTime),s=Cr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Vp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>Px(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{}class xM extends OM{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Mp(t,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ee.UNKNOWN,u.toString())}))}Ho(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Ho(e,Mp(t,s),o,h,d,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new fe(ee.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class MM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Si(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="RemoteStore";class kM{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Ea(this)&&(de(ma,"Restarting streams for network reachability change."),await(async function(p){const g=Ce(p);g.Ea.add(4),await Uu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Cf(g)})(this))}))})),this.Ra=new MM(s,o)}}async function Cf(r){if(Ea(r))for(const e of r.da)await e(!0)}async function Uu(r){for(const e of r.da)await e(!1)}function ub(r,e){const t=Ce(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),zg(t)?Bg(t):Bo(t).O_()&&jg(t,e))}function Ug(r,e){const t=Ce(r),s=Bo(t);t.Ia.delete(e),s.O_()&&cb(t,e),t.Ia.size===0&&(s.O_()?s.L_():Ea(t)&&t.Ra.set("Unknown"))}function jg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Bo(r).Y_(e)}function cb(r,e){r.Va.Ue(e),Bo(r).Z_(e)}function Bg(r){r.Va=new Ix({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Bo(r).start(),r.Ra.ua()}function zg(r){return Ea(r)&&!Bo(r).x_()&&r.Ia.size>0}function Ea(r){return Ce(r).Ea.size===0}function hb(r){r.Va=void 0}async function VM(r){r.Ra.set("Online")}async function PM(r){r.Ia.forEach(((e,t)=>{jg(r,e)}))}async function LM(r,e){hb(r),zg(r)?(r.Ra.ha(e),Bg(r)):r.Ra.set("Unknown")}async function UM(r,e,t){if(r.Ra.set("Online"),e instanceof YA&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ia.delete(d),o.Va.removeTarget(d))})(r,e)}catch(s){de(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await tf(r,s)}else if(e instanceof Oh?r.Va.Ze(e):e instanceof QA?r.Va.st(e):r.Va.tt(e),!t.isEqual(Re.min()))try{const s=await ab(r.localStore);t.compareTo(s)>=0&&await(function(u,h){const d=u.Va.Tt(h);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(p.resumeToken,h))}})),d.targetMismatches.forEach(((p,g)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(Qt.EMPTY_BYTE_STRING,_.snapshotVersion)),cb(u,p);const S=new ss(_.target,p,g,_.sequenceNumber);jg(u,S)})),u.remoteSyncer.applyRemoteEvent(d)})(r,t)}catch(s){de(ma,"Failed to raise snapshot:",s),await tf(r,s)}}async function tf(r,e,t){if(!jo(e))throw e;r.Ea.add(1),await Uu(r),r.Ra.set("Offline"),t||(t=()=>ab(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{de(ma,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Cf(r)}))}function fb(r,e){return e().catch((t=>tf(r,t,e)))}async function If(r){const e=Ce(r),t=gs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bg;for(;jM(e);)try{const o=await EM(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,BM(e,o)}catch(o){await tf(e,o)}db(e)&&mb(e)}function jM(r){return Ea(r)&&r.Ta.length<10}function BM(r,e){r.Ta.push(e);const t=gs(r);t.O_()&&t.X_&&t.ea(e.mutations)}function db(r){return Ea(r)&&!gs(r).x_()&&r.Ta.length>0}function mb(r){gs(r).start()}async function zM(r){gs(r).ra()}async function qM(r){const e=gs(r);for(const t of r.Ta)e.ea(t.mutations)}async function HM(r,e,t){const s=r.Ta.shift(),o=Og.from(s,e,t);await fb(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await If(r)}async function FM(r,e){e&&gs(r).X_&&await(async function(s,o){if((function(h){return Rx(h)&&h!==ee.ABORTED})(o.code)){const u=s.Ta.shift();gs(s).B_(),await fb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await If(s)}})(r,e),db(r)&&mb(r)}async function l0(r,e){const t=Ce(r);t.asyncQueue.verifyOperationInProgress(),de(ma,"RemoteStore received new credentials");const s=Ea(t);t.Ea.add(3),await Uu(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Cf(t)}async function GM(r,e){const t=Ce(r);e?(t.Ea.delete(2),await Cf(t)):e||(t.Ea.add(2),await Uu(t),t.Ra.set("Unknown"))}function Bo(r){return r.ma||(r.ma=(function(t,s,o){const u=Ce(t);return u.sa(),new NM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:VM.bind(null,r),t_:PM.bind(null,r),r_:LM.bind(null,r),H_:UM.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),zg(r)?Bg(r):r.Ra.set("Unknown")):(await r.ma.stop(),hb(r))}))),r.ma}function gs(r){return r.fa||(r.fa=(function(t,s,o){const u=Ce(t);return u.sa(),new DM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:zM.bind(null,r),r_:FM.bind(null,r),ta:qM.bind(null,r),na:HM.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await If(r)):(await r.fa.stop(),r.Ta.length>0&&(de(ma,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,d=new qg(e,t,h,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hg(r,e){if(Si("AsyncQueue",`${e}: ${r}`),jo(r))return new fe(ee.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{static emptySet(e){return new Ro(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ye.comparator(t.key,s.key):(t,s)=>ye.comparator(t.key,s.key),this.keyedMap=su(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Ro;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(){this.ga=new ht(ye.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class xo{constructor(e,t,s,o,u,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach((d=>{h.push({type:0,doc:d})})),new xo(e,t,Ro.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class KM{constructor(){this.queries=c0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ce(t),u=o.queries;o.queries=c0(),u.forEach(((h,d)=>{for(const p of d.Sa)p.onError(s)}))})(this,new fe(ee.ABORTED,"Firestore shutting down"))}}function c0(){return new _a((r=>kA(r)),Tf)}async function pb(r,e){const t=Ce(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new $M,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=Hg(h,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&Fg(t)}async function gb(r,e){const t=Ce(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function QM(r,e){const t=Ce(r);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const d of h.Sa)d.Fa(o)&&(s=!0);h.wa=o}}s&&Fg(t)}function YM(r,e,t){const s=Ce(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);s.queries.delete(e)}function Fg(r){r.Ca.forEach((e=>{e.next()}))}var Up,h0;(h0=Up||(Up={})).Ma="default",h0.Cache="cache";class yb{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new xo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Up.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.key=e}}class vb{constructor(e){this.key=e}}class XM{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=VA(e),this.tu=new Ro(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new u0,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,S)=>{const A=o.get(_),N=Sf(this.query,S)?S:null,P=!!A&&this.mutatedKeys.has(A.key),G=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let U=!1;A&&N?A.data.isEqual(N.data)?P!==G&&(s.track({type:3,doc:N}),U=!0):this.su(A,N)||(s.track({type:2,doc:N}),U=!0,(p&&this.eu(N,p)>0||g&&this.eu(N,g)<0)&&(d=!0)):!A&&N?(s.track({type:0,doc:N}),U=!0):A&&!N&&(s.track({type:1,doc:A}),U=!0,(p||g)&&(d=!0)),U&&(N?(h=h.add(N),u=G?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:h,iu:s,Cs:d,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((_,S)=>(function(N,P){const G=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:U})}};return G(N)-G(P)})(_.type,S.type)||this.eu(_.doc,S.doc))),this.ou(s),o=o??!1;const d=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new xo(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new u0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new vb(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new _b(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=Le();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Gg="SyncEngine";class WM{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class ZM{constructor(e){this.key=e,this.hu=!1}}class JM{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new _a((d=>kA(d)),Tf),this.Iu=new Map,this.Eu=new Set,this.du=new ht(ye.comparator),this.Au=new Map,this.Ru=new kg,this.Vu={},this.mu=new Map,this.fu=Oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ek(r,e,t=!0){const s=Rb(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Eb(s,e,t,!0),o}async function tk(r,e){const t=Rb(r);await Eb(t,e,!0,!1)}async function Eb(r,e,t,s){const o=await TM(r.localStore,Rr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let d;return s&&(d=await nk(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&ub(r.remoteStore,o),d}async function nk(r,e,t,s,o){r.pu=(S,A,N)=>(async function(G,U,W,X){let J=U.view.ru(W);J.Cs&&(J=await r0(G.localStore,U.query,!1).then((({documents:x})=>U.view.ru(x,J))));const oe=X&&X.targetChanges.get(U.targetId),ue=X&&X.targetMismatches.get(U.targetId)!=null,he=U.view.applyChanges(J,G.isPrimaryClient,oe,ue);return d0(G,U.targetId,he.au),he.snapshot})(r,S,A,N);const u=await r0(r.localStore,e,!0),h=new XM(e,u.Qs),d=h.ru(u.documents),p=Lu.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=h.applyChanges(d,r.isPrimaryClient,p);d0(r,t,g.au);const _=new WM(e,t,h);return r.Tu.set(e,_),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),g.snapshot}async function rk(r,e,t){const s=Ce(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!Tf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Pp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Ug(s.remoteStore,o.targetId),jp(s,o.targetId)})).catch(Uo)):(jp(s,o.targetId),await Pp(s.localStore,o.targetId,!0))}async function ik(r,e){const t=Ce(r),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Ug(t.remoteStore,s.targetId))}async function sk(r,e,t){const s=fk(r);try{const o=await(function(h,d){const p=Ce(h),g=at.now(),_=d.reduce(((N,P)=>N.add(P.key)),Le());let S,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let P=Ai(),G=Le();return p.Ns.getEntries(N,_).next((U=>{P=U,P.forEach(((W,X)=>{X.isValidDocument()||(G=G.add(W))}))})).next((()=>p.localDocuments.getOverlayedDocuments(N,P))).next((U=>{S=U;const W=[];for(const X of d){const J=Ex(X,S.get(X.key).overlayedDocument);J!=null&&W.push(new va(X.key,J,wA(J.value.mapValue),wr.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,W,d)})).next((U=>{A=U;const W=U.applyToLocalDocumentSet(S,G);return p.documentOverlayCache.saveOverlays(N,U.batchId,W)}))})).then((()=>({batchId:A.batchId,changes:LA(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,d,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ht(Pe)),g=g.insert(d,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,t),await ju(s,o.changes),await If(s.remoteStore)}catch(o){const u=Hg(o,"Failed to persist write");t.reject(u)}}async function Tb(r,e){const t=Ce(r);try{const s=await _M(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=t.Au.get(u);h&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?$e(h.hu,14607):o.removedDocuments.size>0&&($e(h.hu,42227),h.hu=!1))})),await ju(t,s,e)}catch(s){await Uo(s)}}function f0(r,e,t){const s=Ce(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((u,h)=>{const d=h.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(h,d){const p=Ce(h);p.onlineState=d;let g=!1;p.queries.forEach(((_,S)=>{for(const A of S.Sa)A.va(d)&&(g=!0)})),g&&Fg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function ak(r,e,t){const s=Ce(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ht(ye.comparator);h=h.insert(u,tn.newNoDocument(u,Re.min()));const d=Le().add(u),p=new Rf(Re.min(),new Map,new ht(Pe),h,d);await Tb(s,p),s.du=s.du.remove(u),s.Au.delete(e),$g(s)}else await Pp(s.localStore,e,!1).then((()=>jp(s,e,t))).catch(Uo)}async function ok(r,e){const t=Ce(r),s=e.batch.batchId;try{const o=await yM(t.localStore,e);Ab(t,s,null),Sb(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await ju(t,o)}catch(o){await Uo(o)}}async function lk(r,e,t){const s=Ce(r);try{const o=await(function(h,d){const p=Ce(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next((S=>($e(S!==null,37113),_=S.keys(),p.mutationQueue.removeMutationBatch(g,S)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(s.localStore,e);Ab(s,e,t),Sb(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await ju(s,o)}catch(o){await Uo(o)}}function Sb(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function Ab(r,e,t){const s=Ce(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function jp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),t&&r.Pu.yu(s,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||bb(r,s)}))}function bb(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Ug(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),$g(r))}function d0(r,e,t){for(const s of t)s instanceof _b?(r.Ru.addReference(s.key,e),uk(r,s)):s instanceof vb?(de(Gg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||bb(r,s.key)):Te(19791,{wu:s})}function uk(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Eu.has(s)||(de(Gg,"New document in limbo: "+t),r.Eu.add(s),$g(r))}function $g(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new ye(st.fromString(e)),s=r.fu.next();r.Au.set(s,new ZM(t)),r.du=r.du.insert(t,s),ub(r.remoteStore,new ss(Rr(Ng(t.path)),s,"TargetPurposeLimboResolution",_f.ce))}}async function ju(r,e,t){const s=Ce(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{h.push(s.pu(p,e,t).then((g=>{if((g||t)&&s.isPrimaryClient){const _=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=Pg.As(p.targetId,g);u.push(_)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const _=Ce(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>ne.forEach(g,(A=>ne.forEach(A.Es,(N=>_.persistence.referenceDelegate.addReference(S,A.targetId,N))).next((()=>ne.forEach(A.ds,(N=>_.persistence.referenceDelegate.removeReference(S,A.targetId,N)))))))))}catch(S){if(!jo(S))throw S;de(Lg,"Failed to update sequence numbers: "+S)}for(const S of g){const A=S.targetId;if(!S.fromCache){const N=_.Ms.get(A),P=N.snapshotVersion,G=N.withLastLimboFreeSnapshotVersion(P);_.Ms=_.Ms.insert(A,G)}}})(s.localStore,u))}async function ck(r,e){const t=Ce(r);if(!t.currentUser.isEqual(e)){de(Gg,"User change. New user:",e.toKey());const s=await sb(t.localStore,e);t.currentUser=e,(function(u,h){u.mu.forEach((d=>{d.forEach((p=>{p.reject(new fe(ee.CANCELLED,h))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ju(t,s.Ls)}}function hk(r,e){const t=Ce(r),s=t.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let o=Le();const u=t.Iu.get(e);if(!u)return o;for(const h of u){const d=t.Tu.get(h);o=o.unionWith(d.view.nu)}return o}}function Rb(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Tb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ak.bind(null,e),e.Pu.H_=QM.bind(null,e.eventManager),e.Pu.yu=YM.bind(null,e.eventManager),e}function fk(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ok.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lk.bind(null,e),e}class nf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return gM(this.persistence,new dM,e.initialUser,this.serializer)}Cu(e){return new ib(Vg.mi,this.serializer)}Du(e){return new AM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nf.provider={build:()=>new nf};class dk extends nf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){$e(this.persistence.referenceDelegate instanceof ef,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Zx(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new ib((s=>ef.mi(s,t)),this.serializer)}}class Bp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>f0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ck.bind(null,this.syncEngine),await GM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new KM})()}createDatastore(e){const t=wf(e.databaseInfo.databaseId),s=(function(u){return new IM(u)})(e.databaseInfo);return(function(u,h,d,p){return new xM(u,h,d,p)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,u,h,d){return new kM(s,o,u,h,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>f0(this.syncEngine,t,0)),(function(){return a0.v()?new a0:new bM})())}createSyncEngine(e,t){return(function(o,u,h,d,p,g,_){const S=new JM(o,u,h,d,p,g);return _&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Ce(t);de(ma,"RemoteStore shutting down."),s.Ea.add(5),await Uu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Bp.provider={build:()=>new Bp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="FirestoreClient";class mk{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=Ag.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{de(ys,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(de(ys,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Hg(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function ap(r,e){r.asyncQueue.verifyOperationInProgress(),de(ys,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await sb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function m0(r,e){r.asyncQueue.verifyOperationInProgress();const t=await pk(r);de(ys,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((s=>l0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>l0(e.remoteStore,o))),r._onlineComponents=e}async function pk(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){de(ys,"Using user provided OfflineComponentProvider");try{await ap(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Co("Error using user provided cache. Falling back to memory cache: "+t),await ap(r,new nf)}}else de(ys,"Using default OfflineComponentProvider"),await ap(r,new dk(void 0));return r._offlineComponents}async function Cb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(de(ys,"Using user provided OnlineComponentProvider"),await m0(r,r._uninitializedComponentsProvider._online)):(de(ys,"Using default OnlineComponentProvider"),await m0(r,new Bp))),r._onlineComponents}function gk(r){return Cb(r).then((e=>e.syncEngine))}async function Ib(r){const e=await Cb(r),t=e.eventManager;return t.onListen=ek.bind(null,e.syncEngine),t.onUnlisten=rk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=tk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ik.bind(null,e.syncEngine),t}function yk(r,e,t={}){const s=new gi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,d,p,g){const _=new wb({next:A=>{_.Nu(),h.enqueueAndForget((()=>gb(u,S)));const N=A.docs.has(d);!N&&A.fromCache?g.reject(new fe(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&A.fromCache&&p&&p.source==="server"?g.reject(new fe(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),S=new yb(Ng(d.path),_,{includeMetadataChanges:!0,qa:!0});return pb(u,S)})(await Ib(r),r.asyncQueue,e,t,s))),s.promise}function _k(r,e,t={}){const s=new gi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,d,p,g){const _=new wb({next:A=>{_.Nu(),h.enqueueAndForget((()=>gb(u,S))),A.fromCache&&p.source==="server"?g.reject(new fe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),S=new yb(d,_,{includeMetadataChanges:!0,qa:!0});return pb(u,S)})(await Ib(r),r.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="firestore.googleapis.com",g0=!0;class y0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Db,this.ssl=g0}else this.host=e.host,this.ssl=e.ssl??g0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Xx)throw new fe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new b2;switch(s.type){case"firstParty":return new I2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=p0.get(t);s&&(de("ComponentProvider","Removing Datastore"),p0.delete(t),s.terminate())})(this),Promise.resolve()}}function vk(r,e,t,s={}){r=hs(r,Nf);const o=pa(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},d=`${e}:${t}`;o&&(og(`https://${d}`),lg("Firestore",!0)),u.host!==Db&&u.host!==d&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:d,ssl:o,emulatorOptions:s};if(!ua(p,h)&&(r._setSettings(p),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=en.MOCK_USER;else{g=vS(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new fe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new en(S)}r._authCredentials=new R2(new mA(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new zo(this.firestore,e,this._query)}}class It{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(ku(t,It._jsonSchema))return new It(e,s||null,new ye(st.fromString(t.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:Ct("string",It._jsonSchemaVersion),referencePath:Ct("string")};class us extends zo{constructor(e,t,s){super(e,t,Ng(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new ye(e))}withConverter(e){return new us(this.firestore,e,this._path)}}function eu(r,e,...t){if(r=ln(r),pA("collection","path",e),r instanceof Nf){const s=st.fromString(e,...t);return DT(s),new us(r,null,s)}{if(!(r instanceof It||r instanceof us))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(st.fromString(e,...t));return DT(s),new us(r.firestore,null,s)}}function zp(r,e,...t){if(r=ln(r),arguments.length===1&&(e=Ag.newId()),pA("doc","path",e),r instanceof Nf){const s=st.fromString(e,...t);return NT(s),new It(r,null,new ye(s))}{if(!(r instanceof It||r instanceof us))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(st.fromString(e,...t));return NT(s),new It(r.firestore,r instanceof us?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="AsyncQueue";class v0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ob(this,"async_queue_retry"),this._c=()=>{const s=sp();s&&de(_0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=sp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=sp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new gi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jo(e))throw e;de(_0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Si("INTERNAL UNHANDLED ERROR: ",E0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=qg.createAndSchedule(this,e,t,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:E0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function E0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Bu extends Nf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new v0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new v0(e),this._firestoreClient=void 0,await e}}}function Ek(r,e){const t=typeof r=="object"?r:hg(),s=typeof r=="string"?r:Kh,o=df(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=gS("firestore");u&&vk(o,...u)}return o}function Kg(r){if(r._terminated)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Tk(r),r._firestoreClient}function Tk(r){const e=r._freezeSettings(),t=(function(o,u,h,d){return new G2(o,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Nb(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new mk(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(Qt.fromBase64String(e))}catch(t){throw new fe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ku(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Ct("string",jn._jsonSchemaVersion),bytes:Ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ir._jsonSchemaVersion}}static fromJSON(e){if(ku(e,Ir._jsonSchema))return new Ir(e.latitude,e.longitude)}}Ir._jsonSchemaVersion="firestore/geoPoint/1.0",Ir._jsonSchema={type:Ct("string",Ir._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Nr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ku(e,Nr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Nr(e.vectorValues);throw new fe(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Nr._jsonSchemaVersion="firestore/vectorValue/1.0",Nr._jsonSchema={type:Ct("string",Nr._jsonSchemaVersion),vectorValues:Ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=/^__.*__$/;class Ak{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new va(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pu(e,this.data,t,this.fieldTransforms)}}function xb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:r})}}class Yg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Yg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xb(this.Ac)&&Sk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class bk{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||wf(e)}Cc(e,t,s,o=!1){return new Yg({Ac:e,methodName:t,Dc:s,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xg(r){const e=r._freezeSettings(),t=wf(r._databaseId);return new bk(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Mb(r,e,t,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,t,o);Pb("Data must be an object, but it was:",h,s);const d=kb(s,h);let p,g;if(u.merge)p=new Zn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const S of u.mergeFields){const A=wk(e,S,t);if(!h.contains(A))throw new fe(ee.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Ik(_,A)||_.push(A)}p=new Zn(_),g=h.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,g=h.fieldTransforms;return new Ak(new Un(d),p,g)}function Rk(r,e,t,s=!1){return Wg(t,r.Cc(s?4:3,e))}function Wg(r,e){if(Vb(r=ln(r)))return Pb("Unsupported field value:",e,r),kb(r,e);if(r instanceof Ob)return(function(s,o){if(!xb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const d of s){let p=Wg(d,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=ln(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return mx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=at.fromDate(s);return{timestampValue:Jh(o.serializer,u)}}if(s instanceof at){const u=new at(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Jh(o.serializer,u)}}if(s instanceof Ir)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof jn)return{bytesValue:XA(o.serializer,s._byteString)};if(s instanceof It){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Mg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Nr)return(function(h,d){return{mapValue:{fields:{[bA]:{stringValue:RA},[Qh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Dg(d.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${yf(s)}`)})(r,e)}function kb(r,e){const t={};return _A(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ya(r,((s,o)=>{const u=Wg(o,e.mc(s));u!=null&&(t[s]=u)})),{mapValue:{fields:t}}}function Vb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof at||r instanceof Ir||r instanceof jn||r instanceof It||r instanceof Ob||r instanceof Nr)}function Pb(r,e,t){if(!Vb(t)||!gA(t)){const s=yf(t);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function wk(r,e,t){if((e=ln(e))instanceof Qg)return e._internalPath;if(typeof e=="string")return Lb(r,e);throw rf("Field path arguments must be of type string or ",r,!1,void 0,t)}const Ck=new RegExp("[~\\*/\\[\\]]");function Lb(r,e,t){if(e.search(Ck)>=0)throw rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Qg(...e.split("."))._internalPath}catch{throw rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function rf(r,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new fe(ee.INVALID_ARGUMENT,d+r+p)}function Ik(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Nk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Zg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Nk extends Ub{data(){return super.data()}}function Zg(r,e){return typeof e=="string"?Lb(r,e):e instanceof Qg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new fe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jg{}class Ok extends Jg{}function xk(r,e,...t){let s=[];e instanceof Jg&&s.push(e),s=s.concat(t),(function(u){const h=u.filter((p=>p instanceof ey)).length,d=u.filter((p=>p instanceof Df)).length;if(h>1||h>0&&d>0)throw new fe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Df extends Ok{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Df(e,t,s)}_apply(e){const t=this._parse(e);return jb(e._query,t),new zo(e.firestore,e.converter,Dp(e._query,t))}_parse(e){const t=Xg(e.firestore);return(function(u,h,d,p,g,_,S){let A;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){S0(S,_);const P=[];for(const G of S)P.push(T0(p,u,G));A={arrayValue:{values:P}}}else A=T0(p,u,S)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||S0(S,_),A=Rk(d,h,S,_==="in"||_==="not-in");return wt.create(g,_,A)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Mk(r,e,t){const s=e,o=Zg("where",r);return Df._create(o,s,t)}class ey extends Jg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ey(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:tr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,u){let h=o;const d=u.getFlattenedFilters();for(const p of d)jb(h,p),h=Dp(h,p)})(e._query,t),new zo(e.firestore,e.converter,Dp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function T0(r,e,t){if(typeof(t=ln(t))=="string"){if(t==="")throw new fe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MA(e)&&t.indexOf("/")!==-1)throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(st.fromString(t));if(!ye.isDocumentKey(s))throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return UT(r,new ye(s))}if(t instanceof It)return UT(r,t._key);throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yf(t)}.`)}function S0(r,e){if(!Array.isArray(r)||r.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jb(r,e){const t=(function(o,u){for(const h of o)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class kk{convertValue(e,t="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ya(e,((o,u)=>{s[o]=this.convertValue(u,t)})),s}convertVectorValue(e){const t=e.fields?.[Qh].arrayValue?.values?.map((s=>vt(s.doubleValue)));return new Nr(t)}convertGeoPoint(e){return new Ir(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Ef(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Eu(e));default:return null}}convertTimestamp(e){const t=ds(e);return new at(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=st.fromString(e);$e(nb(s),9688,{name:e});const o=new Tu(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(t)||Si(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(r,e,t){let s;return s=r?r.toFirestore(e):e,s}class ou{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class la extends Ub{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Zg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=la._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:Ct("string",la._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class xh extends la{data(e={}){return super.data(e)}}class wo{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ou(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new xh(this._firestore,this._userDataWriter,s.key,s,new ou(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((d=>{const p=new xh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ou(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const p=new xh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ou(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),_=h.indexOf(d.doc.key)),{type:Vk(d.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ag.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Vk(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(r){r=hs(r,It);const e=hs(r.firestore,Bu);return yk(Kg(e),r._key).then((t=>jk(e,r,t)))}wo._jsonSchemaVersion="firestore/querySnapshot/1.0",wo._jsonSchema={type:Ct("string",wo._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class zb extends kk{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,t)}}function op(r){r=hs(r,zo);const e=hs(r.firestore,Bu),t=Kg(e),s=new zb(e);return Dk(r._query),_k(t,r._query).then((o=>new wo(e,s,r,o)))}function Lk(r,e,t){r=hs(r,It);const s=hs(r.firestore,Bu),o=Bb(r.converter,e);return qb(s,[Mb(Xg(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,wr.none())])}function Uk(r,e){const t=hs(r.firestore,Bu),s=zp(r),o=Bb(r.converter,e);return qb(t,[Mb(Xg(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,wr.exists(!1))]).then((()=>s))}function qb(r,e){return(function(s,o){const u=new gi;return s.asyncQueue.enqueueAndForget((async()=>sk(await gk(s),o,u))),u.promise})(Kg(r),e)}function jk(r,e,t){const s=t.docs.get(e._key),o=new zb(r);return new la(r,o,e._key,s,new ou(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Lo=o})(ga),ca(new cs("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new Bu(new w2(s.getProvider("auth-internal")),new N2(h,s.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tu(g.options.projectId,_)})(h,o),h);return u={useFetchStreams:t,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),Ar(RT,wT,e),Ar(RT,wT,"esm2020")})();const Hb=R.createContext(null),Bk={apiKey:"AIzaSyCGr4Qg1oKC-qXDn3v-fKx0zTx0Vqr56tM",authDomain:"bookify-7006a.firebaseapp.com",projectId:"bookify-7006a",storageBucket:"bookify-7006a.appspot.com",messagingSenderId:"868276582953",appId:"1:868276582953:web:674cc30ba9f4d6cce13a38"},ty=SS(Bk),_h=KO(ty),zk=new ai;E2(ty);const mo=Ek(ty),bi=()=>R.useContext(Hb),qk=({children:r})=>{const[e,t]=R.useState(null);R.useEffect(()=>{PD(_h,N=>{t(N||null)})},[]);const s=async()=>{if(!e)return null;const N=eu(mo,"books"),P=xk(N,Mk("orderId","==",e.uid));return await op(P)},o=(N,P)=>xD(_h,N,P),u=()=>op(eu(mo,"books")),h=N=>op(eu(mo,"books",N,"orders")),d=(N,P)=>MD(_h,N,P),p=async(N,P,G,U,W)=>{const X=zp(eu(mo,"books")),J=X.id;return await Lk(X,{name:N,isbn:P,price:G,imageurl:U,Owner:W,userID:J,orderId:e.uid}),X},g=async(N,P,G,U)=>await Uk(eu(mo,"books",U,"orders"),{name:N,email:P,Qty:G}),_=async N=>{const P=zp(mo,"books",N),G=await Pk(P);return G.exists()?G.data():null},S=()=>nO(_h,zk),A=!!e;return O.jsx(Hb.Provider,{value:{listallbooks:u,bookorder:g,viewdatabyid:_,signupUserWithEmailAndPassword:o,handlecreatednewlisting:p,signinUserWithEmailAndPass:d,Viewmybooks:s,myorders:h,signinwithgoogle:S,isLogin:A},children:r})},Hk=()=>{const r=bi(),[e,t]=R.useState(""),[s,o]=R.useState(""),u=vs();R.useEffect(()=>{r.isLogin&&u("/")},[r,u]);const h=async d=>{d.preventDefault(),await r.signinUserWithEmailAndPass(e,s)};return O.jsxs("div",{className:"container mt-5",children:[O.jsxs(Ne,{onSubmit:h,children:[O.jsxs(Ne.Group,{className:"mb-3",controlId:"formBasicEmail",children:[O.jsx(Ne.Label,{children:"Email address"}),O.jsx(Ne.Control,{onChange:d=>t(d.target.value),value:e,type:"email",placeholder:"Enter email"})]}),O.jsxs(Ne.Group,{className:"mb-3",controlId:"formBasicPassword",children:[O.jsx(Ne.Label,{children:"Password"}),O.jsx(Ne.Control,{onChange:d=>o(d.target.value),value:s,type:"password",placeholder:"Password"})]}),O.jsx(di,{variant:"primary",type:"submit",children:"Login"})]}),O.jsx("h1",{className:"mt-5 mb-5",children:"OR"}),O.jsx(di,{onClick:r.signinwithgoogle,variant:"danger",children:"Signin with Google"}),O.jsx("h1",{className:"mt-5 mb-5",children:"OR"}),O.jsx(di,{onClick:()=>u("/register"),variant:"danger",children:"Sign Up"})]})},Fk=()=>{const r=bi(),[e,t]=R.useState(""),[s,o]=R.useState(""),u=vs();R.useEffect(()=>{r.isLogin&&u("/")},[r,u]);const h=async d=>{d.preventDefault(),await r.signupUserWithEmailAndPassword(e,s)};return O.jsx("div",{className:"container mt-5",children:O.jsxs(Ne,{onSubmit:h,children:[O.jsxs(Ne.Group,{className:"mb-3",controlId:"formBasicEmail",children:[O.jsx(Ne.Label,{children:"Email address"}),O.jsx(Ne.Control,{onChange:d=>t(d.target.value),value:e,type:"email",placeholder:"Enter email"})]}),O.jsxs(Ne.Group,{className:"mb-3",controlId:"formBasicPassword",children:[O.jsx(Ne.Label,{children:"Password"}),O.jsx(Ne.Control,{onChange:d=>o(d.target.value),value:s,type:"password",placeholder:"Password"})]}),O.jsx(di,{variant:"primary",type:"submit",children:"Create Account"})]})})},Gk=()=>{const[r,e]=R.useState(""),[t,s]=R.useState(""),[o,u]=R.useState(""),h=bi(),[d,p]=R.useState(""),[g,_]=R.useState(""),S=vs(),A=async N=>{N.preventDefault(),await h.handlecreatednewlisting(r,o,t,d,g).then(S("/")).catch(P=>console.log(P))};return O.jsx("div",{className:"container mt-5",children:O.jsxs(Ne,{onSubmit:A,children:[O.jsxs(Ne.Group,{className:"mb-3",controlId:"bookName",children:[O.jsx(Ne.Label,{children:"Book Name"}),O.jsx(Ne.Control,{type:"text",placeholder:"Enter Book Name",value:r,onChange:N=>e(N.target.value)})]}),O.jsxs(Ne.Group,{className:"mb-3",controlId:"bookowner",children:[O.jsx(Ne.Label,{children:"Book Owner"}),O.jsx(Ne.Control,{type:"text",placeholder:"Enter Owner Name",value:g,onChange:N=>_(N.target.value)})]}),O.jsxs(Ne.Group,{className:"mb-3",controlId:"bookPrice",children:[O.jsx(Ne.Label,{children:"Book Price"}),O.jsx(Ne.Control,{type:"text",placeholder:"Enter Book Price",value:t,onChange:N=>s(N.target.value)})]}),O.jsxs(Ne.Group,{className:"mb-3",controlId:"bookPrice",children:[O.jsx(Ne.Label,{children:"ISBN NUMBER"}),O.jsx(Ne.Control,{type:"text",placeholder:"Enter ISBN Number",value:o,onChange:N=>u(N.target.value)})]}),O.jsxs(Ne.Group,{className:"mb-3",controlId:"bookPrice",children:[O.jsx(Ne.Label,{children:"Image Url"}),O.jsx(Ne.Control,{type:"text",placeholder:"Enter Image Url",value:d,onChange:N=>p(N.target.value)})]}),O.jsx(di,{variant:"primary",type:"submit",children:"Create"})]})})},ny=R.forwardRef(({className:r,bsPrefix:e,as:t="div",...s},o)=>(e=Oe(e,"card-body"),O.jsx(t,{ref:o,className:we(r,e),...s})));ny.displayName="CardBody";const Fb=R.forwardRef(({className:r,bsPrefix:e,as:t="div",...s},o)=>(e=Oe(e,"card-footer"),O.jsx(t,{ref:o,className:we(r,e),...s})));Fb.displayName="CardFooter";const ry=R.createContext(null);ry.displayName="CardHeaderContext";const Gb=R.forwardRef(({bsPrefix:r,className:e,as:t="div",...s},o)=>{const u=Oe(r,"card-header"),h=R.useMemo(()=>({cardHeaderBsPrefix:u}),[u]);return O.jsx(ry.Provider,{value:h,children:O.jsx(t,{ref:o,...s,className:we(e,u)})})});Gb.displayName="CardHeader";const $b=R.forwardRef(({bsPrefix:r,className:e,variant:t,as:s="img",...o},u)=>{const h=Oe(r,"card-img");return O.jsx(s,{ref:u,className:we(t?`${h}-${t}`:h,e),...o})});$b.displayName="CardImg";const Kb=R.forwardRef(({className:r,bsPrefix:e,as:t="div",...s},o)=>(e=Oe(e,"card-img-overlay"),O.jsx(t,{ref:o,className:we(r,e),...s})));Kb.displayName="CardImgOverlay";const Qb=R.forwardRef(({className:r,bsPrefix:e,as:t="a",...s},o)=>(e=Oe(e,"card-link"),O.jsx(t,{ref:o,className:we(r,e),...s})));Qb.displayName="CardLink";const iy=(r=>R.forwardRef((e,t)=>O.jsx("div",{...e,ref:t,className:we(e.className,r)}))),$k=iy("h6"),Yb=R.forwardRef(({className:r,bsPrefix:e,as:t=$k,...s},o)=>(e=Oe(e,"card-subtitle"),O.jsx(t,{ref:o,className:we(r,e),...s})));Yb.displayName="CardSubtitle";const Xb=R.forwardRef(({className:r,bsPrefix:e,as:t="p",...s},o)=>(e=Oe(e,"card-text"),O.jsx(t,{ref:o,className:we(r,e),...s})));Xb.displayName="CardText";const Kk=iy("h5"),Wb=R.forwardRef(({className:r,bsPrefix:e,as:t=Kk,...s},o)=>(e=Oe(e,"card-title"),O.jsx(t,{ref:o,className:we(r,e),...s})));Wb.displayName="CardTitle";const Zb=R.forwardRef(({bsPrefix:r,className:e,bg:t,text:s,border:o,body:u=!1,children:h,as:d="div",...p},g)=>{const _=Oe(r,"card");return O.jsx(d,{ref:g,...p,className:we(e,_,t&&`bg-${t}`,s&&`text-${s}`,o&&`border-${o}`),children:u?O.jsx(ny,{children:h}):h})});Zb.displayName="Card";const Sr=Object.assign(Zb,{Img:$b,Title:Wb,Subtitle:Yb,Body:ny,Link:Qb,Text:Xb,Header:Gb,Footer:Fb,ImgOverlay:Kb}),Jb=r=>{const e=vs();return O.jsx("div",{children:O.jsxs(Sr,{style:{width:"18rem",height:"33rem",margin:"5px"},children:[O.jsx(Sr.Img,{variant:"top",src:r.imageurl,style:{height:"250px"}}),O.jsxs(Sr.Body,{style:{position:"relative"},children:[O.jsx(Sr.Title,{children:r.name}),O.jsxs(Sr.Text,{children:["This book has a title ",r.name," and owner is ",r.Owner,". Its price is Rs.",r.price,"."]}),O.jsx("div",{style:{position:"absolute",bottom:"30px",left:"50%",transform:"translateX(-50%)"},children:O.jsx(di,{onClick:t=>e(`/book/view/${r.id}`),variant:"primary",children:r.view})})]})]})})},sy=R.forwardRef(({className:r,bsPrefix:e,as:t="div",...s},o)=>(e=Oe(e,"card-group"),O.jsx(t,{ref:o,className:we(r,e),...s})));sy.displayName="CardGroup";const Qk=()=>{const r=bi(),[e,t]=R.useState([]);return R.useEffect(()=>{r.listallbooks().then(s=>{t(s.docs)})},[r]),O.jsx("div",{className:"mt- 5",children:O.jsx(sy,{children:e.map(s=>O.jsx(Jb,{id:s.id,view:"view",...s.data()},s.id))})})},ay=R.forwardRef(({bsPrefix:r,fluid:e=!1,as:t="div",className:s,...o},u)=>{const h=Oe(r,"container"),d=typeof e=="string"?`-${e}`:"-fluid";return O.jsx(t,{ref:u,...o,className:we(s,e?`${h}${d}`:h)})});ay.displayName="Container";function qp(){return qp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)({}).hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},qp.apply(null,arguments)}function eR(r,e){if(r==null)return{};var t={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(e.indexOf(s)!==-1)continue;t[s]=r[s]}return t}function A0(r){return"default"+r.charAt(0).toUpperCase()+r.substr(1)}function Yk(r){var e=Xk(r,"string");return typeof e=="symbol"?e:String(e)}function Xk(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var s=t.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function Wk(r,e,t){var s=R.useRef(r!==void 0),o=R.useState(e),u=o[0],h=o[1],d=r!==void 0,p=s.current;return s.current=d,!d&&p&&u!==e&&h(e),[d?r:u,R.useCallback(function(g){for(var _=arguments.length,S=new Array(_>1?_-1:0),A=1;A<_;A++)S[A-1]=arguments[A];t&&t.apply(void 0,[g].concat(S)),h(g)},[t])]}function tR(r,e){return Object.keys(e).reduce(function(t,s){var o,u=t,h=u[A0(s)],d=u[s],p=eR(u,[A0(s),s].map(Yk)),g=e[s],_=Wk(d,h,r[g]),S=_[0],A=_[1];return qp({},p,(o={},o[s]=S,o[g]=A,o))},r)}function Hp(r,e){return Hp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,s){return t.__proto__=s,t},Hp(r,e)}function Zk(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,Hp(r,e)}var Jk=Function.prototype.bind.call(Function.prototype.call,[].slice);function sa(r,e){return Jk(r.querySelectorAll(e))}function eV(){const[,r]=R.useReducer(e=>e+1,0);return r}const b0=r=>!r||typeof r=="function"?r:e=>{r.current=e};function tV(r,e){const t=b0(r),s=b0(e);return o=>{t&&t(o),s&&s(o)}}function Of(r,e){return R.useMemo(()=>tV(r,e),[r,e])}const oy=R.createContext(null);oy.displayName="NavContext";const sf=R.createContext(null),ly=(r,e=null)=>r!=null?String(r):e||null,nR=R.createContext(null),nV="data-rr-ui-",rV="rrUi";function xf(r){return`${nV}${r}`}function iV(r){return`${rV}${r}`}function sV(r){const e=R.useRef(r);return R.useEffect(()=>{e.current=r},[r]),e}function oi(r){const e=sV(r);return R.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const aV=["as","active","eventKey"];function oV(r,e){if(r==null)return{};var t={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;t[s]=r[s]}return t}function rR({key:r,onClick:e,active:t,id:s,role:o,disabled:u}){const h=R.useContext(sf),d=R.useContext(oy),p=R.useContext(nR);let g=t;const _={role:o};if(d){!o&&d.role==="tablist"&&(_.role="tab");const S=d.getControllerId(r??null),A=d.getControlledId(r??null);_[xf("event-key")]=r,_.id=S||s,g=t==null&&r!=null?d.activeKey===r:t,(g||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(_["aria-controls"]=A)}return _.role==="tab"&&(_["aria-selected"]=g,g||(_.tabIndex=-1),u&&(_.tabIndex=-1,_["aria-disabled"]=!0)),_.onClick=oi(S=>{u||(e?.(S),r!=null&&h&&!S.isPropagationStopped()&&h(r,S))}),[_,{isActive:g}]}const iR=R.forwardRef((r,e)=>{let{as:t=eS,active:s,eventKey:o}=r,u=oV(r,aV);const[h,d]=rR(Object.assign({key:ly(o,u.href),active:s},u));return h[xf("active")]=d.isActive,O.jsx(t,Object.assign({},u,h,{ref:e}))});iR.displayName="NavItem";const lV=["as","onSelect","activeKey","role","onKeyDown"];function uV(r,e){if(r==null)return{};var t={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;t[s]=r[s]}return t}const R0=()=>{},w0=xf("event-key"),sR=R.forwardRef((r,e)=>{let{as:t="div",onSelect:s,activeKey:o,role:u,onKeyDown:h}=r,d=uV(r,lV);const p=eV(),g=R.useRef(!1),_=R.useContext(sf),S=R.useContext(nR);let A,N;S&&(u=u||"tablist",o=S.activeKey,A=S.getControlledId,N=S.getControllerId);const P=R.useRef(null),G=J=>{const oe=P.current;if(!oe)return null;const ue=sa(oe,`[${w0}]:not([aria-disabled=true])`),he=oe.querySelector("[aria-selected=true]");if(!he||he!==document.activeElement)return null;const x=ue.indexOf(he);if(x===-1)return null;let w=x+J;return w>=ue.length&&(w=0),w<0&&(w=ue.length-1),ue[w]},U=(J,oe)=>{J!=null&&(s?.(J,oe),_?.(J,oe))},W=J=>{if(h?.(J),!S)return;let oe;switch(J.key){case"ArrowLeft":case"ArrowUp":oe=G(-1);break;case"ArrowRight":case"ArrowDown":oe=G(1);break;default:return}oe&&(J.preventDefault(),U(oe.dataset[iV("EventKey")]||null,J),g.current=!0,p())};R.useEffect(()=>{if(P.current&&g.current){const J=P.current.querySelector(`[${w0}][aria-selected=true]`);J?.focus()}g.current=!1});const X=Of(e,P);return O.jsx(sf.Provider,{value:U,children:O.jsx(oy.Provider,{value:{role:u,activeKey:ly(o),getControlledId:A||R0,getControllerId:N||R0},children:O.jsx(t,Object.assign({},d,{onKeyDown:W,ref:X,role:u}))})})});sR.displayName="Nav";const cV=Object.assign(sR,{Item:iR}),qo=R.createContext(null);qo.displayName="NavbarContext";const aR=R.forwardRef(({className:r,bsPrefix:e,as:t="div",...s},o)=>(e=Oe(e,"nav-item"),O.jsx(t,{ref:o,className:we(r,e),...s})));aR.displayName="NavItem";function hV(){const r=R.useRef(!0),e=R.useRef(()=>r.current);return R.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),e.current}function fV(r){const e=R.useRef(null);return R.useEffect(()=>{e.current=r}),e.current}const dV=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",mV=typeof document<"u",C0=mV||dV?R.useLayoutEffect:R.useEffect,pV=["onKeyDown"];function gV(r,e){if(r==null)return{};var t={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;t[s]=r[s]}return t}function yV(r){return!r||r.trim()==="#"}const oR=R.forwardRef((r,e)=>{let{onKeyDown:t}=r,s=gV(r,pV);const[o]=ng(Object.assign({tagName:"a"},s)),u=oi(h=>{o.onKeyDown(h),t?.(h)});return yV(s.href)||s.role==="button"?O.jsx("a",Object.assign({ref:e},s,o,{onKeyDown:u})):O.jsx("a",Object.assign({ref:e},s,{onKeyDown:t}))});oR.displayName="Anchor";const lR=R.forwardRef(({bsPrefix:r,className:e,as:t=oR,active:s,eventKey:o,disabled:u=!1,...h},d)=>{r=Oe(r,"nav-link");const[p,g]=rR({key:ly(o,h.href),active:s,disabled:u,...h});return O.jsx(t,{...h,...p,ref:d,disabled:u,className:we(e,r,u&&"disabled",g.isActive&&"active")})});lR.displayName="NavLink";const uR=R.forwardRef((r,e)=>{const{as:t="div",bsPrefix:s,variant:o,fill:u=!1,justify:h=!1,navbar:d,navbarScroll:p,className:g,activeKey:_,...S}=tR(r,{activeKey:"onSelect"}),A=Oe(s,"nav");let N,P,G=!1;const U=R.useContext(qo),W=R.useContext(ry);return U?(N=U.bsPrefix,G=d??!0):W&&({cardHeaderBsPrefix:P}=W),O.jsx(cV,{as:t,ref:e,activeKey:_,className:we(g,{[A]:!G,[`${N}-nav`]:G,[`${N}-nav-scroll`]:G&&p,[`${P}-${o}`]:!!P,[`${A}-${o}`]:!!o,[`${A}-fill`]:u,[`${A}-justified`]:h}),...S})});uR.displayName="Nav";const vh=Object.assign(uR,{Item:aR,Link:lR}),cR=R.forwardRef(({bsPrefix:r,className:e,as:t,...s},o)=>{r=Oe(r,"navbar-brand");const u=t||(s.href?"a":"span");return O.jsx(u,{...s,ref:o,className:we(e,r)})});cR.displayName="NavbarBrand";function uy(r){return r&&r.ownerDocument||document}function _V(r){var e=uy(r);return e&&e.defaultView||window}function vV(r,e){return _V(r).getComputedStyle(r,e)}var EV=/([A-Z])/g;function TV(r){return r.replace(EV,"-$1").toLowerCase()}var SV=/^ms-/;function Eh(r){return TV(r).replace(SV,"-ms-")}var AV=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function bV(r){return!!(r&&AV.test(r))}function yi(r,e){var t="",s="";if(typeof e=="string")return r.style.getPropertyValue(Eh(e))||vV(r).getPropertyValue(Eh(e));Object.keys(e).forEach(function(o){var u=e[o];!u&&u!==0?r.style.removeProperty(Eh(o)):bV(o)?s+=o+"("+u+") ":t+=Eh(o)+": "+u+";"}),s&&(t+="transform: "+s+";"),r.style.cssText+=";"+t}const I0={disabled:!1},hR=ui.createContext(null);var RV=function(e){return e.scrollTop},lu="unmounted",ts="exited",Yn="entering",li="entered",Ru="exiting",Ri=(function(r){Zk(e,r);function e(s,o){var u;u=r.call(this,s,o)||this;var h=o,d=h&&!h.isMounting?s.enter:s.appear,p;return u.appearStatus=null,s.in?d?(p=ts,u.appearStatus=Yn):p=li:s.unmountOnExit||s.mountOnEnter?p=lu:p=ts,u.state={status:p},u.nextCallback=null,u}e.getDerivedStateFromProps=function(o,u){var h=o.in;return h&&u.status===lu?{status:ts}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(o){var u=null;if(o!==this.props){var h=this.state.status;this.props.in?h!==Yn&&h!==li&&(u=Yn):(h===Yn||h===li)&&(u=Ru)}this.updateStatus(!1,u)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var o=this.props.timeout,u,h,d;return u=h=d=o,o!=null&&typeof o!="number"&&(u=o.exit,h=o.enter,d=o.appear!==void 0?o.appear:h),{exit:u,enter:h,appear:d}},t.updateStatus=function(o,u){if(o===void 0&&(o=!1),u!==null)if(this.cancelNextCallback(),u===Yn){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:To.findDOMNode(this);h&&RV(h)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ts&&this.setState({status:lu})},t.performEnter=function(o){var u=this,h=this.props.enter,d=this.context?this.context.isMounting:o,p=this.props.nodeRef?[d]:[To.findDOMNode(this),d],g=p[0],_=p[1],S=this.getTimeouts(),A=d?S.appear:S.enter;if(!o&&!h||I0.disabled){this.safeSetState({status:li},function(){u.props.onEntered(g)});return}this.props.onEnter(g,_),this.safeSetState({status:Yn},function(){u.props.onEntering(g,_),u.onTransitionEnd(A,function(){u.safeSetState({status:li},function(){u.props.onEntered(g,_)})})})},t.performExit=function(){var o=this,u=this.props.exit,h=this.getTimeouts(),d=this.props.nodeRef?void 0:To.findDOMNode(this);if(!u||I0.disabled){this.safeSetState({status:ts},function(){o.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:Ru},function(){o.props.onExiting(d),o.onTransitionEnd(h.exit,function(){o.safeSetState({status:ts},function(){o.props.onExited(d)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(o,u){u=this.setNextCallback(u),this.setState(o,u)},t.setNextCallback=function(o){var u=this,h=!0;return this.nextCallback=function(d){h&&(h=!1,u.nextCallback=null,o(d))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},t.onTransitionEnd=function(o,u){this.setNextCallback(u);var h=this.props.nodeRef?this.props.nodeRef.current:To.findDOMNode(this),d=o==null&&!this.props.addEndListener;if(!h||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],g=p[0],_=p[1];this.props.addEndListener(g,_)}o!=null&&setTimeout(this.nextCallback,o)},t.render=function(){var o=this.state.status;if(o===lu)return null;var u=this.props,h=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var d=eR(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ui.createElement(hR.Provider,{value:null},typeof h=="function"?h(o,d):ui.cloneElement(ui.Children.only(h),d))},e})(ui.Component);Ri.contextType=hR;Ri.propTypes={};function po(){}Ri.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:po,onEntering:po,onEntered:po,onExit:po,onExiting:po,onExited:po};Ri.UNMOUNTED=lu;Ri.EXITED=ts;Ri.ENTERING=Yn;Ri.ENTERED=li;Ri.EXITING=Ru;function wV(r){return r.code==="Escape"||r.keyCode===27}function CV(){const r=R.version.split(".");return{major:+r[0],minor:+r[1],patch:+r[2]}}function Ho(r){if(!r||typeof r=="function")return null;const{major:e}=CV();return e>=19?r.props.ref:r.ref}const Mf=!!(typeof window<"u"&&window.document&&window.document.createElement);var Fp=!1,Gp=!1;try{var lp={get passive(){return Fp=!0},get once(){return Gp=Fp=!0}};Mf&&(window.addEventListener("test",lp,lp),window.removeEventListener("test",lp,!0))}catch{}function IV(r,e,t,s){if(s&&typeof s!="boolean"&&!Gp){var o=s.once,u=s.capture,h=t;!Gp&&o&&(h=t.__once||function d(p){this.removeEventListener(e,d,u),t.call(this,p)},t.__once=h),r.addEventListener(e,h,Fp?s:u)}r.addEventListener(e,t,s)}function NV(r,e,t,s){var o=s&&typeof s!="boolean"?s.capture:s;r.removeEventListener(e,t,o),t.__once&&r.removeEventListener(e,t.__once,o)}function af(r,e,t,s){return IV(r,e,t,s),function(){NV(r,e,t,s)}}function DV(r,e,t,s){if(s===void 0&&(s=!0),r){var o=document.createEvent("HTMLEvents");o.initEvent(e,t,s),r.dispatchEvent(o)}}function OV(r){var e=yi(r,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function xV(r,e,t){t===void 0&&(t=5);var s=!1,o=setTimeout(function(){s||DV(r,"transitionend",!0)},e+t),u=af(r,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),u()}}function MV(r,e,t,s){t==null&&(t=OV(r)||0);var o=xV(r,t,s),u=af(r,"transitionend",e);return function(){o(),u()}}function N0(r,e){const t=yi(r,e)||"",s=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*s}function cy(r,e){const t=N0(r,"transitionDuration"),s=N0(r,"transitionDelay"),o=MV(r,u=>{u.target===r&&(o(),e(u))},t+s)}function tu(...r){return r.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...o){e.apply(this,o),t.apply(this,o)}},null)}function fR(r){r.offsetHeight}const D0=r=>!r||typeof r=="function"?r:e=>{r.current=e};function kV(r,e){const t=D0(r),s=D0(e);return o=>{t&&t(o),s&&s(o)}}function VV(r,e){return R.useMemo(()=>kV(r,e),[r,e])}function PV(r){return r&&"setState"in r?To.findDOMNode(r):r??null}const kf=ui.forwardRef(({onEnter:r,onEntering:e,onEntered:t,onExit:s,onExiting:o,onExited:u,addEndListener:h,children:d,childRef:p,...g},_)=>{const S=R.useRef(null),A=VV(S,p),N=he=>{A(PV(he))},P=he=>x=>{he&&S.current&&he(S.current,x)},G=R.useCallback(P(r),[r]),U=R.useCallback(P(e),[e]),W=R.useCallback(P(t),[t]),X=R.useCallback(P(s),[s]),J=R.useCallback(P(o),[o]),oe=R.useCallback(P(u),[u]),ue=R.useCallback(P(h),[h]);return O.jsx(Ri,{ref:_,...g,onEnter:G,onEntered:W,onEntering:U,onExit:X,onExited:oe,onExiting:J,addEndListener:ue,nodeRef:S,children:typeof d=="function"?(he,x)=>d(he,{...x,ref:N}):ui.cloneElement(d,{ref:N})})});kf.displayName="TransitionWrapper";const LV={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function UV(r,e){const t=`offset${r[0].toUpperCase()}${r.slice(1)}`,s=e[t],o=LV[r];return s+parseInt(yi(e,o[0]),10)+parseInt(yi(e,o[1]),10)}const jV={[ts]:"collapse",[Ru]:"collapsing",[Yn]:"collapsing",[li]:"collapse show"},dR=ui.forwardRef(({onEnter:r,onEntering:e,onEntered:t,onExit:s,onExiting:o,className:u,children:h,dimension:d="height",in:p=!1,timeout:g=300,mountOnEnter:_=!1,unmountOnExit:S=!1,appear:A=!1,getDimensionValue:N=UV,...P},G)=>{const U=typeof d=="function"?d():d,W=R.useMemo(()=>tu(he=>{he.style[U]="0"},r),[U,r]),X=R.useMemo(()=>tu(he=>{const x=`scroll${U[0].toUpperCase()}${U.slice(1)}`;he.style[U]=`${he[x]}px`},e),[U,e]),J=R.useMemo(()=>tu(he=>{he.style[U]=null},t),[U,t]),oe=R.useMemo(()=>tu(he=>{he.style[U]=`${N(U,he)}px`,fR(he)},s),[s,N,U]),ue=R.useMemo(()=>tu(he=>{he.style[U]=null},o),[U,o]);return O.jsx(kf,{ref:G,addEndListener:cy,...P,"aria-expanded":P.role?p:null,onEnter:W,onEntering:X,onEntered:J,onExit:oe,onExiting:ue,childRef:Ho(h),in:p,timeout:g,mountOnEnter:_,unmountOnExit:S,appear:A,children:(he,x)=>ui.cloneElement(h,{...x,className:we(u,h.props.className,jV[he],U==="width"&&"collapse-horizontal")})})});dR.displayName="Collapse";const mR=R.forwardRef(({children:r,bsPrefix:e,...t},s)=>{e=Oe(e,"navbar-collapse");const o=R.useContext(qo);return O.jsx(dR,{in:!!(o&&o.expanded),...t,children:O.jsx("div",{ref:s,className:e,children:r})})});mR.displayName="NavbarCollapse";function BV(r){const e=R.useRef(r);return R.useEffect(()=>{e.current=r},[r]),e}function Vf(r){const e=BV(r);return R.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const pR=R.forwardRef(({bsPrefix:r,className:e,children:t,label:s="Toggle navigation",as:o="button",onClick:u,...h},d)=>{r=Oe(r,"navbar-toggler");const{onToggle:p,expanded:g}=R.useContext(qo)||{},_=Vf(S=>{u&&u(S),p&&p()});return o==="button"&&(h.type="button"),O.jsx(o,{...h,ref:d,onClick:_,"aria-label":s,className:we(e,r,!g&&"collapsed"),children:t||O.jsx("span",{className:`${r}-icon`})})});pR.displayName="NavbarToggle";const zV=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",qV=typeof document<"u",HV=qV||zV?R.useLayoutEffect:R.useEffect,$p=new WeakMap,O0=(r,e)=>{if(!r||!e)return;const t=$p.get(e)||new Map;$p.set(e,t);let s=t.get(r);return s||(s=e.matchMedia(r),s.refCount=0,t.set(s.media,s)),s};function FV(r,e=typeof window>"u"?void 0:window){const t=O0(r,e),[s,o]=R.useState(()=>t?t.matches:!1);return HV(()=>{let u=O0(r,e);if(!u)return o(!1);let h=$p.get(e);const d=()=>{o(u.matches)};return u.refCount++,u.addListener(d),d(),()=>{u.removeListener(d),u.refCount--,u.refCount<=0&&h?.delete(u.media),u=void 0}},[r]),s}function GV(r){const e=Object.keys(r);function t(d,p){return d===p?p:d?`${d} and ${p}`:p}function s(d){return e[Math.min(e.indexOf(d)+1,e.length-1)]}function o(d){const p=s(d);let g=r[p];return typeof g=="number"?g=`${g-.2}px`:g=`calc(${g} - 0.2px)`,`(max-width: ${g})`}function u(d){let p=r[d];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function h(d,p,g){let _;typeof d=="object"?(_=d,g=p,p=!0):(p=p||!0,_={[d]:p});let S=R.useMemo(()=>Object.entries(_).reduce((A,[N,P])=>((P==="up"||P===!0)&&(A=t(A,u(N))),(P==="down"||P===!0)&&(A=t(A,o(N))),A),""),[JSON.stringify(_)]);return FV(S,g)}return h}const $V=GV({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function up(r){r===void 0&&(r=uy());try{var e=r.activeElement;return!e||!e.nodeName?null:e}catch{return r.body}}function x0(r,e){if(r.contains)return r.contains(e);if(r.compareDocumentPosition)return r===e||!!(r.compareDocumentPosition(e)&16)}function KV(r){const e=R.useRef(r);return e.current=r,e}function QV(r){const e=KV(r);R.useEffect(()=>()=>e.current(),[])}function YV(r=document){const e=r.defaultView;return Math.abs(e.innerWidth-r.documentElement.clientWidth)}const M0=xf("modal-open");class hy{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:s=!1}={}){this.handleContainerOverflow=t,this.isRTL=s,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return YV(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();e.style={overflow:o.style.overflow,[s]:o.style[s]},e.scrollBarWidth&&(t[s]=`${parseInt(yi(o,s)||"0",10)+e.scrollBarWidth}px`),o.setAttribute(M0,""),yi(o,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(M0),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const gR=R.createContext(Mf?window:void 0);gR.Provider;function fy(){return R.useContext(gR)}const cp=(r,e)=>Mf?r==null?(e||uy()).body:(typeof r=="function"&&(r=r()),r&&"current"in r&&(r=r.current),r&&("nodeType"in r||r.getBoundingClientRect)?r:null):null;function XV(r,e){const t=fy(),[s,o]=R.useState(()=>cp(r,t?.document));if(!s){const u=cp(r);u&&o(u)}return R.useEffect(()=>{},[e,s]),R.useEffect(()=>{const u=cp(r);u!==s&&o(u)},[r,s]),s}function WV({children:r,in:e,onExited:t,mountOnEnter:s,unmountOnExit:o}){const u=R.useRef(null),h=R.useRef(e),d=oi(t);R.useEffect(()=>{e?h.current=!0:d(u.current)},[e,d]);const p=Of(u,Ho(r)),g=R.cloneElement(r,{ref:p});return e?g:o||!h.current&&s?null:g}const ZV=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function JV(r,e){if(r==null)return{};var t={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;t[s]=r[s]}return t}function eP(r){let{onEnter:e,onEntering:t,onEntered:s,onExit:o,onExiting:u,onExited:h,addEndListener:d,children:p}=r,g=JV(r,ZV);const _=R.useRef(null),S=Of(_,Ho(p)),A=oe=>ue=>{oe&&_.current&&oe(_.current,ue)},N=R.useCallback(A(e),[e]),P=R.useCallback(A(t),[t]),G=R.useCallback(A(s),[s]),U=R.useCallback(A(o),[o]),W=R.useCallback(A(u),[u]),X=R.useCallback(A(h),[h]),J=R.useCallback(A(d),[d]);return Object.assign({},g,{nodeRef:_},e&&{onEnter:N},t&&{onEntering:P},s&&{onEntered:G},o&&{onExit:U},u&&{onExiting:W},h&&{onExited:X},d&&{addEndListener:J},{children:typeof p=="function"?(oe,ue)=>p(oe,Object.assign({},ue,{ref:S})):R.cloneElement(p,{ref:S})})}const tP=["component"];function nP(r,e){if(r==null)return{};var t={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;t[s]=r[s]}return t}const rP=R.forwardRef((r,e)=>{let{component:t}=r,s=nP(r,tP);const o=eP(s);return O.jsx(t,Object.assign({ref:e},o))});function iP({in:r,onTransition:e}){const t=R.useRef(null),s=R.useRef(!0),o=oi(e);return C0(()=>{if(!t.current)return;let u=!1;return o({in:r,element:t.current,initial:s.current,isStale:()=>u}),()=>{u=!0}},[r,o]),C0(()=>(s.current=!1,()=>{s.current=!0}),[]),t}function sP({children:r,in:e,onExited:t,onEntered:s,transition:o}){const[u,h]=R.useState(!e);e&&u&&h(!1);const d=iP({in:!!e,onTransition:g=>{const _=()=>{g.isStale()||(g.in?s?.(g.element,g.initial):(h(!0),t?.(g.element)))};Promise.resolve(o(g)).then(_,S=>{throw g.in||h(!0),S})}}),p=Of(d,Ho(r));return u&&!e?null:R.cloneElement(r,{ref:p})}function k0(r,e,t){return r?O.jsx(rP,Object.assign({},t,{component:r})):e?O.jsx(sP,Object.assign({},t,{transition:e})):O.jsx(WV,Object.assign({},t))}const aP=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function oP(r,e){if(r==null)return{};var t={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;t[s]=r[s]}return t}let hp;function lP(r){return hp||(hp=new hy({ownerDocument:r?.document})),hp}function uP(r){const e=fy(),t=r||lP(e),s=R.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>t.add(s.current),remove:()=>t.remove(s.current),isTopModal:()=>t.isTopModal(s.current),setDialogRef:R.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:R.useCallback(o=>{s.current.backdrop=o},[])})}const yR=R.forwardRef((r,e)=>{let{show:t=!1,role:s="dialog",className:o,style:u,children:h,backdrop:d=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:_,transition:S,runTransition:A,backdropTransition:N,runBackdropTransition:P,autoFocus:G=!0,enforceFocus:U=!0,restoreFocus:W=!0,restoreFocusOptions:X,renderDialog:J,renderBackdrop:oe=tt=>O.jsx("div",Object.assign({},tt)),manager:ue,container:he,onShow:x,onHide:w=()=>{},onExit:C,onExited:V,onExiting:L,onEnter:B,onEntering:D,onEntered:ft}=r,rt=oP(r,aP);const Q=fy(),se=XV(he),ce=uP(ue),Ue=hV(),M=fV(t),[re,le]=R.useState(!t),ie=R.useRef(null);R.useImperativeHandle(e,()=>ce,[ce]),Mf&&!M&&t&&(ie.current=up(Q?.document)),t&&re&&le(!1);const me=oi(()=>{if(ce.add(),bn.current=af(document,"keydown",Xe),un.current=af(document,"focus",()=>setTimeout(Se),!0),x&&x(),G){var tt,As;const Yt=up((tt=(As=ce.dialog)==null?void 0:As.ownerDocument)!=null?tt:Q?.document);ce.dialog&&Yt&&!x0(ce.dialog,Yt)&&(ie.current=Yt,ce.dialog.focus())}}),be=oi(()=>{if(ce.remove(),bn.current==null||bn.current(),un.current==null||un.current(),W){var tt;(tt=ie.current)==null||tt.focus==null||tt.focus(X),ie.current=null}});R.useEffect(()=>{!t||!se||me()},[t,se,me]),R.useEffect(()=>{re&&be()},[re,be]),QV(()=>{be()});const Se=oi(()=>{if(!U||!Ue()||!ce.isTopModal())return;const tt=up(Q?.document);ce.dialog&&tt&&!x0(ce.dialog,tt)&&ce.dialog.focus()}),Et=oi(tt=>{tt.target===tt.currentTarget&&(g?.(tt),d===!0&&w())}),Xe=oi(tt=>{p&&wV(tt)&&ce.isTopModal()&&(_?.(tt),tt.defaultPrevented||w())}),un=R.useRef(),bn=R.useRef(),zn=(...tt)=>{le(!0),V?.(...tt)};if(!se)return null;const ir=Object.assign({role:s,ref:ce.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},rt,{style:u,className:o,tabIndex:-1});let qn=J?J(ir):O.jsx("div",Object.assign({},ir,{children:R.cloneElement(h,{role:"document"})}));qn=k0(S,A,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:C,onExiting:L,onExited:zn,onEnter:B,onEntering:D,onEntered:ft,children:qn});let Rn=null;return d&&(Rn=oe({ref:ce.setBackdropRef,onClick:Et}),Rn=k0(N,P,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Rn})),O.jsx(O.Fragment,{children:To.createPortal(O.jsxs(O.Fragment,{children:[Rn,qn]}),se)})});yR.displayName="Modal";const cP=Object.assign(yR,{Manager:hy}),hP={[Yn]:"show",[li]:"show"},_R=R.forwardRef(({className:r,children:e,transitionClasses:t={},onEnter:s,...o},u)=>{const h={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},d=R.useCallback((p,g)=>{fR(p),s?.(p,g)},[s]);return O.jsx(kf,{ref:u,addEndListener:cy,...h,onEnter:d,childRef:Ho(e),children:(p,g)=>R.cloneElement(e,{...g,className:we("fade",r,e.props.className,hP[p],t[p])})})});_R.displayName="Fade";const vR=R.forwardRef(({className:r,bsPrefix:e,as:t="div",...s},o)=>(e=Oe(e,"offcanvas-body"),O.jsx(t,{ref:o,className:we(r,e),...s})));vR.displayName="OffcanvasBody";const fP={[Yn]:"show",[li]:"show"},ER=R.forwardRef(({bsPrefix:r,className:e,children:t,in:s=!1,mountOnEnter:o=!1,unmountOnExit:u=!1,appear:h=!1,...d},p)=>(r=Oe(r,"offcanvas"),O.jsx(kf,{ref:p,addEndListener:cy,in:s,mountOnEnter:o,unmountOnExit:u,appear:h,...d,childRef:Ho(t),children:(g,_)=>R.cloneElement(t,{..._,className:we(e,t.props.className,(g===Yn||g===Ru)&&`${r}-toggling`,fP[g])})})));ER.displayName="OffcanvasToggling";const TR=R.createContext({onHide(){}}),dP={"aria-label":mi.string,onClick:mi.func,variant:mi.oneOf(["white"])},dy=R.forwardRef(({className:r,variant:e,"aria-label":t="Close",...s},o)=>O.jsx("button",{ref:o,type:"button",className:we("btn-close",e&&`btn-close-${e}`,r),"aria-label":t,...s}));dy.displayName="CloseButton";dy.propTypes=dP;const SR=R.forwardRef(({closeLabel:r="Close",closeVariant:e,closeButton:t=!1,onHide:s,children:o,...u},h)=>{const d=R.useContext(TR),p=Vf(()=>{d?.onHide(),s?.()});return O.jsxs("div",{ref:h,...u,children:[o,t&&O.jsx(dy,{"aria-label":r,variant:e,onClick:p})]})});SR.displayName="AbstractModalHeader";const AR=R.forwardRef(({bsPrefix:r,className:e,closeLabel:t="Close",closeButton:s=!1,...o},u)=>(r=Oe(r,"offcanvas-header"),O.jsx(SR,{ref:u,...o,className:we(e,r),closeLabel:t,closeButton:s})));AR.displayName="OffcanvasHeader";const mP=iy("h5"),bR=R.forwardRef(({className:r,bsPrefix:e,as:t=mP,...s},o)=>(e=Oe(e,"offcanvas-title"),O.jsx(t,{ref:o,className:we(r,e),...s})));bR.displayName="OffcanvasTitle";function pP(r,e){return r.classList?r.classList.contains(e):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+e+" ")!==-1}function gP(r,e){r.classList?r.classList.add(e):pP(r,e)||(typeof r.className=="string"?r.className=r.className+" "+e:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+e))}function V0(r,e){return r.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function yP(r,e){r.classList?r.classList.remove(e):typeof r.className=="string"?r.className=V0(r.className,e):r.setAttribute("class",V0(r.className&&r.className.baseVal||"",e))}const go={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class RR extends hy{adjustAndStore(e,t,s){const o=t.style[e];t.dataset[e]=o,yi(t,{[e]:`${parseFloat(yi(t,e))+s}px`})}restore(e,t){const s=t.dataset[e];s!==void 0&&(delete t.dataset[e],yi(t,{[e]:s}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(gP(t,"modal-open"),!e.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";sa(t,go.FIXED_CONTENT).forEach(u=>this.adjustAndStore(s,u,e.scrollBarWidth)),sa(t,go.STICKY_CONTENT).forEach(u=>this.adjustAndStore(o,u,-e.scrollBarWidth)),sa(t,go.NAVBAR_TOGGLER).forEach(u=>this.adjustAndStore(o,u,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();yP(t,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";sa(t,go.FIXED_CONTENT).forEach(u=>this.restore(s,u)),sa(t,go.STICKY_CONTENT).forEach(u=>this.restore(o,u)),sa(t,go.NAVBAR_TOGGLER).forEach(u=>this.restore(o,u))}}let fp;function _P(r){return fp||(fp=new RR(r)),fp}function vP(r){return O.jsx(ER,{...r})}function EP(r){return O.jsx(_R,{...r})}const wR=R.forwardRef(({bsPrefix:r,className:e,children:t,"aria-labelledby":s,placement:o="start",responsive:u,show:h=!1,backdrop:d=!0,keyboard:p=!0,scroll:g=!1,onEscapeKeyDown:_,onShow:S,onHide:A,container:N,autoFocus:P=!0,enforceFocus:G=!0,restoreFocus:U=!0,restoreFocusOptions:W,onEntered:X,onExit:J,onExiting:oe,onEnter:ue,onEntering:he,onExited:x,backdropClassName:w,manager:C,renderStaticNode:V=!1,...L},B)=>{const D=R.useRef();r=Oe(r,"offcanvas");const[ft,rt]=R.useState(!1),Q=Vf(A),se=$V(u||"xs","up");R.useEffect(()=>{rt(u?h&&!se:h)},[h,u,se]);const ce=R.useMemo(()=>({onHide:Q}),[Q]);function Ue(){return C||(g?(D.current||(D.current=new RR({handleContainerOverflow:!1})),D.current):_P())}const M=(me,...be)=>{me&&(me.style.visibility="visible"),ue?.(me,...be)},re=(me,...be)=>{me&&(me.style.visibility=""),x?.(...be)},le=R.useCallback(me=>O.jsx("div",{...me,className:we(`${r}-backdrop`,w)}),[w,r]),ie=me=>O.jsx("div",{...me,...L,className:we(e,u?`${r}-${u}`:r,`${r}-${o}`),"aria-labelledby":s,children:t});return O.jsxs(O.Fragment,{children:[!ft&&(u||V)&&ie({}),O.jsx(TR.Provider,{value:ce,children:O.jsx(cP,{show:ft,ref:B,backdrop:d,container:N,keyboard:p,autoFocus:P,enforceFocus:G&&!g,restoreFocus:U,restoreFocusOptions:W,onEscapeKeyDown:_,onShow:S,onHide:Q,onEnter:M,onEntering:he,onEntered:X,onExit:J,onExiting:oe,onExited:re,manager:Ue(),transition:vP,backdropTransition:EP,renderBackdrop:le,renderDialog:ie})})]})});wR.displayName="Offcanvas";const TP=Object.assign(wR,{Body:vR,Header:AR,Title:bR}),CR=R.forwardRef(({onHide:r,...e},t)=>{const s=R.useContext(qo),o=Vf(()=>{s==null||s.onToggle==null||s.onToggle(),r?.()});return O.jsx(TP,{ref:t,show:!!(s!=null&&s.expanded),...e,renderStaticNode:!0,onHide:o})});CR.displayName="NavbarOffcanvas";const IR=R.forwardRef(({className:r,bsPrefix:e,as:t="span",...s},o)=>(e=Oe(e,"navbar-text"),O.jsx(t,{ref:o,className:we(r,e),...s})));IR.displayName="NavbarText";const NR=R.forwardRef((r,e)=>{const{bsPrefix:t,expand:s=!0,variant:o="light",bg:u,fixed:h,sticky:d,className:p,as:g="nav",expanded:_,onToggle:S,onSelect:A,collapseOnSelect:N=!1,...P}=tR(r,{expanded:"onToggle"}),G=Oe(t,"navbar"),U=R.useCallback((...J)=>{A?.(...J),N&&_&&S?.(!1)},[A,N,_,S]);P.role===void 0&&g!=="nav"&&(P.role="navigation");let W=`${G}-expand`;typeof s=="string"&&(W=`${W}-${s}`);const X=R.useMemo(()=>({onToggle:()=>S?.(!_),bsPrefix:G,expanded:!!_,expand:s}),[G,_,s,S]);return O.jsx(qo.Provider,{value:X,children:O.jsx(sf.Provider,{value:U,children:O.jsx(g,{ref:e,...P,className:we(p,G,s&&W,o&&`${G}-${o}`,u&&`bg-${u}`,d&&`sticky-${d}`,h&&`fixed-${h}`)})})})});NR.displayName="Navbar";const P0=Object.assign(NR,{Brand:cR,Collapse:mR,Offcanvas:CR,Text:IR,Toggle:pR}),SP=()=>O.jsx("div",{children:O.jsx(P0,{bg:"dark","data-bs-theme":"dark",children:O.jsxs(ay,{children:[O.jsx(P0.Brand,{href:"#home",children:"Navbar"}),O.jsxs(vh,{className:"me-auto",children:[O.jsx(vh.Link,{href:"/",children:"Home"}),O.jsx(vh.Link,{href:"/book",children:"Book Listner"}),O.jsx(vh.Link,{href:"/view/mybook",children:"My Books"})]})]})})}),AP=()=>{const r=Wp(),e=bi(),t=vs(),[s,o]=R.useState(null);return R.useEffect(()=>{e.viewdatabyid(r.id).then(u=>o(u))},[]),s==null?O.jsx("h1",{children:"Loading..."}):O.jsxs("div",{className:"container mt-5 mx-auto",children:[O.jsx("h1",{children:s.name}),O.jsx("img",{style:{width:300,height:300},src:s.imageurl,alt:""}),O.jsx("h2",{children:"Details"}),O.jsxs("p",{children:["price: Rs. ",s.price]}),O.jsxs("p",{children:["ISBN Number: ",s.isbn," "]}),O.jsx("h2",{children:"Owner Details"}),O.jsxs("p",{children:["Name: ",s.Owner]}),O.jsx(di,{onClick:u=>t(`/orders/${r.id}`),variant:"primary",children:"Buy Book"})]})},DR=R.forwardRef(({bsPrefix:r,className:e,as:t="div",...s},o)=>{const u=Oe(r,"row"),h=tS(),d=nS(),p=`${u}-cols`,g=[];return h.forEach(_=>{const S=s[_];delete s[_];let A;S!=null&&typeof S=="object"?{cols:A}=S:A=S;const N=_!==d?`-${_}`:"";A!=null&&g.push(`${p}${N}-${A}`)}),O.jsx(t,{ref:o,...s,className:we(e,u,...g)})});DR.displayName="Row";const bP=()=>{const[r,e]=R.useState(""),[t,s]=R.useState(""),[o,u]=R.useState("1"),h=vs(),d=bi(),p=Wp(),g=async _=>{_.preventDefault(),await d.bookorder(t,r,o,p.id),alert("Order Confirm")};return O.jsx("div",{className:"container mt-5",children:O.jsxs(Ne,{onSubmit:g,children:[O.jsxs(Ne.Group,{className:"mb-3",controlId:"formBasicName",children:[O.jsx(Ne.Label,{children:"Your Name"}),O.jsx(Ne.Control,{onChange:_=>s(_.target.value),value:t,type:"text",placeholder:"Enter Name"})]}),O.jsxs(Ne.Group,{className:"mb-3",controlId:"formBasicEmail",children:[O.jsx(Ne.Label,{children:"Email"}),O.jsx(Ne.Control,{onChange:_=>e(_.target.value),value:r,type:"email",placeholder:"Enter Your Email"})]}),O.jsxs(Ne.Group,{className:"mb-3",controlId:"formBasicQty",children:[O.jsx(Ne.Label,{children:"Quantity"}),O.jsx(Ne.Control,{onChange:_=>u(_.target.value),value:o,type:"number",placeholder:"Number Of Books"})]}),O.jsx(di,{onClick:()=>h("/"),variant:"primary",type:"submit",children:"Order"})]})})},L0=({children:r})=>bi().isLogin?r:O.jsx(Z1,{to:"/login",replace:!0}),RP=()=>{const r=bi(),[e,t]=R.useState([]);return R.useEffect(()=>{r.isLogin&&r.Viewmybooks().then(s=>{s?(t(s.docs),s.forEach(o=>{console.log("Book ID:",o.id),console.log("Book Data:",o.data())})):console.log("User not logged in or no books found.")}).catch(s=>{console.error("Error fetching books:",s.message)}),e&&console.log(e)},[r]),O.jsx("div",{className:"mt- 5",children:O.jsx(sy,{children:e.map(s=>(console.log(`Bookcard ID: myorders/${s.id}`),O.jsx(Jb,{id:`myorders/${s.id}`,view:"My Orders",...s.data()},s.id)))})})},wP=()=>{const{id:r}=Wp(),e=bi(),[t,s]=R.useState([]);return R.useEffect(()=>{e.myorders(r).then(o=>{const u=o.docs.map(h=>({id:h.id,...h.data()}));s(u)}).catch(o=>{console.error("Error fetching orders:",o.message)})},[e,r]),O.jsxs(ay,{className:"mt-4",children:[O.jsxs("h2",{className:"mb-4",children:["Orders for Book ID: ",r]}),t.length===0?O.jsx("p",{children:"No orders found."}):O.jsx(DR,{xs:1,md:2,lg:3,className:"g-4",children:t.map(o=>O.jsx(sg,{children:O.jsxs(Sr,{className:"h-100 shadow-sm",children:[O.jsxs(Sr.Body,{children:[O.jsxs(Sr.Title,{children:["Order by ",o.name]}),O.jsxs(Sr.Text,{children:[O.jsx("strong",{children:"Email:"})," ",o.email," ",O.jsx("br",{}),O.jsx("strong",{children:"Quantity:"})," ",o.Qty]})]}),O.jsxs(Sr.Footer,{className:"text-muted",children:["Order ID: ",o.id]})]})},o.id))})]})};function CP(){return O.jsxs(eC,{children:[O.jsx(si,{path:"/bookify/",element:O.jsxs(O.Fragment,{children:[O.jsx(SP,{}),O.jsx(Qk,{})]})}),O.jsx(si,{path:"/bookify/login",element:O.jsx(Hk,{})}),O.jsx(si,{path:"/bookify/book",element:O.jsx(Gk,{})}),O.jsx(si,{path:"/bookify/register",element:O.jsx(Fk,{})}),O.jsx(si,{path:"/bookify/book/view/:id",element:O.jsx(L0,{children:O.jsx(AP,{})})}),O.jsx(si,{path:"/bookify/orders/:id",element:O.jsx(L0,{children:O.jsx(bP,{})})}),O.jsx(si,{path:"/bookify/view/mybook",element:O.jsx(RP,{})}),O.jsx(si,{path:"/bookify/book/view/myorders/:id",element:O.jsx(wP,{})})]})}u1.createRoot(document.getElementById("root")).render(O.jsx(R.StrictMode,{children:O.jsx(AC,{basename:"/bookify",children:O.jsx(qk,{children:O.jsx(CP,{})})})}));
