(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=e(o);fetch(o.href,l)}})();function _h(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Jm={exports:{}},ru={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function NR(){if(HE)return ru;HE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:n,type:s,key:c,ref:o!==void 0?o:null,props:l}}return ru.Fragment=t,ru.jsx=e,ru.jsxs=e,ru}var FE;function xR(){return FE||(FE=1,Jm.exports=NR()),Jm.exports}var x=xR(),tp={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE;function OR(){if(GE)return It;GE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,z={};function k(V,it,ct){this.props=V,this.context=it,this.refs=z,this.updater=ct||C}k.prototype.isReactComponent={},k.prototype.setState=function(V,it){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,it,"setState")},k.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Q(){}Q.prototype=k.prototype;function q(V,it,ct){this.props=V,this.context=it,this.refs=z,this.updater=ct||C}var F=q.prototype=new Q;F.constructor=q,M(F,k.prototype),F.isPureReactComponent=!0;var tt=Array.isArray,st={H:null,A:null,T:null,S:null,V:null},lt=Object.prototype.hasOwnProperty;function N(V,it,ct,at,mt,St){return ct=St.ref,{$$typeof:n,type:V,key:it,ref:ct!==void 0?ct:null,props:St}}function R(V,it){return N(V.type,it,void 0,void 0,void 0,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function P(V){var it={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ct){return it[ct]})}var L=/\/+/g;function j(V,it){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):it.toString(36)}function D(){}function ue(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(D,D):(V.status="pending",V.then(function(it){V.status==="pending"&&(V.status="fulfilled",V.value=it)},function(it){V.status==="pending"&&(V.status="rejected",V.reason=it)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Qt(V,it,ct,at,mt){var St=typeof V;(St==="undefined"||St==="boolean")&&(V=null);var bt=!1;if(V===null)bt=!0;else switch(St){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(V.$$typeof){case n:case t:bt=!0;break;case _:return bt=V._init,Qt(bt(V._payload),it,ct,at,mt)}}if(bt)return mt=mt(V),bt=at===""?"."+j(V,0):at,tt(mt)?(ct="",bt!=null&&(ct=bt.replace(L,"$&/")+"/"),Qt(mt,it,ct,"",function(hn){return hn})):mt!=null&&(I(mt)&&(mt=R(mt,ct+(mt.key==null||V&&V.key===mt.key?"":(""+mt.key).replace(L,"$&/")+"/")+bt)),it.push(mt)),1;bt=0;var be=at===""?".":at+":";if(tt(V))for(var Zt=0;Zt<V.length;Zt++)at=V[Zt],St=be+j(at,Zt),bt+=Qt(at,it,ct,St,mt);else if(Zt=w(V),typeof Zt=="function")for(V=Zt.call(V),Zt=0;!(at=V.next()).done;)at=at.value,St=be+j(at,Zt++),bt+=Qt(at,it,ct,St,mt);else if(St==="object"){if(typeof V.then=="function")return Qt(ue(V),it,ct,at,mt);throw it=String(V),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return bt}function W(V,it,ct){if(V==null)return V;var at=[],mt=0;return Qt(V,at,"","",function(St){return it.call(ct,St,mt++)}),at}function ot(V){if(V._status===-1){var it=V._result;it=it(),it.then(function(ct){(V._status===0||V._status===-1)&&(V._status=1,V._result=ct)},function(ct){(V._status===0||V._status===-1)&&(V._status=2,V._result=ct)}),V._status===-1&&(V._status=0,V._result=it)}if(V._status===1)return V._result.default;throw V._result}var ft=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Lt(){}return It.Children={map:W,forEach:function(V,it,ct){W(V,function(){it.apply(this,arguments)},ct)},count:function(V){var it=0;return W(V,function(){it++}),it},toArray:function(V){return W(V,function(it){return it})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},It.Component=k,It.Fragment=e,It.Profiler=o,It.PureComponent=q,It.StrictMode=s,It.Suspense=p,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,It.__COMPILER_RUNTIME={__proto__:null,c:function(V){return st.H.useMemoCache(V)}},It.cache=function(V){return function(){return V.apply(null,arguments)}},It.cloneElement=function(V,it,ct){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var at=M({},V.props),mt=V.key,St=void 0;if(it!=null)for(bt in it.ref!==void 0&&(St=void 0),it.key!==void 0&&(mt=""+it.key),it)!lt.call(it,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&it.ref===void 0||(at[bt]=it[bt]);var bt=arguments.length-2;if(bt===1)at.children=ct;else if(1<bt){for(var be=Array(bt),Zt=0;Zt<bt;Zt++)be[Zt]=arguments[Zt+2];at.children=be}return N(V.type,mt,void 0,void 0,St,at)},It.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},It.createElement=function(V,it,ct){var at,mt={},St=null;if(it!=null)for(at in it.key!==void 0&&(St=""+it.key),it)lt.call(it,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(mt[at]=it[at]);var bt=arguments.length-2;if(bt===1)mt.children=ct;else if(1<bt){for(var be=Array(bt),Zt=0;Zt<bt;Zt++)be[Zt]=arguments[Zt+2];mt.children=be}if(V&&V.defaultProps)for(at in bt=V.defaultProps,bt)mt[at]===void 0&&(mt[at]=bt[at]);return N(V,St,void 0,void 0,null,mt)},It.createRef=function(){return{current:null}},It.forwardRef=function(V){return{$$typeof:d,render:V}},It.isValidElement=I,It.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:ot}},It.memo=function(V,it){return{$$typeof:g,type:V,compare:it===void 0?null:it}},It.startTransition=function(V){var it=st.T,ct={};st.T=ct;try{var at=V(),mt=st.S;mt!==null&&mt(ct,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Lt,ft)}catch(St){ft(St)}finally{st.T=it}},It.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()},It.use=function(V){return st.H.use(V)},It.useActionState=function(V,it,ct){return st.H.useActionState(V,it,ct)},It.useCallback=function(V,it){return st.H.useCallback(V,it)},It.useContext=function(V){return st.H.useContext(V)},It.useDebugValue=function(){},It.useDeferredValue=function(V,it){return st.H.useDeferredValue(V,it)},It.useEffect=function(V,it,ct){var at=st.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return at.useEffect(V,it)},It.useId=function(){return st.H.useId()},It.useImperativeHandle=function(V,it,ct){return st.H.useImperativeHandle(V,it,ct)},It.useInsertionEffect=function(V,it){return st.H.useInsertionEffect(V,it)},It.useLayoutEffect=function(V,it){return st.H.useLayoutEffect(V,it)},It.useMemo=function(V,it){return st.H.useMemo(V,it)},It.useOptimistic=function(V,it){return st.H.useOptimistic(V,it)},It.useReducer=function(V,it,ct){return st.H.useReducer(V,it,ct)},It.useRef=function(V){return st.H.useRef(V)},It.useState=function(V){return st.H.useState(V)},It.useSyncExternalStore=function(V,it,ct){return st.H.useSyncExternalStore(V,it,ct)},It.useTransition=function(){return st.H.useTransition()},It.version="19.1.1",It}var $E;function pg(){return $E||($E=1,tp.exports=OR()),tp.exports}var S=pg();const qt=_h(S);var ep={exports:{}},iu={},np={exports:{}},rp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KE;function DR(){return KE||(KE=1,(function(n){function t(W,ot){var ft=W.length;W.push(ot);t:for(;0<ft;){var Lt=ft-1>>>1,V=W[Lt];if(0<o(V,ot))W[Lt]=ot,W[ft]=V,ft=Lt;else break t}}function e(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ot=W[0],ft=W.pop();if(ft!==ot){W[0]=ft;t:for(var Lt=0,V=W.length,it=V>>>1;Lt<it;){var ct=2*(Lt+1)-1,at=W[ct],mt=ct+1,St=W[mt];if(0>o(at,ft))mt<V&&0>o(St,at)?(W[Lt]=St,W[mt]=ft,Lt=mt):(W[Lt]=at,W[ct]=ft,Lt=ct);else if(mt<V&&0>o(St,ft))W[Lt]=St,W[mt]=ft,Lt=mt;else break t}}return ot}function o(W,ot){var ft=W.sortIndex-ot.sortIndex;return ft!==0?ft:W.id-ot.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],_=1,T=null,w=3,C=!1,M=!1,z=!1,k=!1,Q=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function tt(W){for(var ot=e(g);ot!==null;){if(ot.callback===null)s(g);else if(ot.startTime<=W)s(g),ot.sortIndex=ot.expirationTime,t(p,ot);else break;ot=e(g)}}function st(W){if(z=!1,tt(W),!M)if(e(p)!==null)M=!0,lt||(lt=!0,j());else{var ot=e(g);ot!==null&&Qt(st,ot.startTime-W)}}var lt=!1,N=-1,R=5,I=-1;function P(){return k?!0:!(n.unstable_now()-I<R)}function L(){if(k=!1,lt){var W=n.unstable_now();I=W;var ot=!0;try{t:{M=!1,z&&(z=!1,q(N),N=-1),C=!0;var ft=w;try{e:{for(tt(W),T=e(p);T!==null&&!(T.expirationTime>W&&P());){var Lt=T.callback;if(typeof Lt=="function"){T.callback=null,w=T.priorityLevel;var V=Lt(T.expirationTime<=W);if(W=n.unstable_now(),typeof V=="function"){T.callback=V,tt(W),ot=!0;break e}T===e(p)&&s(p),tt(W)}else s(p);T=e(p)}if(T!==null)ot=!0;else{var it=e(g);it!==null&&Qt(st,it.startTime-W),ot=!1}}break t}finally{T=null,w=ft,C=!1}ot=void 0}}finally{ot?j():lt=!1}}}var j;if(typeof F=="function")j=function(){F(L)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ue=D.port2;D.port1.onmessage=L,j=function(){ue.postMessage(null)}}else j=function(){Q(L,0)};function Qt(W,ot){N=Q(function(){W(n.unstable_now())},ot)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(W){switch(w){case 1:case 2:case 3:var ot=3;break;default:ot=w}var ft=w;w=ot;try{return W()}finally{w=ft}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(W,ot){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ft=w;w=W;try{return ot()}finally{w=ft}},n.unstable_scheduleCallback=function(W,ot,ft){var Lt=n.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Lt+ft:Lt):ft=Lt,W){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ft+V,W={id:_++,callback:ot,priorityLevel:W,startTime:ft,expirationTime:V,sortIndex:-1},ft>Lt?(W.sortIndex=ft,t(g,W),e(p)===null&&W===e(g)&&(z?(q(N),N=-1):z=!0,Qt(st,ft-Lt))):(W.sortIndex=V,t(p,W),M||C||(M=!0,lt||(lt=!0,j()))),W},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(W){var ot=w;return function(){var ft=w;w=ot;try{return W.apply(this,arguments)}finally{w=ft}}}})(rp)),rp}var QE;function kR(){return QE||(QE=1,np.exports=DR()),np.exports}var ip={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE;function MR(){if(YE)return tn;YE=1;var n=pg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(p,g,null,_)},tn.flushSync=function(p){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=_,s.d.f()}},tn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},tn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},tn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:C}):_==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},tn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},tn.requestFormReset=function(p){s.d.r(p)},tn.unstable_batchedUpdates=function(p,g){return p(g)},tn.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},tn.version="19.1.1",tn}var XE;function ib(){if(XE)return ip.exports;XE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),ip.exports=MR(),ip.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function VR(){if(WE)return iu;WE=1;var n=kR(),t=pg(),e=ib();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(s(188))}function p(r){var i=r.alternate;if(!i){if(i=l(r),i===null)throw Error(s(188));return i!==r?null:r}for(var a=r,u=i;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(u=h.return,u!==null){a=u;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return d(h),r;if(m===u)return d(h),i;m=m.sibling}throw Error(s(188))}if(a.return!==u.return)a=h,u=m;else{for(var E=!1,b=h.child;b;){if(b===a){E=!0,a=h,u=m;break}if(b===u){E=!0,u=h,a=m;break}b=b.sibling}if(!E){for(b=m.child;b;){if(b===a){E=!0,a=m,u=h;break}if(b===u){E=!0,u=m,a=h;break}b=b.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?r:i}function g(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=g(r),i!==null)return i;r=r.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),F=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function j(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var D=Symbol.for("react.client.reference");function ue(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===D?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case M:return"Fragment";case k:return"Profiler";case z:return"StrictMode";case st:return"Suspense";case lt:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case F:return(r.displayName||"Context")+".Provider";case q:return(r._context.displayName||"Context")+".Consumer";case tt:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case N:return i=r.displayName||null,i!==null?i:ue(r.type)||"Memo";case R:i=r._payload,r=r._init;try{return ue(r(i))}catch{}}return null}var Qt=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Lt=[],V=-1;function it(r){return{current:r}}function ct(r){0>V||(r.current=Lt[V],Lt[V]=null,V--)}function at(r,i){V++,Lt[V]=r.current,r.current=i}var mt=it(null),St=it(null),bt=it(null),be=it(null);function Zt(r,i){switch(at(bt,i),at(St,r),at(mt,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?yE(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=yE(i),r=_E(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ct(mt),at(mt,r)}function hn(){ct(mt),ct(St),ct(bt)}function Cn(r){r.memoizedState!==null&&at(be,r);var i=mt.current,a=_E(i,r.type);i!==a&&(at(St,r),at(mt,a))}function Gn(r){St.current===r&&(ct(mt),ct(St)),be.current===r&&(ct(be),Zl._currentValue=ft)}var or=Object.prototype.hasOwnProperty,$n=n.unstable_scheduleCallback,In=n.unstable_cancelCallback,re=n.unstable_shouldYield,As=n.unstable_requestPaint,We=n.unstable_now,Jh=n.unstable_getCurrentPriorityLevel,Xo=n.unstable_ImmediatePriority,Ra=n.unstable_UserBlockingPriority,Rs=n.unstable_NormalPriority,td=n.unstable_LowPriority,Ca=n.unstable_IdlePriority,Wo=n.log,Wu=n.unstable_setDisableYieldValue,pe=null,Yt=null;function _n(r){if(typeof Wo=="function"&&Wu(r),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(pe,r)}catch{}}var Ze=Math.clz32?Math.clz32:Cs,Zu=Math.log,ed=Math.LN2;function Cs(r){return r>>>=0,r===0?32:31-(Zu(r)/ed|0)|0}var Is=256,Ns=4194304;function Kn(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ia(r,i,a){var u=r.pendingLanes;if(u===0)return 0;var h=0,m=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var b=u&134217727;return b!==0?(u=b&~m,u!==0?h=Kn(u):(E&=b,E!==0?h=Kn(E):a||(a=b&~r,a!==0&&(h=Kn(a))))):(b=u&~m,b!==0?h=Kn(b):E!==0?h=Kn(E):a||(a=u&~r,a!==0&&(h=Kn(a)))),h===0?0:i!==0&&i!==h&&(i&m)===0&&(m=h&-h,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:h}function xs(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Zo(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jo(){var r=Is;return Is<<=1,(Is&4194048)===0&&(Is=256),r}function tl(){var r=Ns;return Ns<<=1,(Ns&62914560)===0&&(Ns=4194304),r}function Ur(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function jr(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function el(r,i,a,u,h,m){var E=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var b=r.entanglements,O=r.expirationTimes,$=r.hiddenUpdates;for(a=E&~a;0<a;){var Z=31-Ze(a),nt=1<<Z;b[Z]=0,O[Z]=-1;var K=$[Z];if(K!==null)for($[Z]=null,Z=0;Z<K.length;Z++){var Y=K[Z];Y!==null&&(Y.lane&=-536870913)}a&=~nt}u!==0&&lr(r,u,0),m!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=m&~(E&~i))}function lr(r,i,a){r.pendingLanes|=i,r.suspendedLanes&=~i;var u=31-Ze(i);r.entangledLanes|=i,r.entanglements[u]=r.entanglements[u]|1073741824|a&4194090}function nl(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var u=31-Ze(a),h=1<<u;h&i|r[u]&i&&(r[u]|=i),a&=~h}}function Ii(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Na(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ni(){var r=ot.p;return r!==0?r:(r=window.event,r===void 0?32:LE(r.type))}function Ju(r,i){var a=ot.p;try{return ot.p=r,i()}finally{ot.p=a}}var ce=Math.random().toString(36).slice(2),Oe="__reactFiber$"+ce,we="__reactProps$"+ce,Nn="__reactContainer$"+ce,rl="__reactEvents$"+ce,nd="__reactListeners$"+ce,xi="__reactHandles$"+ce,tc="__reactResources$"+ce,Os="__reactMarker$"+ce;function Oi(r){delete r[Oe],delete r[we],delete r[rl],delete r[nd],delete r[xi]}function Br(r){var i=r[Oe];if(i)return i;for(var a=r.parentNode;a;){if(i=a[Nn]||a[Oe]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=bE(r);r!==null;){if(a=r[Oe])return a;r=bE(r)}return i}r=a,a=r.parentNode}return null}function ur(r){if(r=r[Oe]||r[Nn]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function cr(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function an(r){var i=r[tc];return i||(i=r[tc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function _e(r){r[Os]=!0}var il=new Set,xa={};function Qn(r,i){zr(r,i),zr(r+"Capture",i)}function zr(r,i){for(xa[r]=i,r=0;r<i.length;r++)il.add(i[r])}var ec=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nc={},Ds={};function rc(r){return or.call(Ds,r)?!0:or.call(nc,r)?!1:ec.test(r)?Ds[r]=!0:(nc[r]=!0,!1)}function Di(r,i,a){if(rc(i))if(a===null)r.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+a)}}function fr(r,i,a){if(a===null)r.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+a)}}function He(r,i,a,u){if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(i,a,""+u)}}var ks,ic;function qr(r){if(ks===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ks=i&&i[1]||"",ic=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ks+r+ic}var Oa=!1;function Da(r,i){if(!r||Oa)return"";Oa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(Y){var K=Y}Reflect.construct(r,[],nt)}else{try{nt.call()}catch(Y){K=Y}r.call(nt.prototype)}}else{try{throw Error()}catch(Y){K=Y}(nt=r())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(Y){if(Y&&K&&typeof Y.stack=="string")return[Y.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),E=m[0],b=m[1];if(E&&b){var O=E.split(`
`),$=b.split(`
`);for(h=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;if(u===O.length||h===$.length)for(u=O.length-1,h=$.length-1;1<=u&&0<=h&&O[u]!==$[h];)h--;for(;1<=u&&0<=h;u--,h--)if(O[u]!==$[h]){if(u!==1||h!==1)do if(u--,h--,0>h||O[u]!==$[h]){var Z=`
`+O[u].replace(" at new "," at ");return r.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",r.displayName)),Z}while(1<=u&&0<=h);break}}}finally{Oa=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?qr(a):""}function sl(r){switch(r.tag){case 26:case 27:case 5:return qr(r.type);case 16:return qr("Lazy");case 13:return qr("Suspense");case 19:return qr("SuspenseList");case 0:case 15:return Da(r.type,!1);case 11:return Da(r.type.render,!1);case 1:return Da(r.type,!0);case 31:return qr("Activity");default:return""}}function ka(r){try{var i="";do i+=sl(r),r=r.return;while(r);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function on(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function al(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function rd(r){var i=al(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),u=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){u=""+E,m.call(this,E)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Ma(r){r._valueTracker||(r._valueTracker=rd(r))}function ol(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),u="";return r&&(u=al(r)?r.checked?"true":"false":r.value),r=u,r!==a?(i.setValue(r),!0):!1}function Ms(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var id=/[\n"\\]/g;function Se(r){return r.replace(id,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function vn(r,i,a,u,h,m,E,b){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),i!=null?E==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+on(i)):r.value!==""+on(i)&&(r.value=""+on(i)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),i!=null?ki(r,E,on(i)):a!=null?ki(r,E,on(a)):u!=null&&r.removeAttribute("value"),h==null&&m!=null&&(r.defaultChecked=!!m),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.name=""+on(b):r.removeAttribute("name")}function Vs(r,i,a,u,h,m,E,b){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+on(a):"",i=i!=null?""+on(i):a,b||i===r.value||(r.value=i),r.defaultValue=i}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=b?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function ki(r,i,a){i==="number"&&Ms(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function Hr(r,i,a,u){if(r=r.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<r.length;a++)h=i.hasOwnProperty("$"+r[a].value),r[a].selected!==h&&(r[a].selected=h),h&&u&&(r[a].defaultSelected=!0)}else{for(a=""+on(a),i=null,h=0;h<r.length;h++){if(r[h].value===a){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}i!==null||r[h].disabled||(i=r[h])}i!==null&&(i.selected=!0)}}function Jt(r,i,a){if(i!=null&&(i=""+on(i),i!==r.value&&(r.value=i),a==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=a!=null?""+on(a):""}function Ps(r,i,a,u){if(i==null){if(u!=null){if(a!=null)throw Error(s(92));if(Qt(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),i=a}a=on(i),r.defaultValue=a,u=r.textContent,u===a&&u!==""&&u!==null&&(r.value=u)}function xn(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var Ls=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sc(r,i,a){var u=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":u?r.setProperty(i,a):typeof a!="number"||a===0||Ls.has(i)?i==="float"?r.cssFloat=a:r[i]=(""+a).trim():r[i]=a+"px"}function ll(r,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in i)u=i[h],i.hasOwnProperty(h)&&a[h]!==u&&sc(r,h,u)}else for(var m in i)i.hasOwnProperty(m)&&sc(r,m,i[m])}function ul(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ad=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(r){return ad.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Fr=null;function On(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Gr=null,$r=null;function cl(r){var i=ur(r);if(i&&(r=i.stateNode)){var a=r[we]||null;t:switch(r=i.stateNode,i.type){case"input":if(vn(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Se(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var u=a[i];if(u!==r&&u.form===r.form){var h=u[we]||null;if(!h)throw Error(s(90));vn(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)u=a[i],u.form===r.form&&ol(u)}break t;case"textarea":Jt(r,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Hr(r,!!a.multiple,i,!1)}}}var hr=!1;function ac(r,i,a){if(hr)return r(i,a);hr=!0;try{var u=r(i);return u}finally{if(hr=!1,(Gr!==null||$r!==null)&&(Jc(),Gr&&(i=Gr,r=$r,$r=Gr=null,cl(i),r)))for(i=0;i<r.length;i++)cl(r[i])}}function Us(r,i){var a=r.stateNode;if(a===null)return null;var u=a[we]||null;if(u===null)return null;a=u[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break t;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dn=!1;if(Yn)try{var js={};Object.defineProperty(js,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{Dn=!1}var dr=null,Mi=null,Kr=null;function fl(){if(Kr)return Kr;var r,i=Mi,a=i.length,u,h="value"in dr?dr.value:dr.textContent,m=h.length;for(r=0;r<a&&i[r]===h[r];r++);var E=a-r;for(u=1;u<=E&&i[a-u]===h[m-u];u++);return Kr=h.slice(r,1<u?1-u:void 0)}function mr(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function pr(){return!0}function hl(){return!1}function Le(r){function i(a,u,h,m,E){this._reactName=a,this._targetInst=h,this.type=u,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var b in r)r.hasOwnProperty(b)&&(a=r[b],this[b]=a?a(m):m[b]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?pr:hl,this.isPropagationStopped=hl,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),i}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=Le(Gt),Bs=_({},Gt,{view:0,detail:0}),oc=Le(Bs),La,Ua,gr,zs=_({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==gr&&(gr&&r.type==="mousemove"?(La=r.screenX-gr.screenX,Ua=r.screenY-gr.screenY):Ua=La=0,gr=r),La)},movementY:function(r){return"movementY"in r?r.movementY:Ua}}),kn=Le(zs),lc=_({},zs,{dataTransfer:0}),od=Le(lc),qs=_({},Bs,{relatedTarget:0}),ja=Le(qs),dl=_({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ba=Le(dl),uc=_({},Gt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),za=Le(uc),ld=_({},Gt,{data:0}),ml=Le(ld),Hs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pl(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=fc[r])?!!i[r]:!1}function Fs(){return pl}var hc=_({},Bs,{key:function(r){if(r.key){var i=Hs[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=mr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?cc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fs,charCode:function(r){return r.type==="keypress"?mr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?mr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),qa=Le(hc),dc=_({},zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gl=Le(dc),Qr=_({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fs}),mc=Le(Qr),pc=_({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),gc=Le(pc),yc=_({},zs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ha=Le(yc),ln=_({},Gt,{newState:0,oldState:0}),_c=Le(ln),vc=[9,13,27,32],yr=Yn&&"CompositionEvent"in window,f=null;Yn&&"documentMode"in document&&(f=document.documentMode);var y=Yn&&"TextEvent"in window&&!f,v=Yn&&(!yr||f&&8<f&&11>=f),A=" ",H=!1;function X(r,i){switch(r){case"keyup":return vc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ut(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ut=!1;function De(r,i){switch(r){case"compositionend":return ut(i);case"keypress":return i.which!==32?null:(H=!0,A);case"textInput":return r=i.data,r===A&&H?null:r;default:return null}}function jt(r,i){if(Ut)return r==="compositionend"||!yr&&X(r,i)?(r=fl(),Kr=Mi=dr=null,Ut=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Ue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ke(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Ue[r.type]:i==="textarea"}function Yr(r,i,a,u){Gr?$r?$r.push(u):$r=[u]:Gr=u,i=af(i,"onChange"),0<i.length&&(a=new Pa("onChange","change",null,a,u),r.push({event:a,listeners:i}))}var Fe=null,_r=null;function yl(r){hE(r,0)}function Ec(r){var i=cr(r);if(ol(i))return r}function ky(r,i){if(r==="change")return i}var My=!1;if(Yn){var ud;if(Yn){var cd="oninput"in document;if(!cd){var Vy=document.createElement("div");Vy.setAttribute("oninput","return;"),cd=typeof Vy.oninput=="function"}ud=cd}else ud=!1;My=ud&&(!document.documentMode||9<document.documentMode)}function Py(){Fe&&(Fe.detachEvent("onpropertychange",Ly),_r=Fe=null)}function Ly(r){if(r.propertyName==="value"&&Ec(_r)){var i=[];Yr(i,_r,r,On(r)),ac(yl,i)}}function sA(r,i,a){r==="focusin"?(Py(),Fe=i,_r=a,Fe.attachEvent("onpropertychange",Ly)):r==="focusout"&&Py()}function aA(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ec(_r)}function oA(r,i){if(r==="click")return Ec(i)}function lA(r,i){if(r==="input"||r==="change")return Ec(i)}function uA(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var En=typeof Object.is=="function"?Object.is:uA;function _l(r,i){if(En(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),u=Object.keys(i);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var h=a[u];if(!or.call(i,h)||!En(r[h],i[h]))return!1}return!0}function Uy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function jy(r,i){var a=Uy(r);r=0;for(var u;a;){if(a.nodeType===3){if(u=r+a.textContent.length,r<=i&&u>=i)return{node:a,offset:i-r};r=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Uy(a)}}function By(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?By(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function zy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Ms(r.document);i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=Ms(r.document)}return i}function fd(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var cA=Yn&&"documentMode"in document&&11>=document.documentMode,Fa=null,hd=null,vl=null,dd=!1;function qy(r,i,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;dd||Fa==null||Fa!==Ms(u)||(u=Fa,"selectionStart"in u&&fd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),vl&&_l(vl,u)||(vl=u,u=af(hd,"onSelect"),0<u.length&&(i=new Pa("onSelect","select",null,i,a),r.push({event:i,listeners:u}),i.target=Fa)))}function Gs(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var Ga={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionrun:Gs("Transition","TransitionRun"),transitionstart:Gs("Transition","TransitionStart"),transitioncancel:Gs("Transition","TransitionCancel"),transitionend:Gs("Transition","TransitionEnd")},md={},Hy={};Yn&&(Hy=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function $s(r){if(md[r])return md[r];if(!Ga[r])return r;var i=Ga[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in Hy)return md[r]=i[a];return r}var Fy=$s("animationend"),Gy=$s("animationiteration"),$y=$s("animationstart"),fA=$s("transitionrun"),hA=$s("transitionstart"),dA=$s("transitioncancel"),Ky=$s("transitionend"),Qy=new Map,pd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pd.push("scrollEnd");function Xn(r,i){Qy.set(r,i),Qn(i,[r])}var Yy=new WeakMap;function Mn(r,i){if(typeof r=="object"&&r!==null){var a=Yy.get(r);return a!==void 0?a:(i={value:r,source:i,stack:ka(i)},Yy.set(r,i),i)}return{value:r,source:i,stack:ka(i)}}var Vn=[],$a=0,gd=0;function Tc(){for(var r=$a,i=gd=$a=0;i<r;){var a=Vn[i];Vn[i++]=null;var u=Vn[i];Vn[i++]=null;var h=Vn[i];Vn[i++]=null;var m=Vn[i];if(Vn[i++]=null,u!==null&&h!==null){var E=u.pending;E===null?h.next=h:(h.next=E.next,E.next=h),u.pending=h}m!==0&&Xy(a,h,m)}}function bc(r,i,a,u){Vn[$a++]=r,Vn[$a++]=i,Vn[$a++]=a,Vn[$a++]=u,gd|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function yd(r,i,a,u){return bc(r,i,a,u),wc(r)}function Ka(r,i){return bc(r,null,null,i),wc(r)}function Xy(r,i,a){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a);for(var h=!1,m=r.return;m!==null;)m.childLanes|=a,u=m.alternate,u!==null&&(u.childLanes|=a),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(h=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,h&&i!==null&&(h=31-Ze(a),r=m.hiddenUpdates,u=r[h],u===null?r[h]=[i]:u.push(i),i.lane=a|536870912),m):null}function wc(r){if(50<Fl)throw Fl=0,wm=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Qa={};function mA(r,i,a,u){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(r,i,a,u){return new mA(r,i,a,u)}function _d(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Xr(r,i){var a=r.alternate;return a===null?(a=Tn(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function Wy(r,i){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,i=a.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Sc(r,i,a,u,h,m){var E=0;if(u=r,typeof r=="function")_d(r)&&(E=1);else if(typeof r=="string")E=gR(r,a,mt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case I:return r=Tn(31,a,i,h),r.elementType=I,r.lanes=m,r;case M:return Ks(a.children,h,m,i);case z:E=8,h|=24;break;case k:return r=Tn(12,a,i,h|2),r.elementType=k,r.lanes=m,r;case st:return r=Tn(13,a,i,h),r.elementType=st,r.lanes=m,r;case lt:return r=Tn(19,a,i,h),r.elementType=lt,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Q:case F:E=10;break t;case q:E=9;break t;case tt:E=11;break t;case N:E=14;break t;case R:E=16,u=null;break t}E=29,a=Error(s(130,r===null?"null":typeof r,"")),u=null}return i=Tn(E,a,i,h),i.elementType=r,i.type=u,i.lanes=m,i}function Ks(r,i,a,u){return r=Tn(7,r,u,i),r.lanes=a,r}function vd(r,i,a){return r=Tn(6,r,null,i),r.lanes=a,r}function Ed(r,i,a){return i=Tn(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var Ya=[],Xa=0,Ac=null,Rc=0,Pn=[],Ln=0,Qs=null,Wr=1,Zr="";function Ys(r,i){Ya[Xa++]=Rc,Ya[Xa++]=Ac,Ac=r,Rc=i}function Zy(r,i,a){Pn[Ln++]=Wr,Pn[Ln++]=Zr,Pn[Ln++]=Qs,Qs=r;var u=Wr;r=Zr;var h=32-Ze(u)-1;u&=~(1<<h),a+=1;var m=32-Ze(i)+h;if(30<m){var E=h-h%5;m=(u&(1<<E)-1).toString(32),u>>=E,h-=E,Wr=1<<32-Ze(i)+h|a<<h|u,Zr=m+r}else Wr=1<<m|a<<h|u,Zr=r}function Td(r){r.return!==null&&(Ys(r,1),Zy(r,1,0))}function bd(r){for(;r===Ac;)Ac=Ya[--Xa],Ya[Xa]=null,Rc=Ya[--Xa],Ya[Xa]=null;for(;r===Qs;)Qs=Pn[--Ln],Pn[Ln]=null,Zr=Pn[--Ln],Pn[Ln]=null,Wr=Pn[--Ln],Pn[Ln]=null}var un=null,ge=null,Ft=!1,Xs=null,vr=!1,wd=Error(s(519));function Ws(r){var i=Error(s(418,""));throw bl(Mn(i,r)),wd}function Jy(r){var i=r.stateNode,a=r.type,u=r.memoizedProps;switch(i[Oe]=r,i[we]=u,a){case"dialog":kt("cancel",i),kt("close",i);break;case"iframe":case"object":case"embed":kt("load",i);break;case"video":case"audio":for(a=0;a<$l.length;a++)kt($l[a],i);break;case"source":kt("error",i);break;case"img":case"image":case"link":kt("error",i),kt("load",i);break;case"details":kt("toggle",i);break;case"input":kt("invalid",i),Vs(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ma(i);break;case"select":kt("invalid",i);break;case"textarea":kt("invalid",i),Ps(i,u.value,u.defaultValue,u.children),Ma(i)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||u.suppressHydrationWarning===!0||gE(i.textContent,a)?(u.popover!=null&&(kt("beforetoggle",i),kt("toggle",i)),u.onScroll!=null&&kt("scroll",i),u.onScrollEnd!=null&&kt("scrollend",i),u.onClick!=null&&(i.onclick=of),i=!0):i=!1,i||Ws(r)}function t_(r){for(un=r.return;un;)switch(un.tag){case 5:case 13:vr=!1;return;case 27:case 3:vr=!0;return;default:un=un.return}}function El(r){if(r!==un)return!1;if(!Ft)return t_(r),Ft=!0,!1;var i=r.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||jm(r.type,r.memoizedProps)),a=!a),a&&ge&&Ws(r),t_(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));t:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(a=r.data,a==="/$"){if(i===0){ge=Zn(r.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;r=r.nextSibling}ge=null}}else i===27?(i=ge,Xi(r.type)?(r=Hm,Hm=null,ge=r):ge=i):ge=un?Zn(r.stateNode.nextSibling):null;return!0}function Tl(){ge=un=null,Ft=!1}function e_(){var r=Xs;return r!==null&&(pn===null?pn=r:pn.push.apply(pn,r),Xs=null),r}function bl(r){Xs===null?Xs=[r]:Xs.push(r)}var Sd=it(null),Zs=null,Jr=null;function Vi(r,i,a){at(Sd,i._currentValue),i._currentValue=a}function ti(r){r._currentValue=Sd.current,ct(Sd)}function Ad(r,i,a){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===a)break;r=r.return}}function Rd(r,i,a,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var m=h.dependencies;if(m!==null){var E=h.child;m=m.firstContext;t:for(;m!==null;){var b=m;m=h;for(var O=0;O<i.length;O++)if(b.context===i[O]){m.lanes|=a,b=m.alternate,b!==null&&(b.lanes|=a),Ad(m.return,a,r),u||(E=null);break t}m=b.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,m=E.alternate,m!==null&&(m.lanes|=a),Ad(E,a,r),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===r){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function wl(r,i,a,u){r=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var b=h.type;En(h.pendingProps.value,E.value)||(r!==null?r.push(b):r=[b])}}else if(h===be.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(Zl):r=[Zl])}h=h.return}r!==null&&Rd(i,r,a,u),i.flags|=262144}function Cc(r){for(r=r.firstContext;r!==null;){if(!En(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Js(r){Zs=r,Jr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Je(r){return n_(Zs,r)}function Ic(r,i){return Zs===null&&Js(r),n_(r,i)}function n_(r,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Jr===null){if(r===null)throw Error(s(308));Jr=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Jr=Jr.next=i;return a}var pA=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(a,u){r.push(u)}};this.abort=function(){i.aborted=!0,r.forEach(function(a){return a()})}},gA=n.unstable_scheduleCallback,yA=n.unstable_NormalPriority,Me={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cd(){return{controller:new pA,data:new Map,refCount:0}}function Sl(r){r.refCount--,r.refCount===0&&gA(yA,function(){r.controller.abort()})}var Al=null,Id=0,Wa=0,Za=null;function _A(r,i){if(Al===null){var a=Al=[];Id=0,Wa=xm(),Za={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Id++,i.then(r_,r_),i}function r_(){if(--Id===0&&Al!==null){Za!==null&&(Za.status="fulfilled");var r=Al;Al=null,Wa=0,Za=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function vA(r,i){var a=[],u={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return r.then(function(){u.status="fulfilled",u.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(u.status="rejected",u.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),u}var i_=W.S;W.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&_A(r,i),i_!==null&&i_(r,i)};var ta=it(null);function Nd(){var r=ta.current;return r!==null?r:se.pooledCache}function Nc(r,i){i===null?at(ta,ta.current):at(ta,i.pool)}function s_(){var r=Nd();return r===null?null:{parent:Me._currentValue,pool:r}}var Rl=Error(s(460)),a_=Error(s(474)),xc=Error(s(542)),xd={then:function(){}};function o_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Oc(){}function l_(r,i,a){switch(a=r[a],a===void 0?r.push(i):a!==i&&(i.then(Oc,Oc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,c_(r),r;default:if(typeof i.status=="string")i.then(Oc,Oc);else{if(r=se,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(u){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=u}},function(u){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,c_(r),r}throw Cl=i,Rl}}var Cl=null;function u_(){if(Cl===null)throw Error(s(459));var r=Cl;return Cl=null,r}function c_(r){if(r===Rl||r===xc)throw Error(s(483))}var Pi=!1;function Od(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dd(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Li(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ui(r,i,a){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Xt&2)!==0){var h=u.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),u.pending=i,i=wc(r),Xy(r,null,a),i}return bc(r,u,i,a),wc(r)}function Il(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var u=i.lanes;u&=r.pendingLanes,a|=u,i.lanes=a,nl(r,a)}}function kd(r,i){var a=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=E:m=m.next=E,a=a.next}while(a!==null);m===null?h=m=i:m=m.next=i}else h=m=i;a={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}var Md=!1;function Nl(){if(Md){var r=Za;if(r!==null)throw r}}function xl(r,i,a,u){Md=!1;var h=r.updateQueue;Pi=!1;var m=h.firstBaseUpdate,E=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var O=b,$=O.next;O.next=null,E===null?m=$:E.next=$,E=O;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==E&&(b===null?Z.firstBaseUpdate=$:b.next=$,Z.lastBaseUpdate=O))}if(m!==null){var nt=h.baseState;E=0,Z=$=O=null,b=m;do{var K=b.lane&-536870913,Y=K!==b.lane;if(Y?(Bt&K)===K:(u&K)===K){K!==0&&K===Wa&&(Md=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var wt=r,_t=b;K=i;var ne=a;switch(_t.tag){case 1:if(wt=_t.payload,typeof wt=="function"){nt=wt.call(ne,nt,K);break t}nt=wt;break t;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=_t.payload,K=typeof wt=="function"?wt.call(ne,nt,K):wt,K==null)break t;nt=_({},nt,K);break t;case 2:Pi=!0}}K=b.callback,K!==null&&(r.flags|=64,Y&&(r.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[K]:Y.push(K))}else Y={lane:K,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?($=Z=Y,O=nt):Z=Z.next=Y,E|=K;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;Y=b,b=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);Z===null&&(O=nt),h.baseState=O,h.firstBaseUpdate=$,h.lastBaseUpdate=Z,m===null&&(h.shared.lanes=0),$i|=E,r.lanes=E,r.memoizedState=nt}}function f_(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function h_(r,i){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)f_(a[r],i)}var Ja=it(null),Dc=it(0);function d_(r,i){r=oi,at(Dc,r),at(Ja,i),oi=r|i.baseLanes}function Vd(){at(Dc,oi),at(Ja,Ja.current)}function Pd(){oi=Dc.current,ct(Ja),ct(Dc)}var ji=0,Nt=null,te=null,Ae=null,kc=!1,to=!1,ea=!1,Mc=0,Ol=0,eo=null,EA=0;function ve(){throw Error(s(321))}function Ld(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!En(r[a],i[a]))return!1;return!0}function Ud(r,i,a,u,h,m){return ji=m,Nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=r===null||r.memoizedState===null?X_:W_,ea=!1,m=a(u,h),ea=!1,to&&(m=p_(i,a,u,h)),m_(r),m}function m_(r){W.H=Bc;var i=te!==null&&te.next!==null;if(ji=0,Ae=te=Nt=null,kc=!1,Ol=0,eo=null,i)throw Error(s(300));r===null||je||(r=r.dependencies,r!==null&&Cc(r)&&(je=!0))}function p_(r,i,a,u){Nt=r;var h=0;do{if(to&&(eo=null),Ol=0,to=!1,25<=h)throw Error(s(301));if(h+=1,Ae=te=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=CA,m=i(a,u)}while(to);return m}function TA(){var r=W.H,i=r.useState()[0];return i=typeof i.then=="function"?Dl(i):i,r=r.useState()[0],(te!==null?te.memoizedState:null)!==r&&(Nt.flags|=1024),i}function jd(){var r=Mc!==0;return Mc=0,r}function Bd(r,i,a){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~a}function zd(r){if(kc){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}kc=!1}ji=0,Ae=te=Nt=null,to=!1,Ol=Mc=0,eo=null}function dn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Nt.memoizedState=Ae=r:Ae=Ae.next=r,Ae}function Re(){if(te===null){var r=Nt.alternate;r=r!==null?r.memoizedState:null}else r=te.next;var i=Ae===null?Nt.memoizedState:Ae.next;if(i!==null)Ae=i,te=r;else{if(r===null)throw Nt.alternate===null?Error(s(467)):Error(s(310));te=r,r={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Ae===null?Nt.memoizedState=Ae=r:Ae=Ae.next=r}return Ae}function qd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(r){var i=Ol;return Ol+=1,eo===null&&(eo=[]),r=l_(eo,r,i),i=Nt,(Ae===null?i.memoizedState:Ae.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?X_:W_),r}function Vc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Dl(r);if(r.$$typeof===F)return Je(r)}throw Error(s(438,String(r)))}function Hd(r){var i=null,a=Nt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var u=Nt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=qd(),Nt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(r),u=0;u<r;u++)a[u]=P;return i.index++,a}function ei(r,i){return typeof i=="function"?i(r):i}function Pc(r){var i=Re();return Fd(i,te,r)}function Fd(r,i,a){var u=r.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var h=r.baseQueue,m=u.pending;if(m!==null){if(h!==null){var E=h.next;h.next=m.next,m.next=E}i.baseQueue=h=m,u.pending=null}if(m=r.baseState,h===null)r.memoizedState=m;else{i=h.next;var b=E=null,O=null,$=i,Z=!1;do{var nt=$.lane&-536870913;if(nt!==$.lane?(Bt&nt)===nt:(ji&nt)===nt){var K=$.revertLane;if(K===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),nt===Wa&&(Z=!0);else if((ji&K)===K){$=$.next,K===Wa&&(Z=!0);continue}else nt={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},O===null?(b=O=nt,E=m):O=O.next=nt,Nt.lanes|=K,$i|=K;nt=$.action,ea&&a(m,nt),m=$.hasEagerState?$.eagerState:a(m,nt)}else K={lane:nt,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},O===null?(b=O=K,E=m):O=O.next=K,Nt.lanes|=nt,$i|=nt;$=$.next}while($!==null&&$!==i);if(O===null?E=m:O.next=b,!En(m,r.memoizedState)&&(je=!0,Z&&(a=Za,a!==null)))throw a;r.memoizedState=m,r.baseState=E,r.baseQueue=O,u.lastRenderedState=m}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Gd(r){var i=Re(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=r;var u=a.dispatch,h=a.pending,m=i.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do m=r(m,E.action),E=E.next;while(E!==h);En(m,i.memoizedState)||(je=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,u]}function g_(r,i,a){var u=Nt,h=Re(),m=Ft;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!En((te||h).memoizedState,a);E&&(h.memoizedState=a,je=!0),h=h.queue;var b=v_.bind(null,u,h,r);if(kl(2048,8,b,[r]),h.getSnapshot!==i||E||Ae!==null&&Ae.memoizedState.tag&1){if(u.flags|=2048,no(9,Lc(),__.bind(null,u,h,a,i),null),se===null)throw Error(s(349));m||(ji&124)!==0||y_(u,i,a)}return a}function y_(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=Nt.updateQueue,i===null?(i=qd(),Nt.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function __(r,i,a,u){i.value=a,i.getSnapshot=u,E_(i)&&T_(r)}function v_(r,i,a){return a(function(){E_(i)&&T_(r)})}function E_(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!En(r,a)}catch{return!0}}function T_(r){var i=Ka(r,2);i!==null&&Rn(i,r,2)}function $d(r){var i=dn();if(typeof r=="function"){var a=r;if(r=a(),ea){_n(!0);try{a()}finally{_n(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:r},i}function b_(r,i,a,u){return r.baseState=a,Fd(r,te,typeof u=="function"?u:ei)}function bA(r,i,a,u,h){if(jc(r))throw Error(s(485));if(r=i.action,r!==null){var m={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};W.T!==null?a(!0):m.isTransition=!1,u(m),a=i.pending,a===null?(m.next=i.pending=m,w_(i,m)):(m.next=a.next,i.pending=a.next=m)}}function w_(r,i){var a=i.action,u=i.payload,h=r.state;if(i.isTransition){var m=W.T,E={};W.T=E;try{var b=a(h,u),O=W.S;O!==null&&O(E,b),S_(r,i,b)}catch($){Kd(r,i,$)}finally{W.T=m}}else try{m=a(h,u),S_(r,i,m)}catch($){Kd(r,i,$)}}function S_(r,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){A_(r,i,u)},function(u){return Kd(r,i,u)}):A_(r,i,a)}function A_(r,i,a){i.status="fulfilled",i.value=a,R_(i),r.state=a,i=r.pending,i!==null&&(a=i.next,a===i?r.pending=null:(a=a.next,i.next=a,w_(r,a)))}function Kd(r,i,a){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=a,R_(i),i=i.next;while(i!==u)}r.action=null}function R_(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function C_(r,i){return i}function I_(r,i){if(Ft){var a=se.formState;if(a!==null){t:{var u=Nt;if(Ft){if(ge){e:{for(var h=ge,m=vr;h.nodeType!==8;){if(!m){h=null;break e}if(h=Zn(h.nextSibling),h===null){h=null;break e}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){ge=Zn(h.nextSibling),u=h.data==="F!";break t}}Ws(u)}u=!1}u&&(i=a[0])}}return a=dn(),a.memoizedState=a.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C_,lastRenderedState:i},a.queue=u,a=K_.bind(null,Nt,u),u.dispatch=a,u=$d(!1),m=Zd.bind(null,Nt,!1,u.queue),u=dn(),h={state:i,dispatch:null,action:r,pending:null},u.queue=h,a=bA.bind(null,Nt,h,m,a),h.dispatch=a,u.memoizedState=r,[i,a,!1]}function N_(r){var i=Re();return x_(i,te,r)}function x_(r,i,a){if(i=Fd(r,i,C_)[0],r=Pc(ei)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Dl(i)}catch(E){throw E===Rl?xc:E}else u=i;i=Re();var h=i.queue,m=h.dispatch;return a!==i.memoizedState&&(Nt.flags|=2048,no(9,Lc(),wA.bind(null,h,a),null)),[u,m,r]}function wA(r,i){r.action=i}function O_(r){var i=Re(),a=te;if(a!==null)return x_(i,a,r);Re(),i=i.memoizedState,a=Re();var u=a.queue.dispatch;return a.memoizedState=r,[i,u,!1]}function no(r,i,a,u){return r={tag:r,create:a,deps:u,inst:i,next:null},i=Nt.updateQueue,i===null&&(i=qd(),Nt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=r.next=r:(u=a.next,a.next=r,r.next=u,i.lastEffect=r),r}function Lc(){return{destroy:void 0,resource:void 0}}function D_(){return Re().memoizedState}function Uc(r,i,a,u){var h=dn();u=u===void 0?null:u,Nt.flags|=r,h.memoizedState=no(1|i,Lc(),a,u)}function kl(r,i,a,u){var h=Re();u=u===void 0?null:u;var m=h.memoizedState.inst;te!==null&&u!==null&&Ld(u,te.memoizedState.deps)?h.memoizedState=no(i,m,a,u):(Nt.flags|=r,h.memoizedState=no(1|i,m,a,u))}function k_(r,i){Uc(8390656,8,r,i)}function M_(r,i){kl(2048,8,r,i)}function V_(r,i){return kl(4,2,r,i)}function P_(r,i){return kl(4,4,r,i)}function L_(r,i){if(typeof i=="function"){r=r();var a=i(r);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function U_(r,i,a){a=a!=null?a.concat([r]):null,kl(4,4,L_.bind(null,i,r),a)}function Qd(){}function j_(r,i){var a=Re();i=i===void 0?null:i;var u=a.memoizedState;return i!==null&&Ld(i,u[1])?u[0]:(a.memoizedState=[r,i],r)}function B_(r,i){var a=Re();i=i===void 0?null:i;var u=a.memoizedState;if(i!==null&&Ld(i,u[1]))return u[0];if(u=r(),ea){_n(!0);try{r()}finally{_n(!1)}}return a.memoizedState=[u,i],u}function Yd(r,i,a){return a===void 0||(ji&1073741824)!==0?r.memoizedState=i:(r.memoizedState=a,r=Hv(),Nt.lanes|=r,$i|=r,a)}function z_(r,i,a,u){return En(a,i)?a:Ja.current!==null?(r=Yd(r,a,u),En(r,i)||(je=!0),r):(ji&42)===0?(je=!0,r.memoizedState=a):(r=Hv(),Nt.lanes|=r,$i|=r,i)}function q_(r,i,a,u,h){var m=ot.p;ot.p=m!==0&&8>m?m:8;var E=W.T,b={};W.T=b,Zd(r,!1,i,a);try{var O=h(),$=W.S;if($!==null&&$(b,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Z=vA(O,u);Ml(r,i,Z,An(r))}else Ml(r,i,u,An(r))}catch(nt){Ml(r,i,{then:function(){},status:"rejected",reason:nt},An())}finally{ot.p=m,W.T=E}}function SA(){}function Xd(r,i,a,u){if(r.tag!==5)throw Error(s(476));var h=H_(r).queue;q_(r,h,i,ft,a===null?SA:function(){return F_(r),a(u)})}function H_(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:ft},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:a},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function F_(r){var i=H_(r).next.queue;Ml(r,i,{},An())}function Wd(){return Je(Zl)}function G_(){return Re().memoizedState}function $_(){return Re().memoizedState}function AA(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();r=Li(a);var u=Ui(i,r,a);u!==null&&(Rn(u,i,a),Il(u,i,a)),i={cache:Cd()},r.payload=i;return}i=i.return}}function RA(r,i,a){var u=An();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},jc(r)?Q_(i,a):(a=yd(r,i,a,u),a!==null&&(Rn(a,r,u),Y_(a,i,u)))}function K_(r,i,a){var u=An();Ml(r,i,a,u)}function Ml(r,i,a,u){var h={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(jc(r))Q_(i,h);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var E=i.lastRenderedState,b=m(E,a);if(h.hasEagerState=!0,h.eagerState=b,En(b,E))return bc(r,i,h,0),se===null&&Tc(),!1}catch{}finally{}if(a=yd(r,i,h,u),a!==null)return Rn(a,r,u),Y_(a,i,u),!0}return!1}function Zd(r,i,a,u){if(u={lane:2,revertLane:xm(),action:u,hasEagerState:!1,eagerState:null,next:null},jc(r)){if(i)throw Error(s(479))}else i=yd(r,a,u,2),i!==null&&Rn(i,r,2)}function jc(r){var i=r.alternate;return r===Nt||i!==null&&i===Nt}function Q_(r,i){to=kc=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function Y_(r,i,a){if((a&4194048)!==0){var u=i.lanes;u&=r.pendingLanes,a|=u,i.lanes=a,nl(r,a)}}var Bc={readContext:Je,use:Vc,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve},X_={readContext:Je,use:Vc,useCallback:function(r,i){return dn().memoizedState=[r,i===void 0?null:i],r},useContext:Je,useEffect:k_,useImperativeHandle:function(r,i,a){a=a!=null?a.concat([r]):null,Uc(4194308,4,L_.bind(null,i,r),a)},useLayoutEffect:function(r,i){return Uc(4194308,4,r,i)},useInsertionEffect:function(r,i){Uc(4,2,r,i)},useMemo:function(r,i){var a=dn();i=i===void 0?null:i;var u=r();if(ea){_n(!0);try{r()}finally{_n(!1)}}return a.memoizedState=[u,i],u},useReducer:function(r,i,a){var u=dn();if(a!==void 0){var h=a(i);if(ea){_n(!0);try{a(i)}finally{_n(!1)}}}else h=i;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=RA.bind(null,Nt,r),[u.memoizedState,r]},useRef:function(r){var i=dn();return r={current:r},i.memoizedState=r},useState:function(r){r=$d(r);var i=r.queue,a=K_.bind(null,Nt,i);return i.dispatch=a,[r.memoizedState,a]},useDebugValue:Qd,useDeferredValue:function(r,i){var a=dn();return Yd(a,r,i)},useTransition:function(){var r=$d(!1);return r=q_.bind(null,Nt,r.queue,!0,!1),dn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,a){var u=Nt,h=dn();if(Ft){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),se===null)throw Error(s(349));(Bt&124)!==0||y_(u,i,a)}h.memoizedState=a;var m={value:a,getSnapshot:i};return h.queue=m,k_(v_.bind(null,u,m,r),[r]),u.flags|=2048,no(9,Lc(),__.bind(null,u,m,a,i),null),a},useId:function(){var r=dn(),i=se.identifierPrefix;if(Ft){var a=Zr,u=Wr;a=(u&~(1<<32-Ze(u)-1)).toString(32)+a,i="«"+i+"R"+a,a=Mc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=EA++,i="«"+i+"r"+a.toString(32)+"»";return r.memoizedState=i},useHostTransitionStatus:Wd,useFormState:I_,useActionState:I_,useOptimistic:function(r){var i=dn();i.memoizedState=i.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Zd.bind(null,Nt,!0,a),a.dispatch=i,[r,i]},useMemoCache:Hd,useCacheRefresh:function(){return dn().memoizedState=AA.bind(null,Nt)}},W_={readContext:Je,use:Vc,useCallback:j_,useContext:Je,useEffect:M_,useImperativeHandle:U_,useInsertionEffect:V_,useLayoutEffect:P_,useMemo:B_,useReducer:Pc,useRef:D_,useState:function(){return Pc(ei)},useDebugValue:Qd,useDeferredValue:function(r,i){var a=Re();return z_(a,te.memoizedState,r,i)},useTransition:function(){var r=Pc(ei)[0],i=Re().memoizedState;return[typeof r=="boolean"?r:Dl(r),i]},useSyncExternalStore:g_,useId:G_,useHostTransitionStatus:Wd,useFormState:N_,useActionState:N_,useOptimistic:function(r,i){var a=Re();return b_(a,te,r,i)},useMemoCache:Hd,useCacheRefresh:$_},CA={readContext:Je,use:Vc,useCallback:j_,useContext:Je,useEffect:M_,useImperativeHandle:U_,useInsertionEffect:V_,useLayoutEffect:P_,useMemo:B_,useReducer:Gd,useRef:D_,useState:function(){return Gd(ei)},useDebugValue:Qd,useDeferredValue:function(r,i){var a=Re();return te===null?Yd(a,r,i):z_(a,te.memoizedState,r,i)},useTransition:function(){var r=Gd(ei)[0],i=Re().memoizedState;return[typeof r=="boolean"?r:Dl(r),i]},useSyncExternalStore:g_,useId:G_,useHostTransitionStatus:Wd,useFormState:O_,useActionState:O_,useOptimistic:function(r,i){var a=Re();return te!==null?b_(a,te,r,i):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:Hd,useCacheRefresh:$_},ro=null,Vl=0;function zc(r){var i=Vl;return Vl+=1,ro===null&&(ro=[]),l_(ro,r,i)}function Pl(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function qc(r,i){throw i.$$typeof===T?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function Z_(r){var i=r._init;return i(r._payload)}function J_(r){function i(B,U){if(r){var G=B.deletions;G===null?(B.deletions=[U],B.flags|=16):G.push(U)}}function a(B,U){if(!r)return null;for(;U!==null;)i(B,U),U=U.sibling;return null}function u(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function h(B,U){return B=Xr(B,U),B.index=0,B.sibling=null,B}function m(B,U,G){return B.index=G,r?(G=B.alternate,G!==null?(G=G.index,G<U?(B.flags|=67108866,U):G):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function E(B){return r&&B.alternate===null&&(B.flags|=67108866),B}function b(B,U,G,J){return U===null||U.tag!==6?(U=vd(G,B.mode,J),U.return=B,U):(U=h(U,G),U.return=B,U)}function O(B,U,G,J){var pt=G.type;return pt===M?Z(B,U,G.props.children,J,G.key):U!==null&&(U.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===R&&Z_(pt)===U.type)?(U=h(U,G.props),Pl(U,G),U.return=B,U):(U=Sc(G.type,G.key,G.props,null,B.mode,J),Pl(U,G),U.return=B,U)}function $(B,U,G,J){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Ed(G,B.mode,J),U.return=B,U):(U=h(U,G.children||[]),U.return=B,U)}function Z(B,U,G,J,pt){return U===null||U.tag!==7?(U=Ks(G,B.mode,J,pt),U.return=B,U):(U=h(U,G),U.return=B,U)}function nt(B,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=vd(""+U,B.mode,G),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return G=Sc(U.type,U.key,U.props,null,B.mode,G),Pl(G,U),G.return=B,G;case C:return U=Ed(U,B.mode,G),U.return=B,U;case R:var J=U._init;return U=J(U._payload),nt(B,U,G)}if(Qt(U)||j(U))return U=Ks(U,B.mode,G,null),U.return=B,U;if(typeof U.then=="function")return nt(B,zc(U),G);if(U.$$typeof===F)return nt(B,Ic(B,U),G);qc(B,U)}return null}function K(B,U,G,J){var pt=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return pt!==null?null:b(B,U,""+G,J);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return G.key===pt?O(B,U,G,J):null;case C:return G.key===pt?$(B,U,G,J):null;case R:return pt=G._init,G=pt(G._payload),K(B,U,G,J)}if(Qt(G)||j(G))return pt!==null?null:Z(B,U,G,J,null);if(typeof G.then=="function")return K(B,U,zc(G),J);if(G.$$typeof===F)return K(B,U,Ic(B,G),J);qc(B,G)}return null}function Y(B,U,G,J,pt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return B=B.get(G)||null,b(U,B,""+J,pt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return B=B.get(J.key===null?G:J.key)||null,O(U,B,J,pt);case C:return B=B.get(J.key===null?G:J.key)||null,$(U,B,J,pt);case R:var Ot=J._init;return J=Ot(J._payload),Y(B,U,G,J,pt)}if(Qt(J)||j(J))return B=B.get(G)||null,Z(U,B,J,pt,null);if(typeof J.then=="function")return Y(B,U,G,zc(J),pt);if(J.$$typeof===F)return Y(B,U,G,Ic(U,J),pt);qc(U,J)}return null}function wt(B,U,G,J){for(var pt=null,Ot=null,gt=U,vt=U=0,ze=null;gt!==null&&vt<G.length;vt++){gt.index>vt?(ze=gt,gt=null):ze=gt.sibling;var Ht=K(B,gt,G[vt],J);if(Ht===null){gt===null&&(gt=ze);break}r&&gt&&Ht.alternate===null&&i(B,gt),U=m(Ht,U,vt),Ot===null?pt=Ht:Ot.sibling=Ht,Ot=Ht,gt=ze}if(vt===G.length)return a(B,gt),Ft&&Ys(B,vt),pt;if(gt===null){for(;vt<G.length;vt++)gt=nt(B,G[vt],J),gt!==null&&(U=m(gt,U,vt),Ot===null?pt=gt:Ot.sibling=gt,Ot=gt);return Ft&&Ys(B,vt),pt}for(gt=u(gt);vt<G.length;vt++)ze=Y(gt,B,vt,G[vt],J),ze!==null&&(r&&ze.alternate!==null&&gt.delete(ze.key===null?vt:ze.key),U=m(ze,U,vt),Ot===null?pt=ze:Ot.sibling=ze,Ot=ze);return r&&gt.forEach(function(es){return i(B,es)}),Ft&&Ys(B,vt),pt}function _t(B,U,G,J){if(G==null)throw Error(s(151));for(var pt=null,Ot=null,gt=U,vt=U=0,ze=null,Ht=G.next();gt!==null&&!Ht.done;vt++,Ht=G.next()){gt.index>vt?(ze=gt,gt=null):ze=gt.sibling;var es=K(B,gt,Ht.value,J);if(es===null){gt===null&&(gt=ze);break}r&&gt&&es.alternate===null&&i(B,gt),U=m(es,U,vt),Ot===null?pt=es:Ot.sibling=es,Ot=es,gt=ze}if(Ht.done)return a(B,gt),Ft&&Ys(B,vt),pt;if(gt===null){for(;!Ht.done;vt++,Ht=G.next())Ht=nt(B,Ht.value,J),Ht!==null&&(U=m(Ht,U,vt),Ot===null?pt=Ht:Ot.sibling=Ht,Ot=Ht);return Ft&&Ys(B,vt),pt}for(gt=u(gt);!Ht.done;vt++,Ht=G.next())Ht=Y(gt,B,vt,Ht.value,J),Ht!==null&&(r&&Ht.alternate!==null&&gt.delete(Ht.key===null?vt:Ht.key),U=m(Ht,U,vt),Ot===null?pt=Ht:Ot.sibling=Ht,Ot=Ht);return r&&gt.forEach(function(IR){return i(B,IR)}),Ft&&Ys(B,vt),pt}function ne(B,U,G,J){if(typeof G=="object"&&G!==null&&G.type===M&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case w:t:{for(var pt=G.key;U!==null;){if(U.key===pt){if(pt=G.type,pt===M){if(U.tag===7){a(B,U.sibling),J=h(U,G.props.children),J.return=B,B=J;break t}}else if(U.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===R&&Z_(pt)===U.type){a(B,U.sibling),J=h(U,G.props),Pl(J,G),J.return=B,B=J;break t}a(B,U);break}else i(B,U);U=U.sibling}G.type===M?(J=Ks(G.props.children,B.mode,J,G.key),J.return=B,B=J):(J=Sc(G.type,G.key,G.props,null,B.mode,J),Pl(J,G),J.return=B,B=J)}return E(B);case C:t:{for(pt=G.key;U!==null;){if(U.key===pt)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){a(B,U.sibling),J=h(U,G.children||[]),J.return=B,B=J;break t}else{a(B,U);break}else i(B,U);U=U.sibling}J=Ed(G,B.mode,J),J.return=B,B=J}return E(B);case R:return pt=G._init,G=pt(G._payload),ne(B,U,G,J)}if(Qt(G))return wt(B,U,G,J);if(j(G)){if(pt=j(G),typeof pt!="function")throw Error(s(150));return G=pt.call(G),_t(B,U,G,J)}if(typeof G.then=="function")return ne(B,U,zc(G),J);if(G.$$typeof===F)return ne(B,U,Ic(B,G),J);qc(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(a(B,U.sibling),J=h(U,G),J.return=B,B=J):(a(B,U),J=vd(G,B.mode,J),J.return=B,B=J),E(B)):a(B,U)}return function(B,U,G,J){try{Vl=0;var pt=ne(B,U,G,J);return ro=null,pt}catch(gt){if(gt===Rl||gt===xc)throw gt;var Ot=Tn(29,gt,null,B.mode);return Ot.lanes=J,Ot.return=B,Ot}finally{}}}var io=J_(!0),tv=J_(!1),Un=it(null),Er=null;function Bi(r){var i=r.alternate;at(Ve,Ve.current&1),at(Un,r),Er===null&&(i===null||Ja.current!==null||i.memoizedState!==null)&&(Er=r)}function ev(r){if(r.tag===22){if(at(Ve,Ve.current),at(Un,r),Er===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(Er=r)}}else zi()}function zi(){at(Ve,Ve.current),at(Un,Un.current)}function ni(r){ct(Un),Er===r&&(Er=null),ct(Ve)}var Ve=it(0);function Hc(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||qm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Jd(r,i,a,u){i=r.memoizedState,a=a(u,i),a=a==null?i:_({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var tm={enqueueSetState:function(r,i,a){r=r._reactInternals;var u=An(),h=Li(u);h.payload=i,a!=null&&(h.callback=a),i=Ui(r,h,u),i!==null&&(Rn(i,r,u),Il(i,r,u))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var u=An(),h=Li(u);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ui(r,h,u),i!==null&&(Rn(i,r,u),Il(i,r,u))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=An(),u=Li(a);u.tag=2,i!=null&&(u.callback=i),i=Ui(r,u,a),i!==null&&(Rn(i,r,a),Il(i,r,a))}};function nv(r,i,a,u,h,m,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,m,E):i.prototype&&i.prototype.isPureReactComponent?!_l(a,u)||!_l(h,m):!0}function rv(r,i,a,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,u),i.state!==r&&tm.enqueueReplaceState(i,i.state,null)}function na(r,i){var a=i;if("ref"in i){a={};for(var u in i)u!=="ref"&&(a[u]=i[u])}if(r=r.defaultProps){a===i&&(a=_({},a));for(var h in r)a[h]===void 0&&(a[h]=r[h])}return a}var Fc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function iv(r){Fc(r)}function sv(r){console.error(r)}function av(r){Fc(r)}function Gc(r,i){try{var a=r.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function ov(r,i,a){try{var u=r.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function em(r,i,a){return a=Li(a),a.tag=3,a.payload={element:null},a.callback=function(){Gc(r,i)},a}function lv(r){return r=Li(r),r.tag=3,r}function uv(r,i,a,u){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=u.value;r.payload=function(){return h(m)},r.callback=function(){ov(i,a,u)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){ov(i,a,u),typeof h!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function IA(r,i,a,u,h){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=a.alternate,i!==null&&wl(i,a,h,!0),a=Un.current,a!==null){switch(a.tag){case 13:return Er===null?Am():a.alternate===null&&ye===0&&(ye=3),a.flags&=-257,a.flags|=65536,a.lanes=h,u===xd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([u]):i.add(u),Cm(r,u,h)),!1;case 22:return a.flags|=65536,u===xd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([u]):a.add(u)),Cm(r,u,h)),!1}throw Error(s(435,a.tag))}return Cm(r,u,h),Am(),!1}if(Ft)return i=Un.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,u!==wd&&(r=Error(s(422),{cause:u}),bl(Mn(r,a)))):(u!==wd&&(i=Error(s(423),{cause:u}),bl(Mn(i,a))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=Mn(u,a),h=em(r.stateNode,u,h),kd(r,h),ye!==4&&(ye=2)),!1;var m=Error(s(520),{cause:u});if(m=Mn(m,a),Hl===null?Hl=[m]:Hl.push(m),ye!==4&&(ye=2),i===null)return!0;u=Mn(u,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,r=h&-h,a.lanes|=r,r=em(a.stateNode,u,r),kd(a,r),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ki===null||!Ki.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=lv(h),uv(h,r,a,u),kd(a,h),!1}a=a.return}while(a!==null);return!1}var cv=Error(s(461)),je=!1;function Ge(r,i,a,u){i.child=r===null?tv(i,null,a,u):io(i,r.child,a,u)}function fv(r,i,a,u,h){a=a.render;var m=i.ref;if("ref"in u){var E={};for(var b in u)b!=="ref"&&(E[b]=u[b])}else E=u;return Js(i),u=Ud(r,i,a,E,m,h),b=jd(),r!==null&&!je?(Bd(r,i,h),ri(r,i,h)):(Ft&&b&&Td(i),i.flags|=1,Ge(r,i,u,h),i.child)}function hv(r,i,a,u,h){if(r===null){var m=a.type;return typeof m=="function"&&!_d(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,dv(r,i,m,u,h)):(r=Sc(a.type,null,u,i,i.mode,h),r.ref=i.ref,r.return=i,i.child=r)}if(m=r.child,!um(r,h)){var E=m.memoizedProps;if(a=a.compare,a=a!==null?a:_l,a(E,u)&&r.ref===i.ref)return ri(r,i,h)}return i.flags|=1,r=Xr(m,u),r.ref=i.ref,r.return=i,i.child=r}function dv(r,i,a,u,h){if(r!==null){var m=r.memoizedProps;if(_l(m,u)&&r.ref===i.ref)if(je=!1,i.pendingProps=u=m,um(r,h))(r.flags&131072)!==0&&(je=!0);else return i.lanes=r.lanes,ri(r,i,h)}return nm(r,i,a,u,h)}function mv(r,i,a){var u=i.pendingProps,h=u.children,m=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=m!==null?m.baseLanes|a:a,r!==null){for(h=i.child=r.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;i.childLanes=m&~u}else i.childLanes=0,i.child=null;return pv(r,i,u,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Nc(i,m!==null?m.cachePool:null),m!==null?d_(i,m):Vd(),ev(i);else return i.lanes=i.childLanes=536870912,pv(r,i,m!==null?m.baseLanes|a:a,a)}else m!==null?(Nc(i,m.cachePool),d_(i,m),zi(),i.memoizedState=null):(r!==null&&Nc(i,null),Vd(),zi());return Ge(r,i,h,a),i.child}function pv(r,i,a,u){var h=Nd();return h=h===null?null:{parent:Me._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},r!==null&&Nc(i,null),Vd(),ev(i),r!==null&&wl(r,i,u,!0),null}function $c(r,i){var a=i.ref;if(a===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(r===null||r.ref!==a)&&(i.flags|=4194816)}}function nm(r,i,a,u,h){return Js(i),a=Ud(r,i,a,u,void 0,h),u=jd(),r!==null&&!je?(Bd(r,i,h),ri(r,i,h)):(Ft&&u&&Td(i),i.flags|=1,Ge(r,i,a,h),i.child)}function gv(r,i,a,u,h,m){return Js(i),i.updateQueue=null,a=p_(i,u,a,h),m_(r),u=jd(),r!==null&&!je?(Bd(r,i,m),ri(r,i,m)):(Ft&&u&&Td(i),i.flags|=1,Ge(r,i,a,m),i.child)}function yv(r,i,a,u,h){if(Js(i),i.stateNode===null){var m=Qa,E=a.contextType;typeof E=="object"&&E!==null&&(m=Je(E)),m=new a(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=tm,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},Od(i),E=a.contextType,m.context=typeof E=="object"&&E!==null?Je(E):Qa,m.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Jd(i,a,E,u),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&tm.enqueueReplaceState(m,m.state,null),xl(i,u,m,h),Nl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(r===null){m=i.stateNode;var b=i.memoizedProps,O=na(a,b);m.props=O;var $=m.context,Z=a.contextType;E=Qa,typeof Z=="object"&&Z!==null&&(E=Je(Z));var nt=a.getDerivedStateFromProps;Z=typeof nt=="function"||typeof m.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b||$!==E)&&rv(i,m,u,E),Pi=!1;var K=i.memoizedState;m.state=K,xl(i,u,m,h),Nl(),$=i.memoizedState,b||K!==$||Pi?(typeof nt=="function"&&(Jd(i,a,nt,u),$=i.memoizedState),(O=Pi||nv(i,a,O,u,K,$,E))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=$),m.props=u,m.state=$,m.context=E,u=O):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,Dd(r,i),E=i.memoizedProps,Z=na(a,E),m.props=Z,nt=i.pendingProps,K=m.context,$=a.contextType,O=Qa,typeof $=="object"&&$!==null&&(O=Je($)),b=a.getDerivedStateFromProps,($=typeof b=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==nt||K!==O)&&rv(i,m,u,O),Pi=!1,K=i.memoizedState,m.state=K,xl(i,u,m,h),Nl();var Y=i.memoizedState;E!==nt||K!==Y||Pi||r!==null&&r.dependencies!==null&&Cc(r.dependencies)?(typeof b=="function"&&(Jd(i,a,b,u),Y=i.memoizedState),(Z=Pi||nv(i,a,Z,u,K,Y,O)||r!==null&&r.dependencies!==null&&Cc(r.dependencies))?($||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,Y,O),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,Y,O)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=Y),m.props=u,m.state=Y,m.context=O,u=Z):(typeof m.componentDidUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(i.flags|=1024),u=!1)}return m=u,$c(r,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,r!==null&&u?(i.child=io(i,r.child,null,h),i.child=io(i,null,a,h)):Ge(r,i,a,h),i.memoizedState=m.state,r=i.child):r=ri(r,i,h),r}function _v(r,i,a,u){return Tl(),i.flags|=256,Ge(r,i,a,u),i.child}var rm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function im(r){return{baseLanes:r,cachePool:s_()}}function sm(r,i,a){return r=r!==null?r.childLanes&~a:0,i&&(r|=jn),r}function vv(r,i,a){var u=i.pendingProps,h=!1,m=(i.flags&128)!==0,E;if((E=m)||(E=r!==null&&r.memoizedState===null?!1:(Ve.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,r===null){if(Ft){if(h?Bi(i):zi(),Ft){var b=ge,O;if(O=b){t:{for(O=b,b=vr;O.nodeType!==8;){if(!b){b=null;break t}if(O=Zn(O.nextSibling),O===null){b=null;break t}}b=O}b!==null?(i.memoizedState={dehydrated:b,treeContext:Qs!==null?{id:Wr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},O=Tn(18,null,null,0),O.stateNode=b,O.return=i,i.child=O,un=i,ge=null,O=!0):O=!1}O||Ws(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return qm(b)?i.lanes=32:i.lanes=536870912,null;ni(i)}return b=u.children,u=u.fallback,h?(zi(),h=i.mode,b=Kc({mode:"hidden",children:b},h),u=Ks(u,h,a,null),b.return=i,u.return=i,b.sibling=u,i.child=b,h=i.child,h.memoizedState=im(a),h.childLanes=sm(r,E,a),i.memoizedState=rm,u):(Bi(i),am(i,b))}if(O=r.memoizedState,O!==null&&(b=O.dehydrated,b!==null)){if(m)i.flags&256?(Bi(i),i.flags&=-257,i=om(r,i,a)):i.memoizedState!==null?(zi(),i.child=r.child,i.flags|=128,i=null):(zi(),h=u.fallback,b=i.mode,u=Kc({mode:"visible",children:u.children},b),h=Ks(h,b,a,null),h.flags|=2,u.return=i,h.return=i,u.sibling=h,i.child=u,io(i,r.child,null,a),u=i.child,u.memoizedState=im(a),u.childLanes=sm(r,E,a),i.memoizedState=rm,i=h);else if(Bi(i),qm(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var $=E.dgst;E=$,u=Error(s(419)),u.stack="",u.digest=E,bl({value:u,source:null,stack:null}),i=om(r,i,a)}else if(je||wl(r,i,a,!1),E=(a&r.childLanes)!==0,je||E){if(E=se,E!==null&&(u=a&-a,u=(u&42)!==0?1:Ii(u),u=(u&(E.suspendedLanes|a))!==0?0:u,u!==0&&u!==O.retryLane))throw O.retryLane=u,Ka(r,u),Rn(E,r,u),cv;b.data==="$?"||Am(),i=om(r,i,a)}else b.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=O.treeContext,ge=Zn(b.nextSibling),un=i,Ft=!0,Xs=null,vr=!1,r!==null&&(Pn[Ln++]=Wr,Pn[Ln++]=Zr,Pn[Ln++]=Qs,Wr=r.id,Zr=r.overflow,Qs=i),i=am(i,u.children),i.flags|=4096);return i}return h?(zi(),h=u.fallback,b=i.mode,O=r.child,$=O.sibling,u=Xr(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,$!==null?h=Xr($,h):(h=Ks(h,b,a,null),h.flags|=2),h.return=i,u.return=i,u.sibling=h,i.child=u,u=h,h=i.child,b=r.child.memoizedState,b===null?b=im(a):(O=b.cachePool,O!==null?($=Me._currentValue,O=O.parent!==$?{parent:$,pool:$}:O):O=s_(),b={baseLanes:b.baseLanes|a,cachePool:O}),h.memoizedState=b,h.childLanes=sm(r,E,a),i.memoizedState=rm,u):(Bi(i),a=r.child,r=a.sibling,a=Xr(a,{mode:"visible",children:u.children}),a.return=i,a.sibling=null,r!==null&&(E=i.deletions,E===null?(i.deletions=[r],i.flags|=16):E.push(r)),i.child=a,i.memoizedState=null,a)}function am(r,i){return i=Kc({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Kc(r,i){return r=Tn(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function om(r,i,a){return io(i,r.child,null,a),r=am(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Ev(r,i,a){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),Ad(r.return,i,a)}function lm(r,i,a,u,h){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:h}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=a,m.tailMode=h)}function Tv(r,i,a){var u=i.pendingProps,h=u.revealOrder,m=u.tail;if(Ge(r,i,u.children,a),u=Ve.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ev(r,a,i);else if(r.tag===19)Ev(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(at(Ve,u),h){case"forwards":for(a=i.child,h=null;a!==null;)r=a.alternate,r!==null&&Hc(r)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),lm(i,!1,h,a,m);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(r=h.alternate,r!==null&&Hc(r)===null){i.child=h;break}r=h.sibling,h.sibling=a,a=h,h=r}lm(i,!0,a,null,m);break;case"together":lm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ri(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),$i|=i.lanes,(a&i.childLanes)===0)if(r!==null){if(wl(r,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,a=Xr(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=Xr(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function um(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Cc(r)))}function NA(r,i,a){switch(i.tag){case 3:Zt(i,i.stateNode.containerInfo),Vi(i,Me,r.memoizedState.cache),Tl();break;case 27:case 5:Cn(i);break;case 4:Zt(i,i.stateNode.containerInfo);break;case 10:Vi(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Bi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?vv(r,i,a):(Bi(i),r=ri(r,i,a),r!==null?r.sibling:null);Bi(i);break;case 19:var h=(r.flags&128)!==0;if(u=(a&i.childLanes)!==0,u||(wl(r,i,a,!1),u=(a&i.childLanes)!==0),h){if(u)return Tv(r,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),at(Ve,Ve.current),u)break;return null;case 22:case 23:return i.lanes=0,mv(r,i,a);case 24:Vi(i,Me,r.memoizedState.cache)}return ri(r,i,a)}function bv(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps)je=!0;else{if(!um(r,a)&&(i.flags&128)===0)return je=!1,NA(r,i,a);je=(r.flags&131072)!==0}else je=!1,Ft&&(i.flags&1048576)!==0&&Zy(i,Rc,i.index);switch(i.lanes=0,i.tag){case 16:t:{r=i.pendingProps;var u=i.elementType,h=u._init;if(u=h(u._payload),i.type=u,typeof u=="function")_d(u)?(r=na(u,r),i.tag=1,i=yv(null,i,u,r,a)):(i.tag=0,i=nm(null,i,u,r,a));else{if(u!=null){if(h=u.$$typeof,h===tt){i.tag=11,i=fv(null,i,u,r,a);break t}else if(h===N){i.tag=14,i=hv(null,i,u,r,a);break t}}throw i=ue(u)||u,Error(s(306,i,""))}}return i;case 0:return nm(r,i,i.type,i.pendingProps,a);case 1:return u=i.type,h=na(u,i.pendingProps),yv(r,i,u,h,a);case 3:t:{if(Zt(i,i.stateNode.containerInfo),r===null)throw Error(s(387));u=i.pendingProps;var m=i.memoizedState;h=m.element,Dd(r,i),xl(i,u,null,a);var E=i.memoizedState;if(u=E.cache,Vi(i,Me,u),u!==m.cache&&Rd(i,[Me],a,!0),Nl(),u=E.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=_v(r,i,u,a);break t}else if(u!==h){h=Mn(Error(s(424)),i),bl(h),i=_v(r,i,u,a);break t}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ge=Zn(r.firstChild),un=i,Ft=!0,Xs=null,vr=!0,a=tv(i,null,u,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Tl(),u===h){i=ri(r,i,a);break t}Ge(r,i,u,a)}i=i.child}return i;case 26:return $c(r,i),r===null?(a=RE(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ft||(a=i.type,r=i.pendingProps,u=lf(bt.current).createElement(a),u[Oe]=i,u[we]=r,Ke(u,a,r),_e(u),i.stateNode=u):i.memoizedState=RE(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Cn(i),r===null&&Ft&&(u=i.stateNode=wE(i.type,i.pendingProps,bt.current),un=i,vr=!0,h=ge,Xi(i.type)?(Hm=h,ge=Zn(u.firstChild)):ge=h),Ge(r,i,i.pendingProps.children,a),$c(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Ft&&((h=u=ge)&&(u=rR(u,i.type,i.pendingProps,vr),u!==null?(i.stateNode=u,un=i,ge=Zn(u.firstChild),vr=!1,h=!0):h=!1),h||Ws(i)),Cn(i),h=i.type,m=i.pendingProps,E=r!==null?r.memoizedProps:null,u=m.children,jm(h,m)?u=null:E!==null&&jm(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=Ud(r,i,TA,null,null,a),Zl._currentValue=h),$c(r,i),Ge(r,i,u,a),i.child;case 6:return r===null&&Ft&&((r=a=ge)&&(a=iR(a,i.pendingProps,vr),a!==null?(i.stateNode=a,un=i,ge=null,r=!0):r=!1),r||Ws(i)),null;case 13:return vv(r,i,a);case 4:return Zt(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=io(i,null,u,a):Ge(r,i,u,a),i.child;case 11:return fv(r,i,i.type,i.pendingProps,a);case 7:return Ge(r,i,i.pendingProps,a),i.child;case 8:return Ge(r,i,i.pendingProps.children,a),i.child;case 12:return Ge(r,i,i.pendingProps.children,a),i.child;case 10:return u=i.pendingProps,Vi(i,i.type,u.value),Ge(r,i,u.children,a),i.child;case 9:return h=i.type._context,u=i.pendingProps.children,Js(i),h=Je(h),u=u(h),i.flags|=1,Ge(r,i,u,a),i.child;case 14:return hv(r,i,i.type,i.pendingProps,a);case 15:return dv(r,i,i.type,i.pendingProps,a);case 19:return Tv(r,i,a);case 31:return u=i.pendingProps,a=i.mode,u={mode:u.mode,children:u.children},r===null?(a=Kc(u,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Xr(r.child,u),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return mv(r,i,a);case 24:return Js(i),u=Je(Me),r===null?(h=Nd(),h===null&&(h=se,m=Cd(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),i.memoizedState={parent:u,cache:h},Od(i),Vi(i,Me,h)):((r.lanes&a)!==0&&(Dd(r,i),xl(i,null,null,a),Nl()),h=r.memoizedState,m=i.memoizedState,h.parent!==u?(h={parent:u,cache:u},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Vi(i,Me,u)):(u=m.cache,Vi(i,Me,u),u!==h.cache&&Rd(i,[Me],a,!0))),Ge(r,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ii(r){r.flags|=4}function wv(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!OE(i)){if(i=Un.current,i!==null&&((Bt&4194048)===Bt?Er!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||i!==Er))throw Cl=xd,a_;r.flags|=8192}}function Qc(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?tl():536870912,r.lanes|=i,lo|=i)}function Ll(r,i){if(!Ft)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function de(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,u=0;if(i)for(var h=r.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=a,i}function xA(r,i,a){var u=i.pendingProps;switch(bd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(i),null;case 1:return de(i),null;case 3:return a=i.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),ti(Me),hn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(El(i)?ii(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,e_())),de(i),null;case 26:return a=i.memoizedState,r===null?(ii(i),a!==null?(de(i),wv(i,a)):(de(i),i.flags&=-16777217)):a?a!==r.memoizedState?(ii(i),de(i),wv(i,a)):(de(i),i.flags&=-16777217):(r.memoizedProps!==u&&ii(i),de(i),i.flags&=-16777217),null;case 27:Gn(i),a=bt.current;var h=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==u&&ii(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return de(i),null}r=mt.current,El(i)?Jy(i):(r=wE(h,u,a),i.stateNode=r,ii(i))}return de(i),null;case 5:if(Gn(i),a=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&ii(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return de(i),null}if(r=mt.current,El(i))Jy(i);else{switch(h=lf(bt.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?h.createElement(a,{is:u.is}):h.createElement(a)}}r[Oe]=i,r[we]=u;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=r;t:switch(Ke(r,a,u),a){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&ii(i)}}return de(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==u&&ii(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(r=bt.current,El(i)){if(r=i.stateNode,a=i.memoizedProps,u=null,h=un,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[Oe]=i,r=!!(r.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||gE(r.nodeValue,a)),r||Ws(i)}else r=lf(r).createTextNode(u),r[Oe]=i,i.stateNode=r}return de(i),null;case 13:if(u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=El(i),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Oe]=i}else Tl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;de(i),h=!1}else h=e_(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ni(i),i):(ni(i),null)}if(ni(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=u!==null,r=r!==null&&r.memoizedState!==null,a){u=i.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==h&&(u.flags|=2048)}return a!==r&&a&&(i.child.flags|=8192),Qc(i,i.updateQueue),de(i),null;case 4:return hn(),r===null&&Mm(i.stateNode.containerInfo),de(i),null;case 10:return ti(i.type),de(i),null;case 19:if(ct(Ve),h=i.memoizedState,h===null)return de(i),null;if(u=(i.flags&128)!==0,m=h.rendering,m===null)if(u)Ll(h,!1);else{if(ye!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(m=Hc(r),m!==null){for(i.flags|=128,Ll(h,!1),r=m.updateQueue,i.updateQueue=r,Qc(i,r),i.subtreeFlags=0,r=a,a=i.child;a!==null;)Wy(a,r),a=a.sibling;return at(Ve,Ve.current&1|2),i.child}r=r.sibling}h.tail!==null&&We()>Wc&&(i.flags|=128,u=!0,Ll(h,!1),i.lanes=4194304)}else{if(!u)if(r=Hc(m),r!==null){if(i.flags|=128,u=!0,r=r.updateQueue,i.updateQueue=r,Qc(i,r),Ll(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!Ft)return de(i),null}else 2*We()-h.renderingStartTime>Wc&&a!==536870912&&(i.flags|=128,u=!0,Ll(h,!1),i.lanes=4194304);h.isBackwards?(m.sibling=i.child,i.child=m):(r=h.last,r!==null?r.sibling=m:i.child=m,h.last=m)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=We(),i.sibling=null,r=Ve.current,at(Ve,u?r&1|2:r&1),i):(de(i),null);case 22:case 23:return ni(i),Pd(),u=i.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(a&536870912)!==0&&(i.flags&128)===0&&(de(i),i.subtreeFlags&6&&(i.flags|=8192)):de(i),a=i.updateQueue,a!==null&&Qc(i,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==a&&(i.flags|=2048),r!==null&&ct(ta),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ti(Me),de(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function OA(r,i){switch(bd(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return ti(Me),hn(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Gn(i),null;case 13:if(ni(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Tl()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ct(Ve),null;case 4:return hn(),null;case 10:return ti(i.type),null;case 22:case 23:return ni(i),Pd(),r!==null&&ct(ta),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return ti(Me),null;case 25:return null;default:return null}}function Sv(r,i){switch(bd(i),i.tag){case 3:ti(Me),hn();break;case 26:case 27:case 5:Gn(i);break;case 4:hn();break;case 13:ni(i);break;case 19:ct(Ve);break;case 10:ti(i.type);break;case 22:case 23:ni(i),Pd(),r!==null&&ct(ta);break;case 24:ti(Me)}}function Ul(r,i){try{var a=i.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var h=u.next;a=h;do{if((a.tag&r)===r){u=void 0;var m=a.create,E=a.inst;u=m(),E.destroy=u}a=a.next}while(a!==h)}}catch(b){ie(i,i.return,b)}}function qi(r,i,a){try{var u=i.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var m=h.next;u=m;do{if((u.tag&r)===r){var E=u.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,h=i;var O=a,$=b;try{$()}catch(Z){ie(h,O,Z)}}}u=u.next}while(u!==m)}}catch(Z){ie(i,i.return,Z)}}function Av(r){var i=r.updateQueue;if(i!==null){var a=r.stateNode;try{h_(i,a)}catch(u){ie(r,r.return,u)}}}function Rv(r,i,a){a.props=na(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(u){ie(r,i,u)}}function jl(r,i){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof a=="function"?r.refCleanup=a(u):a.current=u}}catch(h){ie(r,i,h)}}function Tr(r,i){var a=r.ref,u=r.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(h){ie(r,i,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ie(r,i,h)}else a.current=null}function Cv(r){var i=r.type,a=r.memoizedProps,u=r.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(h){ie(r,r.return,h)}}function cm(r,i,a){try{var u=r.stateNode;ZA(u,r.type,a,i),u[we]=i}catch(h){ie(r,r.return,h)}}function Iv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Xi(r.type)||r.tag===4}function fm(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||Iv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Xi(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function hm(r,i,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(r),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=of));else if(u!==4&&(u===27&&Xi(r.type)&&(a=r.stateNode,i=null),r=r.child,r!==null))for(hm(r,i,a),r=r.sibling;r!==null;)hm(r,i,a),r=r.sibling}function Yc(r,i,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(u!==4&&(u===27&&Xi(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(Yc(r,i,a),r=r.sibling;r!==null;)Yc(r,i,a),r=r.sibling}function Nv(r){var i=r.stateNode,a=r.memoizedProps;try{for(var u=r.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ke(i,u,a),i[Oe]=r,i[we]=a}catch(m){ie(r,r.return,m)}}var si=!1,Ee=!1,dm=!1,xv=typeof WeakSet=="function"?WeakSet:Set,Be=null;function DA(r,i){if(r=r.containerInfo,Lm=mf,r=zy(r),fd(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else t:{a=(a=r.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var h=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var E=0,b=-1,O=-1,$=0,Z=0,nt=r,K=null;e:for(;;){for(var Y;nt!==a||h!==0&&nt.nodeType!==3||(b=E+h),nt!==m||u!==0&&nt.nodeType!==3||(O=E+u),nt.nodeType===3&&(E+=nt.nodeValue.length),(Y=nt.firstChild)!==null;)K=nt,nt=Y;for(;;){if(nt===r)break e;if(K===a&&++$===h&&(b=E),K===m&&++Z===u&&(O=E),(Y=nt.nextSibling)!==null)break;nt=K,K=nt.parentNode}nt=Y}a=b===-1||O===-1?null:{start:b,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Um={focusedElem:r,selectionRange:a},mf=!1,Be=i;Be!==null;)if(i=Be,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,Be=r;else for(;Be!==null;){switch(i=Be,m=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,a=i,h=m.memoizedProps,m=m.memoizedState,u=a.stateNode;try{var wt=na(a.type,h,a.elementType===a.type);r=u.getSnapshotBeforeUpdate(wt,m),u.__reactInternalSnapshotBeforeUpdate=r}catch(_t){ie(a,a.return,_t)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,a=r.nodeType,a===9)zm(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":zm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,Be=r;break}Be=i.return}}function Ov(r,i,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Hi(r,a),u&4&&Ul(5,a);break;case 1:if(Hi(r,a),u&4)if(r=a.stateNode,i===null)try{r.componentDidMount()}catch(E){ie(a,a.return,E)}else{var h=na(a.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(h,i,r.__reactInternalSnapshotBeforeUpdate)}catch(E){ie(a,a.return,E)}}u&64&&Av(a),u&512&&jl(a,a.return);break;case 3:if(Hi(r,a),u&64&&(r=a.updateQueue,r!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{h_(r,i)}catch(E){ie(a,a.return,E)}}break;case 27:i===null&&u&4&&Nv(a);case 26:case 5:Hi(r,a),i===null&&u&4&&Cv(a),u&512&&jl(a,a.return);break;case 12:Hi(r,a);break;case 13:Hi(r,a),u&4&&Mv(r,a),u&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=zA.bind(null,a),sR(r,a))));break;case 22:if(u=a.memoizedState!==null||si,!u){i=i!==null&&i.memoizedState!==null||Ee,h=si;var m=Ee;si=u,(Ee=i)&&!m?Fi(r,a,(a.subtreeFlags&8772)!==0):Hi(r,a),si=h,Ee=m}break;case 30:break;default:Hi(r,a)}}function Dv(r){var i=r.alternate;i!==null&&(r.alternate=null,Dv(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Oi(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var fe=null,mn=!1;function ai(r,i,a){for(a=a.child;a!==null;)kv(r,i,a),a=a.sibling}function kv(r,i,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(pe,a)}catch{}switch(a.tag){case 26:Ee||Tr(a,i),ai(r,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ee||Tr(a,i);var u=fe,h=mn;Xi(a.type)&&(fe=a.stateNode,mn=!1),ai(r,i,a),Ql(a.stateNode),fe=u,mn=h;break;case 5:Ee||Tr(a,i);case 6:if(u=fe,h=mn,fe=null,ai(r,i,a),fe=u,mn=h,fe!==null)if(mn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(a.stateNode)}catch(m){ie(a,i,m)}else try{fe.removeChild(a.stateNode)}catch(m){ie(a,i,m)}break;case 18:fe!==null&&(mn?(r=fe,TE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),nu(r)):TE(fe,a.stateNode));break;case 4:u=fe,h=mn,fe=a.stateNode.containerInfo,mn=!0,ai(r,i,a),fe=u,mn=h;break;case 0:case 11:case 14:case 15:Ee||qi(2,a,i),Ee||qi(4,a,i),ai(r,i,a);break;case 1:Ee||(Tr(a,i),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Rv(a,i,u)),ai(r,i,a);break;case 21:ai(r,i,a);break;case 22:Ee=(u=Ee)||a.memoizedState!==null,ai(r,i,a),Ee=u;break;default:ai(r,i,a)}}function Mv(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{nu(r)}catch(a){ie(i,i.return,a)}}function kA(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new xv),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new xv),i;default:throw Error(s(435,r.tag))}}function mm(r,i){var a=kA(r);i.forEach(function(u){var h=qA.bind(null,r,u);a.has(u)||(a.add(u),u.then(h,h))})}function bn(r,i){var a=i.deletions;if(a!==null)for(var u=0;u<a.length;u++){var h=a[u],m=r,E=i,b=E;t:for(;b!==null;){switch(b.tag){case 27:if(Xi(b.type)){fe=b.stateNode,mn=!1;break t}break;case 5:fe=b.stateNode,mn=!1;break t;case 3:case 4:fe=b.stateNode.containerInfo,mn=!0;break t}b=b.return}if(fe===null)throw Error(s(160));kv(m,E,h),fe=null,mn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Vv(i,r),i=i.sibling}var Wn=null;function Vv(r,i){var a=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:bn(i,r),wn(r),u&4&&(qi(3,r,r.return),Ul(3,r),qi(5,r,r.return));break;case 1:bn(i,r),wn(r),u&512&&(Ee||a===null||Tr(a,a.return)),u&64&&si&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var h=Wn;if(bn(i,r),wn(r),u&512&&(Ee||a===null||Tr(a,a.return)),u&4){var m=a!==null?a.memoizedState:null;if(u=r.memoizedState,a===null)if(u===null)if(r.stateNode===null){t:{u=r.type,a=r.memoizedProps,h=h.ownerDocument||h;e:switch(u){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Os]||m[Oe]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(u),h.head.insertBefore(m,h.querySelector("head > title"))),Ke(m,u,a),m[Oe]=r,_e(m),u=m;break t;case"link":var E=NE("link","href",h).get(u+(a.href||""));if(E){for(var b=0;b<E.length;b++)if(m=E[b],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(b,1);break e}}m=h.createElement(u),Ke(m,u,a),h.head.appendChild(m);break;case"meta":if(E=NE("meta","content",h).get(u+(a.content||""))){for(b=0;b<E.length;b++)if(m=E[b],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(b,1);break e}}m=h.createElement(u),Ke(m,u,a),h.head.appendChild(m);break;default:throw Error(s(468,u))}m[Oe]=r,_e(m),u=m}r.stateNode=u}else xE(h,r.type,r.stateNode);else r.stateNode=IE(h,u,r.memoizedProps);else m!==u?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,u===null?xE(h,r.type,r.stateNode):IE(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&cm(r,r.memoizedProps,a.memoizedProps)}break;case 27:bn(i,r),wn(r),u&512&&(Ee||a===null||Tr(a,a.return)),a!==null&&u&4&&cm(r,r.memoizedProps,a.memoizedProps);break;case 5:if(bn(i,r),wn(r),u&512&&(Ee||a===null||Tr(a,a.return)),r.flags&32){h=r.stateNode;try{xn(h,"")}catch(Y){ie(r,r.return,Y)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,cm(r,h,a!==null?a.memoizedProps:h)),u&1024&&(dm=!0);break;case 6:if(bn(i,r),wn(r),u&4){if(r.stateNode===null)throw Error(s(162));u=r.memoizedProps,a=r.stateNode;try{a.nodeValue=u}catch(Y){ie(r,r.return,Y)}}break;case 3:if(ff=null,h=Wn,Wn=uf(i.containerInfo),bn(i,r),Wn=h,wn(r),u&4&&a!==null&&a.memoizedState.isDehydrated)try{nu(i.containerInfo)}catch(Y){ie(r,r.return,Y)}dm&&(dm=!1,Pv(r));break;case 4:u=Wn,Wn=uf(r.stateNode.containerInfo),bn(i,r),wn(r),Wn=u;break;case 12:bn(i,r),wn(r);break;case 13:bn(i,r),wn(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Em=We()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,mm(r,u)));break;case 22:h=r.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,$=si,Z=Ee;if(si=$||h,Ee=Z||O,bn(i,r),Ee=Z,si=$,wn(r),u&8192)t:for(i=r.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||O||si||Ee||ra(r)),a=null,i=r;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(m=O.stateNode,h)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=O.stateNode;var nt=O.memoizedProps.style,K=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;b.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Y){ie(O,O.return,Y)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(Y){ie(O,O.return,Y)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=r.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,mm(r,a))));break;case 19:bn(i,r),wn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,mm(r,u)));break;case 30:break;case 21:break;default:bn(i,r),wn(r)}}function wn(r){var i=r.flags;if(i&2){try{for(var a,u=r.return;u!==null;){if(Iv(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,m=fm(r);Yc(r,m,h);break;case 5:var E=a.stateNode;a.flags&32&&(xn(E,""),a.flags&=-33);var b=fm(r);Yc(r,b,E);break;case 3:case 4:var O=a.stateNode.containerInfo,$=fm(r);hm(r,$,O);break;default:throw Error(s(161))}}catch(Z){ie(r,r.return,Z)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Pv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Pv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function Hi(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ov(r,i.alternate,i),i=i.sibling}function ra(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:qi(4,i,i.return),ra(i);break;case 1:Tr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Rv(i,i.return,a),ra(i);break;case 27:Ql(i.stateNode);case 26:case 5:Tr(i,i.return),ra(i);break;case 22:i.memoizedState===null&&ra(i);break;case 30:ra(i);break;default:ra(i)}r=r.sibling}}function Fi(r,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,h=r,m=i,E=m.flags;switch(m.tag){case 0:case 11:case 15:Fi(h,m,a),Ul(4,m);break;case 1:if(Fi(h,m,a),u=m,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch($){ie(u,u.return,$)}if(u=m,h=u.updateQueue,h!==null){var b=u.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)f_(O[h],b)}catch($){ie(u,u.return,$)}}a&&E&64&&Av(m),jl(m,m.return);break;case 27:Nv(m);case 26:case 5:Fi(h,m,a),a&&u===null&&E&4&&Cv(m),jl(m,m.return);break;case 12:Fi(h,m,a);break;case 13:Fi(h,m,a),a&&E&4&&Mv(h,m);break;case 22:m.memoizedState===null&&Fi(h,m,a),jl(m,m.return);break;case 30:break;default:Fi(h,m,a)}i=i.sibling}}function pm(r,i){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&Sl(a))}function gm(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Sl(r))}function br(r,i,a,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Lv(r,i,a,u),i=i.sibling}function Lv(r,i,a,u){var h=i.flags;switch(i.tag){case 0:case 11:case 15:br(r,i,a,u),h&2048&&Ul(9,i);break;case 1:br(r,i,a,u);break;case 3:br(r,i,a,u),h&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Sl(r)));break;case 12:if(h&2048){br(r,i,a,u),r=i.stateNode;try{var m=i.memoizedProps,E=m.id,b=m.onPostCommit;typeof b=="function"&&b(E,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(O){ie(i,i.return,O)}}else br(r,i,a,u);break;case 13:br(r,i,a,u);break;case 23:break;case 22:m=i.stateNode,E=i.alternate,i.memoizedState!==null?m._visibility&2?br(r,i,a,u):Bl(r,i):m._visibility&2?br(r,i,a,u):(m._visibility|=2,so(r,i,a,u,(i.subtreeFlags&10256)!==0)),h&2048&&pm(E,i);break;case 24:br(r,i,a,u),h&2048&&gm(i.alternate,i);break;default:br(r,i,a,u)}}function so(r,i,a,u,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=r,E=i,b=a,O=u,$=E.flags;switch(E.tag){case 0:case 11:case 15:so(m,E,b,O,h),Ul(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?so(m,E,b,O,h):Bl(m,E):(Z._visibility|=2,so(m,E,b,O,h)),h&&$&2048&&pm(E.alternate,E);break;case 24:so(m,E,b,O,h),h&&$&2048&&gm(E.alternate,E);break;default:so(m,E,b,O,h)}i=i.sibling}}function Bl(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=r,u=i,h=u.flags;switch(u.tag){case 22:Bl(a,u),h&2048&&pm(u.alternate,u);break;case 24:Bl(a,u),h&2048&&gm(u.alternate,u);break;default:Bl(a,u)}i=i.sibling}}var zl=8192;function ao(r){if(r.subtreeFlags&zl)for(r=r.child;r!==null;)Uv(r),r=r.sibling}function Uv(r){switch(r.tag){case 26:ao(r),r.flags&zl&&r.memoizedState!==null&&_R(Wn,r.memoizedState,r.memoizedProps);break;case 5:ao(r);break;case 3:case 4:var i=Wn;Wn=uf(r.stateNode.containerInfo),ao(r),Wn=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=zl,zl=16777216,ao(r),zl=i):ao(r));break;default:ao(r)}}function jv(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function ql(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];Be=u,zv(u,r)}jv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Bv(r),r=r.sibling}function Bv(r){switch(r.tag){case 0:case 11:case 15:ql(r),r.flags&2048&&qi(9,r,r.return);break;case 3:ql(r);break;case 12:ql(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Xc(r)):ql(r);break;default:ql(r)}}function Xc(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];Be=u,zv(u,r)}jv(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:qi(8,i,i.return),Xc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Xc(i));break;default:Xc(i)}r=r.sibling}}function zv(r,i){for(;Be!==null;){var a=Be;switch(a.tag){case 0:case 11:case 15:qi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Sl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Be=u;else t:for(a=r;Be!==null;){u=Be;var h=u.sibling,m=u.return;if(Dv(u),u===a){Be=null;break t}if(h!==null){h.return=m,Be=h;break t}Be=m}}}var MA={getCacheForType:function(r){var i=Je(Me),a=i.data.get(r);return a===void 0&&(a=r(),i.data.set(r,a)),a}},VA=typeof WeakMap=="function"?WeakMap:Map,Xt=0,se=null,Dt=null,Bt=0,Wt=0,Sn=null,Gi=!1,oo=!1,ym=!1,oi=0,ye=0,$i=0,ia=0,_m=0,jn=0,lo=0,Hl=null,pn=null,vm=!1,Em=0,Wc=1/0,Zc=null,Ki=null,$e=0,Qi=null,uo=null,co=0,Tm=0,bm=null,qv=null,Fl=0,wm=null;function An(){if((Xt&2)!==0&&Bt!==0)return Bt&-Bt;if(W.T!==null){var r=Wa;return r!==0?r:xm()}return Ni()}function Hv(){jn===0&&(jn=(Bt&536870912)===0||Ft?Jo():536870912);var r=Un.current;return r!==null&&(r.flags|=32),jn}function Rn(r,i,a){(r===se&&(Wt===2||Wt===9)||r.cancelPendingCommit!==null)&&(fo(r,0),Yi(r,Bt,jn,!1)),jr(r,a),((Xt&2)===0||r!==se)&&(r===se&&((Xt&2)===0&&(ia|=a),ye===4&&Yi(r,Bt,jn,!1)),wr(r))}function Fv(r,i,a){if((Xt&6)!==0)throw Error(s(327));var u=!a&&(i&124)===0&&(i&r.expiredLanes)===0||xs(r,i),h=u?UA(r,i):Rm(r,i,!0),m=u;do{if(h===0){oo&&!u&&Yi(r,i,0,!1);break}else{if(a=r.current.alternate,m&&!PA(a)){h=Rm(r,i,!1),m=!1;continue}if(h===2){if(m=i,r.errorRecoveryDisabledLanes&m)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;t:{var b=r;h=Hl;var O=b.current.memoizedState.isDehydrated;if(O&&(fo(b,E).flags|=256),E=Rm(b,E,!1),E!==2){if(ym&&!O){b.errorRecoveryDisabledLanes|=m,ia|=m,h=4;break t}m=pn,pn=h,m!==null&&(pn===null?pn=m:pn.push.apply(pn,m))}h=E}if(m=!1,h!==2)continue}}if(h===1){fo(r,0),Yi(r,i,0,!0);break}t:{switch(u=r,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Yi(u,i,jn,!Gi);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Em+300-We(),10<h)){if(Yi(u,i,jn,!Gi),Ia(u,0,!0)!==0)break t;u.timeoutHandle=vE(Gv.bind(null,u,a,pn,Zc,vm,i,jn,ia,lo,Gi,m,2,-0,0),h);break t}Gv(u,a,pn,Zc,vm,i,jn,ia,lo,Gi,m,0,-0,0)}}break}while(!0);wr(r)}function Gv(r,i,a,u,h,m,E,b,O,$,Z,nt,K,Y){if(r.timeoutHandle=-1,nt=i.subtreeFlags,(nt&8192||(nt&16785408)===16785408)&&(Wl={stylesheets:null,count:0,unsuspend:yR},Uv(i),nt=vR(),nt!==null)){r.cancelPendingCommit=nt(Zv.bind(null,r,i,m,a,u,h,E,b,O,Z,1,K,Y)),Yi(r,m,E,!$);return}Zv(r,i,m,a,u,h,E,b,O)}function PA(r){for(var i=r;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var h=a[u],m=h.getSnapshot;h=h.value;try{if(!En(m(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Yi(r,i,a,u){i&=~_m,i&=~ia,r.suspendedLanes|=i,r.pingedLanes&=~i,u&&(r.warmLanes|=i),u=r.expirationTimes;for(var h=i;0<h;){var m=31-Ze(h),E=1<<m;u[m]=-1,h&=~E}a!==0&&lr(r,a,i)}function Jc(){return(Xt&6)===0?(Gl(0),!1):!0}function Sm(){if(Dt!==null){if(Wt===0)var r=Dt.return;else r=Dt,Jr=Zs=null,zd(r),ro=null,Vl=0,r=Dt;for(;r!==null;)Sv(r.alternate,r),r=r.return;Dt=null}}function fo(r,i){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,tR(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),Sm(),se=r,Dt=a=Xr(r.current,null),Bt=i,Wt=0,Sn=null,Gi=!1,oo=xs(r,i),ym=!1,lo=jn=_m=ia=$i=ye=0,pn=Hl=null,vm=!1,(i&8)!==0&&(i|=i&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=i;0<u;){var h=31-Ze(u),m=1<<h;i|=r[h],u&=~m}return oi=i,Tc(),a}function $v(r,i){Nt=null,W.H=Bc,i===Rl||i===xc?(i=u_(),Wt=3):i===a_?(i=u_(),Wt=4):Wt=i===cv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,Dt===null&&(ye=1,Gc(r,Mn(i,r.current)))}function Kv(){var r=W.H;return W.H=Bc,r===null?Bc:r}function Qv(){var r=W.A;return W.A=MA,r}function Am(){ye=4,Gi||(Bt&4194048)!==Bt&&Un.current!==null||(oo=!0),($i&134217727)===0&&(ia&134217727)===0||se===null||Yi(se,Bt,jn,!1)}function Rm(r,i,a){var u=Xt;Xt|=2;var h=Kv(),m=Qv();(se!==r||Bt!==i)&&(Zc=null,fo(r,i)),i=!1;var E=ye;t:do try{if(Wt!==0&&Dt!==null){var b=Dt,O=Sn;switch(Wt){case 8:Sm(),E=6;break t;case 3:case 2:case 9:case 6:Un.current===null&&(i=!0);var $=Wt;if(Wt=0,Sn=null,ho(r,b,O,$),a&&oo){E=0;break t}break;default:$=Wt,Wt=0,Sn=null,ho(r,b,O,$)}}LA(),E=ye;break}catch(Z){$v(r,Z)}while(!0);return i&&r.shellSuspendCounter++,Jr=Zs=null,Xt=u,W.H=h,W.A=m,Dt===null&&(se=null,Bt=0,Tc()),E}function LA(){for(;Dt!==null;)Yv(Dt)}function UA(r,i){var a=Xt;Xt|=2;var u=Kv(),h=Qv();se!==r||Bt!==i?(Zc=null,Wc=We()+500,fo(r,i)):oo=xs(r,i);t:do try{if(Wt!==0&&Dt!==null){i=Dt;var m=Sn;e:switch(Wt){case 1:Wt=0,Sn=null,ho(r,i,m,1);break;case 2:case 9:if(o_(m)){Wt=0,Sn=null,Xv(i);break}i=function(){Wt!==2&&Wt!==9||se!==r||(Wt=7),wr(r)},m.then(i,i);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:o_(m)?(Wt=0,Sn=null,Xv(i)):(Wt=0,Sn=null,ho(r,i,m,7));break;case 5:var E=null;switch(Dt.tag){case 26:E=Dt.memoizedState;case 5:case 27:var b=Dt;if(!E||OE(E)){Wt=0,Sn=null;var O=b.sibling;if(O!==null)Dt=O;else{var $=b.return;$!==null?(Dt=$,tf($)):Dt=null}break e}}Wt=0,Sn=null,ho(r,i,m,5);break;case 6:Wt=0,Sn=null,ho(r,i,m,6);break;case 8:Sm(),ye=6;break t;default:throw Error(s(462))}}jA();break}catch(Z){$v(r,Z)}while(!0);return Jr=Zs=null,W.H=u,W.A=h,Xt=a,Dt!==null?0:(se=null,Bt=0,Tc(),ye)}function jA(){for(;Dt!==null&&!re();)Yv(Dt)}function Yv(r){var i=bv(r.alternate,r,oi);r.memoizedProps=r.pendingProps,i===null?tf(r):Dt=i}function Xv(r){var i=r,a=i.alternate;switch(i.tag){case 15:case 0:i=gv(a,i,i.pendingProps,i.type,void 0,Bt);break;case 11:i=gv(a,i,i.pendingProps,i.type.render,i.ref,Bt);break;case 5:zd(i);default:Sv(a,i),i=Dt=Wy(i,oi),i=bv(a,i,oi)}r.memoizedProps=r.pendingProps,i===null?tf(r):Dt=i}function ho(r,i,a,u){Jr=Zs=null,zd(i),ro=null,Vl=0;var h=i.return;try{if(IA(r,h,i,a,Bt)){ye=1,Gc(r,Mn(a,r.current)),Dt=null;return}}catch(m){if(h!==null)throw Dt=h,m;ye=1,Gc(r,Mn(a,r.current)),Dt=null;return}i.flags&32768?(Ft||u===1?r=!0:oo||(Bt&536870912)!==0?r=!1:(Gi=r=!0,(u===2||u===9||u===3||u===6)&&(u=Un.current,u!==null&&u.tag===13&&(u.flags|=16384))),Wv(i,r)):tf(i)}function tf(r){var i=r;do{if((i.flags&32768)!==0){Wv(i,Gi);return}r=i.return;var a=xA(i.alternate,i,oi);if(a!==null){Dt=a;return}if(i=i.sibling,i!==null){Dt=i;return}Dt=i=r}while(i!==null);ye===0&&(ye=5)}function Wv(r,i){do{var a=OA(r.alternate,r);if(a!==null){a.flags&=32767,Dt=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(r=r.sibling,r!==null)){Dt=r;return}Dt=r=a}while(r!==null);ye=6,Dt=null}function Zv(r,i,a,u,h,m,E,b,O){r.cancelPendingCommit=null;do ef();while($e!==0);if((Xt&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=gd,el(r,a,m,E,b,O),r===se&&(Dt=se=null,Bt=0),uo=i,Qi=r,co=a,Tm=m,bm=h,qv=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,HA(Rs,function(){return rE(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,h=ot.p,ot.p=2,E=Xt,Xt|=4;try{DA(r,i,a)}finally{Xt=E,ot.p=h,W.T=u}}$e=1,Jv(),tE(),eE()}}function Jv(){if($e===1){$e=0;var r=Qi,i=uo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var u=ot.p;ot.p=2;var h=Xt;Xt|=4;try{Vv(i,r);var m=Um,E=zy(r.containerInfo),b=m.focusedElem,O=m.selectionRange;if(E!==b&&b&&b.ownerDocument&&By(b.ownerDocument.documentElement,b)){if(O!==null&&fd(b)){var $=O.start,Z=O.end;if(Z===void 0&&(Z=$),"selectionStart"in b)b.selectionStart=$,b.selectionEnd=Math.min(Z,b.value.length);else{var nt=b.ownerDocument||document,K=nt&&nt.defaultView||window;if(K.getSelection){var Y=K.getSelection(),wt=b.textContent.length,_t=Math.min(O.start,wt),ne=O.end===void 0?_t:Math.min(O.end,wt);!Y.extend&&_t>ne&&(E=ne,ne=_t,_t=E);var B=jy(b,_t),U=jy(b,ne);if(B&&U&&(Y.rangeCount!==1||Y.anchorNode!==B.node||Y.anchorOffset!==B.offset||Y.focusNode!==U.node||Y.focusOffset!==U.offset)){var G=nt.createRange();G.setStart(B.node,B.offset),Y.removeAllRanges(),_t>ne?(Y.addRange(G),Y.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),Y.addRange(G))}}}}for(nt=[],Y=b;Y=Y.parentNode;)Y.nodeType===1&&nt.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<nt.length;b++){var J=nt[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}mf=!!Lm,Um=Lm=null}finally{Xt=h,ot.p=u,W.T=a}}r.current=i,$e=2}}function tE(){if($e===2){$e=0;var r=Qi,i=uo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var u=ot.p;ot.p=2;var h=Xt;Xt|=4;try{Ov(r,i.alternate,i)}finally{Xt=h,ot.p=u,W.T=a}}$e=3}}function eE(){if($e===4||$e===3){$e=0,As();var r=Qi,i=uo,a=co,u=qv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?$e=5:($e=0,uo=Qi=null,nE(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(Ki=null),Na(a),i=i.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(pe,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=W.T,h=ot.p,ot.p=2,W.T=null;try{for(var m=r.onRecoverableError,E=0;E<u.length;E++){var b=u[E];m(b.value,{componentStack:b.stack})}}finally{W.T=i,ot.p=h}}(co&3)!==0&&ef(),wr(r),h=r.pendingLanes,(a&4194090)!==0&&(h&42)!==0?r===wm?Fl++:(Fl=0,wm=r):Fl=0,Gl(0)}}function nE(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Sl(i)))}function ef(r){return Jv(),tE(),eE(),rE()}function rE(){if($e!==5)return!1;var r=Qi,i=Tm;Tm=0;var a=Na(co),u=W.T,h=ot.p;try{ot.p=32>a?32:a,W.T=null,a=bm,bm=null;var m=Qi,E=co;if($e=0,uo=Qi=null,co=0,(Xt&6)!==0)throw Error(s(331));var b=Xt;if(Xt|=4,Bv(m.current),Lv(m,m.current,E,a),Xt=b,Gl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(pe,m)}catch{}return!0}finally{ot.p=h,W.T=u,nE(r,i)}}function iE(r,i,a){i=Mn(a,i),i=em(r.stateNode,i,2),r=Ui(r,i,2),r!==null&&(jr(r,2),wr(r))}function ie(r,i,a){if(r.tag===3)iE(r,r,a);else for(;i!==null;){if(i.tag===3){iE(i,r,a);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ki===null||!Ki.has(u))){r=Mn(a,r),a=lv(2),u=Ui(i,a,2),u!==null&&(uv(a,u,i,r),jr(u,2),wr(u));break}}i=i.return}}function Cm(r,i,a){var u=r.pingCache;if(u===null){u=r.pingCache=new VA;var h=new Set;u.set(i,h)}else h=u.get(i),h===void 0&&(h=new Set,u.set(i,h));h.has(a)||(ym=!0,h.add(a),r=BA.bind(null,r,i,a),i.then(r,r))}function BA(r,i,a){var u=r.pingCache;u!==null&&u.delete(i),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,se===r&&(Bt&a)===a&&(ye===4||ye===3&&(Bt&62914560)===Bt&&300>We()-Em?(Xt&2)===0&&fo(r,0):_m|=a,lo===Bt&&(lo=0)),wr(r)}function sE(r,i){i===0&&(i=tl()),r=Ka(r,i),r!==null&&(jr(r,i),wr(r))}function zA(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),sE(r,a)}function qA(r,i){var a=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(a=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),sE(r,a)}function HA(r,i){return $n(r,i)}var nf=null,mo=null,Im=!1,rf=!1,Nm=!1,sa=0;function wr(r){r!==mo&&r.next===null&&(mo===null?nf=mo=r:mo=mo.next=r),rf=!0,Im||(Im=!0,GA())}function Gl(r,i){if(!Nm&&rf){Nm=!0;do for(var a=!1,u=nf;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var m=0;else{var E=u.suspendedLanes,b=u.pingedLanes;m=(1<<31-Ze(42|r)+1)-1,m&=h&~(E&~b),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,uE(u,m))}else m=Bt,m=Ia(u,u===se?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||xs(u,m)||(a=!0,uE(u,m));u=u.next}while(a);Nm=!1}}function FA(){aE()}function aE(){rf=Im=!1;var r=0;sa!==0&&(JA()&&(r=sa),sa=0);for(var i=We(),a=null,u=nf;u!==null;){var h=u.next,m=oE(u,i);m===0?(u.next=null,a===null?nf=h:a.next=h,h===null&&(mo=a)):(a=u,(r!==0||(m&3)!==0)&&(rf=!0)),u=h}Gl(r)}function oE(r,i){for(var a=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var E=31-Ze(m),b=1<<E,O=h[E];O===-1?((b&a)===0||(b&u)!==0)&&(h[E]=Zo(b,i)):O<=i&&(r.expiredLanes|=b),m&=~b}if(i=se,a=Bt,a=Ia(r,r===i?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,a===0||r===i&&(Wt===2||Wt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&In(u),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||xs(r,a)){if(i=a&-a,i===r.callbackPriority)return i;switch(u!==null&&In(u),Na(a)){case 2:case 8:a=Ra;break;case 32:a=Rs;break;case 268435456:a=Ca;break;default:a=Rs}return u=lE.bind(null,r),a=$n(a,u),r.callbackPriority=i,r.callbackNode=a,i}return u!==null&&u!==null&&In(u),r.callbackPriority=2,r.callbackNode=null,2}function lE(r,i){if($e!==0&&$e!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if(ef()&&r.callbackNode!==a)return null;var u=Bt;return u=Ia(r,r===se?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(Fv(r,u,i),oE(r,We()),r.callbackNode!=null&&r.callbackNode===a?lE.bind(null,r):null)}function uE(r,i){if(ef())return null;Fv(r,i,!0)}function GA(){eR(function(){(Xt&6)!==0?$n(Xo,FA):aE()})}function xm(){return sa===0&&(sa=Jo()),sa}function cE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Va(""+r)}function fE(r,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,r.id&&a.setAttribute("form",r.id),i.parentNode.insertBefore(a,i),r=new FormData(r),a.parentNode.removeChild(a),r}function $A(r,i,a,u,h){if(i==="submit"&&a&&a.stateNode===h){var m=cE((h[we]||null).action),E=u.submitter;E&&(i=(i=E[we]||null)?cE(i.formAction):E.getAttribute("formAction"),i!==null&&(m=i,E=null));var b=new Pa("action","action",null,u,h);r.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(sa!==0){var O=E?fE(h,E):new FormData(h);Xd(a,{pending:!0,data:O,method:h.method,action:m},null,O)}}else typeof m=="function"&&(b.preventDefault(),O=E?fE(h,E):new FormData(h),Xd(a,{pending:!0,data:O,method:h.method,action:m},m,O))},currentTarget:h}]})}}for(var Om=0;Om<pd.length;Om++){var Dm=pd[Om],KA=Dm.toLowerCase(),QA=Dm[0].toUpperCase()+Dm.slice(1);Xn(KA,"on"+QA)}Xn(Fy,"onAnimationEnd"),Xn(Gy,"onAnimationIteration"),Xn($y,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(fA,"onTransitionRun"),Xn(hA,"onTransitionStart"),Xn(dA,"onTransitionCancel"),Xn(Ky,"onTransitionEnd"),zr("onMouseEnter",["mouseout","mouseover"]),zr("onMouseLeave",["mouseout","mouseover"]),zr("onPointerEnter",["pointerout","pointerover"]),zr("onPointerLeave",["pointerout","pointerover"]),Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function hE(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var u=r[a],h=u.event;u=u.listeners;t:{var m=void 0;if(i)for(var E=u.length-1;0<=E;E--){var b=u[E],O=b.instance,$=b.currentTarget;if(b=b.listener,O!==m&&h.isPropagationStopped())break t;m=b,h.currentTarget=$;try{m(h)}catch(Z){Fc(Z)}h.currentTarget=null,m=O}else for(E=0;E<u.length;E++){if(b=u[E],O=b.instance,$=b.currentTarget,b=b.listener,O!==m&&h.isPropagationStopped())break t;m=b,h.currentTarget=$;try{m(h)}catch(Z){Fc(Z)}h.currentTarget=null,m=O}}}}function kt(r,i){var a=i[rl];a===void 0&&(a=i[rl]=new Set);var u=r+"__bubble";a.has(u)||(dE(i,r,2,!1),a.add(u))}function km(r,i,a){var u=0;i&&(u|=4),dE(a,r,u,i)}var sf="_reactListening"+Math.random().toString(36).slice(2);function Mm(r){if(!r[sf]){r[sf]=!0,il.forEach(function(a){a!=="selectionchange"&&(YA.has(a)||km(a,!1,r),km(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[sf]||(i[sf]=!0,km("selectionchange",!1,i))}}function dE(r,i,a,u){switch(LE(i)){case 2:var h=bR;break;case 8:h=wR;break;default:h=Qm}a=h.bind(null,i,a,r),h=void 0,!Dn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(i,a,{capture:!0,passive:h}):r.addEventListener(i,a,!0):h!==void 0?r.addEventListener(i,a,{passive:h}):r.addEventListener(i,a,!1)}function Vm(r,i,a,u,h){var m=u;if((i&1)===0&&(i&2)===0&&u!==null)t:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var b=u.stateNode.containerInfo;if(b===h)break;if(E===4)for(E=u.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;b!==null;){if(E=Br(b),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){u=m=E;continue t}b=b.parentNode}}u=u.return}ac(function(){var $=m,Z=On(a),nt=[];t:{var K=Qy.get(r);if(K!==void 0){var Y=Pa,wt=r;switch(r){case"keypress":if(mr(a)===0)break t;case"keydown":case"keyup":Y=qa;break;case"focusin":wt="focus",Y=ja;break;case"focusout":wt="blur",Y=ja;break;case"beforeblur":case"afterblur":Y=ja;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=od;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=mc;break;case Fy:case Gy:case $y:Y=Ba;break;case Ky:Y=gc;break;case"scroll":case"scrollend":Y=oc;break;case"wheel":Y=Ha;break;case"copy":case"cut":case"paste":Y=za;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=gl;break;case"toggle":case"beforetoggle":Y=_c}var _t=(i&4)!==0,ne=!_t&&(r==="scroll"||r==="scrollend"),B=_t?K!==null?K+"Capture":null:K;_t=[];for(var U=$,G;U!==null;){var J=U;if(G=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||G===null||B===null||(J=Us(U,B),J!=null&&_t.push(Kl(U,J,G))),ne)break;U=U.return}0<_t.length&&(K=new Y(K,wt,null,a,Z),nt.push({event:K,listeners:_t}))}}if((i&7)===0){t:{if(K=r==="mouseover"||r==="pointerover",Y=r==="mouseout"||r==="pointerout",K&&a!==Fr&&(wt=a.relatedTarget||a.fromElement)&&(Br(wt)||wt[Nn]))break t;if((Y||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,Y?(wt=a.relatedTarget||a.toElement,Y=$,wt=wt?Br(wt):null,wt!==null&&(ne=l(wt),_t=wt.tag,wt!==ne||_t!==5&&_t!==27&&_t!==6)&&(wt=null)):(Y=null,wt=$),Y!==wt)){if(_t=kn,J="onMouseLeave",B="onMouseEnter",U="mouse",(r==="pointerout"||r==="pointerover")&&(_t=gl,J="onPointerLeave",B="onPointerEnter",U="pointer"),ne=Y==null?K:cr(Y),G=wt==null?K:cr(wt),K=new _t(J,U+"leave",Y,a,Z),K.target=ne,K.relatedTarget=G,J=null,Br(Z)===$&&(_t=new _t(B,U+"enter",wt,a,Z),_t.target=G,_t.relatedTarget=ne,J=_t),ne=J,Y&&wt)e:{for(_t=Y,B=wt,U=0,G=_t;G;G=po(G))U++;for(G=0,J=B;J;J=po(J))G++;for(;0<U-G;)_t=po(_t),U--;for(;0<G-U;)B=po(B),G--;for(;U--;){if(_t===B||B!==null&&_t===B.alternate)break e;_t=po(_t),B=po(B)}_t=null}else _t=null;Y!==null&&mE(nt,K,Y,_t,!1),wt!==null&&ne!==null&&mE(nt,ne,wt,_t,!0)}}t:{if(K=$?cr($):window,Y=K.nodeName&&K.nodeName.toLowerCase(),Y==="select"||Y==="input"&&K.type==="file")var pt=ky;else if(ke(K))if(My)pt=lA;else{pt=aA;var Ot=sA}else Y=K.nodeName,!Y||Y.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?$&&ul($.elementType)&&(pt=ky):pt=oA;if(pt&&(pt=pt(r,$))){Yr(nt,pt,a,Z);break t}Ot&&Ot(r,K,$),r==="focusout"&&$&&K.type==="number"&&$.memoizedProps.value!=null&&ki(K,"number",K.value)}switch(Ot=$?cr($):window,r){case"focusin":(ke(Ot)||Ot.contentEditable==="true")&&(Fa=Ot,hd=$,vl=null);break;case"focusout":vl=hd=Fa=null;break;case"mousedown":dd=!0;break;case"contextmenu":case"mouseup":case"dragend":dd=!1,qy(nt,a,Z);break;case"selectionchange":if(cA)break;case"keydown":case"keyup":qy(nt,a,Z)}var gt;if(yr)t:{switch(r){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Ut?X(r,a)&&(vt="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(v&&a.locale!=="ko"&&(Ut||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Ut&&(gt=fl()):(dr=Z,Mi="value"in dr?dr.value:dr.textContent,Ut=!0)),Ot=af($,vt),0<Ot.length&&(vt=new ml(vt,r,null,a,Z),nt.push({event:vt,listeners:Ot}),gt?vt.data=gt:(gt=ut(a),gt!==null&&(vt.data=gt)))),(gt=y?De(r,a):jt(r,a))&&(vt=af($,"onBeforeInput"),0<vt.length&&(Ot=new ml("onBeforeInput","beforeinput",null,a,Z),nt.push({event:Ot,listeners:vt}),Ot.data=gt)),$A(nt,r,$,a,Z)}hE(nt,i)})}function Kl(r,i,a){return{instance:r,listener:i,currentTarget:a}}function af(r,i){for(var a=i+"Capture",u=[];r!==null;){var h=r,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Us(r,a),h!=null&&u.unshift(Kl(r,h,m)),h=Us(r,i),h!=null&&u.push(Kl(r,h,m))),r.tag===3)return u;r=r.return}return[]}function po(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function mE(r,i,a,u,h){for(var m=i._reactName,E=[];a!==null&&a!==u;){var b=a,O=b.alternate,$=b.stateNode;if(b=b.tag,O!==null&&O===u)break;b!==5&&b!==26&&b!==27||$===null||(O=$,h?($=Us(a,m),$!=null&&E.unshift(Kl(a,$,O))):h||($=Us(a,m),$!=null&&E.push(Kl(a,$,O)))),a=a.return}E.length!==0&&r.push({event:i,listeners:E})}var XA=/\r\n?/g,WA=/\u0000|\uFFFD/g;function pE(r){return(typeof r=="string"?r:""+r).replace(XA,`
`).replace(WA,"")}function gE(r,i){return i=pE(i),pE(r)===i}function of(){}function ee(r,i,a,u,h,m){switch(a){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||xn(r,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&xn(r,""+u);break;case"className":fr(r,"class",u);break;case"tabIndex":fr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":fr(r,a,u);break;case"style":ll(r,u,m);break;case"data":if(i!=="object"){fr(r,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||a!=="href")){r.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(a);break}u=Va(""+u),r.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&ee(r,i,"name",h.name,h,null),ee(r,i,"formEncType",h.formEncType,h,null),ee(r,i,"formMethod",h.formMethod,h,null),ee(r,i,"formTarget",h.formTarget,h,null)):(ee(r,i,"encType",h.encType,h,null),ee(r,i,"method",h.method,h,null),ee(r,i,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(a);break}u=Va(""+u),r.setAttribute(a,u);break;case"onClick":u!=null&&(r.onclick=of);break;case"onScroll":u!=null&&kt("scroll",r);break;case"onScrollEnd":u!=null&&kt("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(s(60));r.innerHTML=a}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}a=Va(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(a,""+u):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":u===!0?r.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(a,u):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(a,u):r.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(a):r.setAttribute(a,u);break;case"popover":kt("beforetoggle",r),kt("toggle",r),Di(r,"popover",u);break;case"xlinkActuate":He(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":He(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":He(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":He(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":He(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":He(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":He(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":He(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":He(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Di(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=sd.get(a)||a,Di(r,a,u))}}function Pm(r,i,a,u,h,m){switch(a){case"style":ll(r,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(s(60));r.innerHTML=a}}break;case"children":typeof u=="string"?xn(r,u):(typeof u=="number"||typeof u=="bigint")&&xn(r,""+u);break;case"onScroll":u!=null&&kt("scroll",r);break;case"onScrollEnd":u!=null&&kt("scrollend",r);break;case"onClick":u!=null&&(r.onclick=of);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xa.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),m=r[we]||null,m=m!=null?m[a]:null,typeof m=="function"&&r.removeEventListener(i,m,h),typeof u=="function")){typeof m!="function"&&m!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(i,u,h);break t}a in r?r[a]=u:u===!0?r.setAttribute(a,""):Di(r,a,u)}}}function Ke(r,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",r),kt("load",r);var u=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var E=a[m];if(E!=null)switch(m){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ee(r,i,m,E,a,null)}}h&&ee(r,i,"srcSet",a.srcSet,a,null),u&&ee(r,i,"src",a.src,a,null);return;case"input":kt("invalid",r);var b=m=E=h=null,O=null,$=null;for(u in a)if(a.hasOwnProperty(u)){var Z=a[u];if(Z!=null)switch(u){case"name":h=Z;break;case"type":E=Z;break;case"checked":O=Z;break;case"defaultChecked":$=Z;break;case"value":m=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:ee(r,i,u,Z,a,null)}}Vs(r,m,b,O,$,E,h,!1),Ma(r);return;case"select":kt("invalid",r),u=E=m=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":m=b;break;case"defaultValue":E=b;break;case"multiple":u=b;default:ee(r,i,h,b,a,null)}i=m,a=E,r.multiple=!!u,i!=null?Hr(r,!!u,i,!1):a!=null&&Hr(r,!!u,a,!0);return;case"textarea":kt("invalid",r),m=h=u=null;for(E in a)if(a.hasOwnProperty(E)&&(b=a[E],b!=null))switch(E){case"value":u=b;break;case"defaultValue":h=b;break;case"children":m=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:ee(r,i,E,b,a,null)}Ps(r,u,h,m),Ma(r);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(u=a[O],u!=null))switch(O){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ee(r,i,O,u,a,null)}return;case"dialog":kt("beforetoggle",r),kt("toggle",r),kt("cancel",r),kt("close",r);break;case"iframe":case"object":kt("load",r);break;case"video":case"audio":for(u=0;u<$l.length;u++)kt($l[u],r);break;case"image":kt("error",r),kt("load",r);break;case"details":kt("toggle",r);break;case"embed":case"source":case"link":kt("error",r),kt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in a)if(a.hasOwnProperty($)&&(u=a[$],u!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ee(r,i,$,u,a,null)}return;default:if(ul(i)){for(Z in a)a.hasOwnProperty(Z)&&(u=a[Z],u!==void 0&&Pm(r,i,Z,u,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(u=a[b],u!=null&&ee(r,i,b,u,a,null))}function ZA(r,i,a,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,E=null,b=null,O=null,$=null,Z=null;for(Y in a){var nt=a[Y];if(a.hasOwnProperty(Y)&&nt!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":O=nt;default:u.hasOwnProperty(Y)||ee(r,i,Y,null,u,nt)}}for(var K in u){var Y=u[K];if(nt=a[K],u.hasOwnProperty(K)&&(Y!=null||nt!=null))switch(K){case"type":m=Y;break;case"name":h=Y;break;case"checked":$=Y;break;case"defaultChecked":Z=Y;break;case"value":E=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==nt&&ee(r,i,K,Y,u,nt)}}vn(r,E,b,O,$,Z,m,h);return;case"select":Y=E=b=K=null;for(m in a)if(O=a[m],a.hasOwnProperty(m)&&O!=null)switch(m){case"value":break;case"multiple":Y=O;default:u.hasOwnProperty(m)||ee(r,i,m,null,u,O)}for(h in u)if(m=u[h],O=a[h],u.hasOwnProperty(h)&&(m!=null||O!=null))switch(h){case"value":K=m;break;case"defaultValue":b=m;break;case"multiple":E=m;default:m!==O&&ee(r,i,h,m,u,O)}i=b,a=E,u=Y,K!=null?Hr(r,!!a,K,!1):!!u!=!!a&&(i!=null?Hr(r,!!a,i,!0):Hr(r,!!a,a?[]:"",!1));return;case"textarea":Y=K=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ee(r,i,b,null,u,h)}for(E in u)if(h=u[E],m=a[E],u.hasOwnProperty(E)&&(h!=null||m!=null))switch(E){case"value":K=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&ee(r,i,E,h,u,m)}Jt(r,K,Y);return;case"option":for(var wt in a)if(K=a[wt],a.hasOwnProperty(wt)&&K!=null&&!u.hasOwnProperty(wt))switch(wt){case"selected":r.selected=!1;break;default:ee(r,i,wt,null,u,K)}for(O in u)if(K=u[O],Y=a[O],u.hasOwnProperty(O)&&K!==Y&&(K!=null||Y!=null))switch(O){case"selected":r.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:ee(r,i,O,K,u,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)K=a[_t],a.hasOwnProperty(_t)&&K!=null&&!u.hasOwnProperty(_t)&&ee(r,i,_t,null,u,K);for($ in u)if(K=u[$],Y=a[$],u.hasOwnProperty($)&&K!==Y&&(K!=null||Y!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:ee(r,i,$,K,u,Y)}return;default:if(ul(i)){for(var ne in a)K=a[ne],a.hasOwnProperty(ne)&&K!==void 0&&!u.hasOwnProperty(ne)&&Pm(r,i,ne,void 0,u,K);for(Z in u)K=u[Z],Y=a[Z],!u.hasOwnProperty(Z)||K===Y||K===void 0&&Y===void 0||Pm(r,i,Z,K,u,Y);return}}for(var B in a)K=a[B],a.hasOwnProperty(B)&&K!=null&&!u.hasOwnProperty(B)&&ee(r,i,B,null,u,K);for(nt in u)K=u[nt],Y=a[nt],!u.hasOwnProperty(nt)||K===Y||K==null&&Y==null||ee(r,i,nt,K,u,Y)}var Lm=null,Um=null;function lf(r){return r.nodeType===9?r:r.ownerDocument}function yE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _E(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function jm(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Bm=null;function JA(){var r=window.event;return r&&r.type==="popstate"?r===Bm?!1:(Bm=r,!0):(Bm=null,!1)}var vE=typeof setTimeout=="function"?setTimeout:void 0,tR=typeof clearTimeout=="function"?clearTimeout:void 0,EE=typeof Promise=="function"?Promise:void 0,eR=typeof queueMicrotask=="function"?queueMicrotask:typeof EE<"u"?function(r){return EE.resolve(null).then(r).catch(nR)}:vE;function nR(r){setTimeout(function(){throw r})}function Xi(r){return r==="head"}function TE(r,i){var a=i,u=0,h=0;do{var m=a.nextSibling;if(r.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<u&&8>u){a=u;var E=r.ownerDocument;if(a&1&&Ql(E.documentElement),a&2&&Ql(E.body),a&4)for(a=E.head,Ql(a),E=a.firstChild;E;){var b=E.nextSibling,O=E.nodeName;E[Os]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=b}}if(h===0){r.removeChild(m),nu(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:u=a.charCodeAt(0)-48;else u=0;a=m}while(a);nu(i)}function zm(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":zm(a),Oi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function rR(r,i,a,u){for(;r.nodeType===1;){var h=a;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Os])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=Zn(r.nextSibling),r===null)break}return null}function iR(r,i,a){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Zn(r.nextSibling),r===null))return null;return r}function qm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function sR(r,i){var a=r.ownerDocument;if(r.data!=="$?"||a.readyState==="complete")i();else{var u=function(){i(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Zn(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var Hm=null;function bE(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}function wE(r,i,a){switch(i=lf(a),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function Ql(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Oi(r)}var Bn=new Map,SE=new Set;function uf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var li=ot.d;ot.d={f:aR,r:oR,D:lR,C:uR,L:cR,m:fR,X:dR,S:hR,M:mR};function aR(){var r=li.f(),i=Jc();return r||i}function oR(r){var i=ur(r);i!==null&&i.tag===5&&i.type==="form"?F_(i):li.r(r)}var go=typeof document>"u"?null:document;function AE(r,i,a){var u=go;if(u&&typeof i=="string"&&i){var h=Se(i);h='link[rel="'+r+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),SE.has(h)||(SE.add(h),r={rel:r,crossOrigin:a,href:i},u.querySelector(h)===null&&(i=u.createElement("link"),Ke(i,"link",r),_e(i),u.head.appendChild(i)))}}function lR(r){li.D(r),AE("dns-prefetch",r,null)}function uR(r,i){li.C(r,i),AE("preconnect",r,i)}function cR(r,i,a){li.L(r,i,a);var u=go;if(u&&r&&i){var h='link[rel="preload"][as="'+Se(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Se(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Se(a.imageSizes)+'"]')):h+='[href="'+Se(r)+'"]';var m=h;switch(i){case"style":m=yo(r);break;case"script":m=_o(r)}Bn.has(m)||(r=_({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:r,as:i},a),Bn.set(m,r),u.querySelector(h)!==null||i==="style"&&u.querySelector(Yl(m))||i==="script"&&u.querySelector(Xl(m))||(i=u.createElement("link"),Ke(i,"link",r),_e(i),u.head.appendChild(i)))}}function fR(r,i){li.m(r,i);var a=go;if(a&&r){var u=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Se(u)+'"][href="'+Se(r)+'"]',m=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=_o(r)}if(!Bn.has(m)&&(r=_({rel:"modulepreload",href:r},i),Bn.set(m,r),a.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Xl(m)))return}u=a.createElement("link"),Ke(u,"link",r),_e(u),a.head.appendChild(u)}}}function hR(r,i,a){li.S(r,i,a);var u=go;if(u&&r){var h=an(u).hoistableStyles,m=yo(r);i=i||"default";var E=h.get(m);if(!E){var b={loading:0,preload:null};if(E=u.querySelector(Yl(m)))b.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":i},a),(a=Bn.get(m))&&Fm(r,a);var O=E=u.createElement("link");_e(O),Ke(O,"link",r),O._p=new Promise(function($,Z){O.onload=$,O.onerror=Z}),O.addEventListener("load",function(){b.loading|=1}),O.addEventListener("error",function(){b.loading|=2}),b.loading|=4,cf(E,i,u)}E={type:"stylesheet",instance:E,count:1,state:b},h.set(m,E)}}}function dR(r,i){li.X(r,i);var a=go;if(a&&r){var u=an(a).hoistableScripts,h=_o(r),m=u.get(h);m||(m=a.querySelector(Xl(h)),m||(r=_({src:r,async:!0},i),(i=Bn.get(h))&&Gm(r,i),m=a.createElement("script"),_e(m),Ke(m,"link",r),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function mR(r,i){li.M(r,i);var a=go;if(a&&r){var u=an(a).hoistableScripts,h=_o(r),m=u.get(h);m||(m=a.querySelector(Xl(h)),m||(r=_({src:r,async:!0,type:"module"},i),(i=Bn.get(h))&&Gm(r,i),m=a.createElement("script"),_e(m),Ke(m,"link",r),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function RE(r,i,a,u){var h=(h=bt.current)?uf(h):null;if(!h)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=yo(a.href),a=an(h).hoistableStyles,u=a.get(i),u||(u={type:"style",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=yo(a.href);var m=an(h).hoistableStyles,E=m.get(r);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,E),(m=h.querySelector(Yl(r)))&&!m._p&&(E.instance=m,E.state.loading=5),Bn.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(r,a),m||pR(h,r,a,E.state))),i&&u===null)throw Error(s(528,""));return E}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=_o(a),a=an(h).hoistableScripts,u=a.get(i),u||(u={type:"script",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function yo(r){return'href="'+Se(r)+'"'}function Yl(r){return'link[rel="stylesheet"]['+r+"]"}function CE(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function pR(r,i,a,u){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=r.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Ke(i,"link",a),_e(i),r.head.appendChild(i))}function _o(r){return'[src="'+Se(r)+'"]'}function Xl(r){return"script[async]"+r}function IE(r,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var u=r.querySelector('style[data-href~="'+Se(a.href)+'"]');if(u)return i.instance=u,_e(u),u;var h=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),_e(u),Ke(u,"style",h),cf(u,a.precedence,r),i.instance=u;case"stylesheet":h=yo(a.href);var m=r.querySelector(Yl(h));if(m)return i.state.loading|=4,i.instance=m,_e(m),m;u=CE(a),(h=Bn.get(h))&&Fm(u,h),m=(r.ownerDocument||r).createElement("link"),_e(m);var E=m;return E._p=new Promise(function(b,O){E.onload=b,E.onerror=O}),Ke(m,"link",u),i.state.loading|=4,cf(m,a.precedence,r),i.instance=m;case"script":return m=_o(a.src),(h=r.querySelector(Xl(m)))?(i.instance=h,_e(h),h):(u=a,(h=Bn.get(m))&&(u=_({},a),Gm(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),_e(h),Ke(h,"link",u),r.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,cf(u,a.precedence,r));return i.instance}function cf(r,i,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,m=h,E=0;E<u.length;E++){var b=u[E];if(b.dataset.precedence===i)m=b;else if(m!==h)break}m?m.parentNode.insertBefore(r,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(r,i.firstChild))}function Fm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Gm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var ff=null;function NE(r,i,a){if(ff===null){var u=new Map,h=ff=new Map;h.set(a,u)}else h=ff,u=h.get(a),u||(u=new Map,h.set(a,u));if(u.has(r))return u;for(u.set(r,null),a=a.getElementsByTagName(r),h=0;h<a.length;h++){var m=a[h];if(!(m[Os]||m[Oe]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(i)||"";E=r+E;var b=u.get(E);b?b.push(m):u.set(E,[m])}}return u}function xE(r,i,a){r=r.ownerDocument||r,r.head.insertBefore(a,i==="title"?r.querySelector("head > title"):null)}function gR(r,i,a){if(a===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function OE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Wl=null;function yR(){}function _R(r,i,a){if(Wl===null)throw Error(s(475));var u=Wl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=yo(a.href),m=r.querySelector(Yl(h));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=hf.bind(u),r.then(u,u)),i.state.loading|=4,i.instance=m,_e(m);return}m=r.ownerDocument||r,a=CE(a),(h=Bn.get(h))&&Fm(a,h),m=m.createElement("link"),_e(m);var E=m;E._p=new Promise(function(b,O){E.onload=b,E.onerror=O}),Ke(m,"link",a),i.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=hf.bind(u),r.addEventListener("load",i),r.addEventListener("error",i))}}function vR(){if(Wl===null)throw Error(s(475));var r=Wl;return r.stylesheets&&r.count===0&&$m(r,r.stylesheets),0<r.count?function(i){var a=setTimeout(function(){if(r.stylesheets&&$m(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(a)}}:null}function hf(){if(this.count--,this.count===0){if(this.stylesheets)$m(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var df=null;function $m(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,df=new Map,i.forEach(ER,r),df=null,hf.call(r))}function ER(r,i){if(!(i.state.loading&4)){var a=df.get(r);if(a)var u=a.get(null);else{a=new Map,df.set(r,a);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var E=h[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),u=E)}u&&a.set(null,u)}h=i.instance,E=h.getAttribute("data-precedence"),m=a.get(E)||u,m===u&&a.set(null,h),a.set(E,h),this.count++,u=hf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),m?m.parentNode.insertBefore(h,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),i.state.loading|=4}}var Zl={$$typeof:F,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function TR(r,i,a,u,h,m,E,b){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ur(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ur(0),this.hiddenUpdates=Ur(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function DE(r,i,a,u,h,m,E,b,O,$,Z,nt){return r=new TR(r,i,a,E,b,O,$,nt),i=1,m===!0&&(i|=24),m=Tn(3,null,null,i),r.current=m,m.stateNode=r,i=Cd(),i.refCount++,r.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:a,cache:i},Od(m),r}function kE(r){return r?(r=Qa,r):Qa}function ME(r,i,a,u,h,m){h=kE(h),u.context===null?u.context=h:u.pendingContext=h,u=Li(i),u.payload={element:a},m=m===void 0?null:m,m!==null&&(u.callback=m),a=Ui(r,u,i),a!==null&&(Rn(a,r,i),Il(a,r,i))}function VE(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function Km(r,i){VE(r,i),(r=r.alternate)&&VE(r,i)}function PE(r){if(r.tag===13){var i=Ka(r,67108864);i!==null&&Rn(i,r,67108864),Km(r,67108864)}}var mf=!0;function bR(r,i,a,u){var h=W.T;W.T=null;var m=ot.p;try{ot.p=2,Qm(r,i,a,u)}finally{ot.p=m,W.T=h}}function wR(r,i,a,u){var h=W.T;W.T=null;var m=ot.p;try{ot.p=8,Qm(r,i,a,u)}finally{ot.p=m,W.T=h}}function Qm(r,i,a,u){if(mf){var h=Ym(u);if(h===null)Vm(r,i,u,pf,a),UE(r,u);else if(AR(h,r,i,a,u))u.stopPropagation();else if(UE(r,u),i&4&&-1<SR.indexOf(r)){for(;h!==null;){var m=ur(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=Kn(m.pendingLanes);if(E!==0){var b=m;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var O=1<<31-Ze(E);b.entanglements[1]|=O,E&=~O}wr(m),(Xt&6)===0&&(Wc=We()+500,Gl(0))}}break;case 13:b=Ka(m,2),b!==null&&Rn(b,m,2),Jc(),Km(m,2)}if(m=Ym(u),m===null&&Vm(r,i,u,pf,a),m===h)break;h=m}h!==null&&u.stopPropagation()}else Vm(r,i,u,null,a)}}function Ym(r){return r=On(r),Xm(r)}var pf=null;function Xm(r){if(pf=null,r=Br(r),r!==null){var i=l(r);if(i===null)r=null;else{var a=i.tag;if(a===13){if(r=c(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return pf=r,null}function LE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jh()){case Xo:return 2;case Ra:return 8;case Rs:case td:return 32;case Ca:return 268435456;default:return 32}default:return 32}}var Wm=!1,Wi=null,Zi=null,Ji=null,Jl=new Map,tu=new Map,ts=[],SR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function UE(r,i){switch(r){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":Jl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(i.pointerId)}}function eu(r,i,a,u,h,m){return r===null||r.nativeEvent!==m?(r={blockedOn:i,domEventName:a,eventSystemFlags:u,nativeEvent:m,targetContainers:[h]},i!==null&&(i=ur(i),i!==null&&PE(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),r)}function AR(r,i,a,u,h){switch(i){case"focusin":return Wi=eu(Wi,r,i,a,u,h),!0;case"dragenter":return Zi=eu(Zi,r,i,a,u,h),!0;case"mouseover":return Ji=eu(Ji,r,i,a,u,h),!0;case"pointerover":var m=h.pointerId;return Jl.set(m,eu(Jl.get(m)||null,r,i,a,u,h)),!0;case"gotpointercapture":return m=h.pointerId,tu.set(m,eu(tu.get(m)||null,r,i,a,u,h)),!0}return!1}function jE(r){var i=Br(r.target);if(i!==null){var a=l(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){r.blockedOn=i,Ju(r.priority,function(){if(a.tag===13){var u=An();u=Ii(u);var h=Ka(a,u);h!==null&&Rn(h,a,u),Km(a,u)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function gf(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=Ym(r.nativeEvent);if(a===null){a=r.nativeEvent;var u=new a.constructor(a.type,a);Fr=u,a.target.dispatchEvent(u),Fr=null}else return i=ur(a),i!==null&&PE(i),r.blockedOn=a,!1;i.shift()}return!0}function BE(r,i,a){gf(r)&&a.delete(i)}function RR(){Wm=!1,Wi!==null&&gf(Wi)&&(Wi=null),Zi!==null&&gf(Zi)&&(Zi=null),Ji!==null&&gf(Ji)&&(Ji=null),Jl.forEach(BE),tu.forEach(BE)}function yf(r,i){r.blockedOn===i&&(r.blockedOn=null,Wm||(Wm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,RR)))}var _f=null;function zE(r){_f!==r&&(_f=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){_f===r&&(_f=null);for(var i=0;i<r.length;i+=3){var a=r[i],u=r[i+1],h=r[i+2];if(typeof u!="function"){if(Xm(u||a)===null)continue;break}var m=ur(a);m!==null&&(r.splice(i,3),i-=3,Xd(m,{pending:!0,data:h,method:a.method,action:u},u,h))}}))}function nu(r){function i(O){return yf(O,r)}Wi!==null&&yf(Wi,r),Zi!==null&&yf(Zi,r),Ji!==null&&yf(Ji,r),Jl.forEach(i),tu.forEach(i);for(var a=0;a<ts.length;a++){var u=ts[a];u.blockedOn===r&&(u.blockedOn=null)}for(;0<ts.length&&(a=ts[0],a.blockedOn===null);)jE(a),a.blockedOn===null&&ts.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var h=a[u],m=a[u+1],E=h[we]||null;if(typeof m=="function")E||zE(a);else if(E){var b=null;if(m&&m.hasAttribute("formAction")){if(h=m,E=m[we]||null)b=E.formAction;else if(Xm(h)!==null)continue}else b=E.action;typeof b=="function"?a[u+1]=b:(a.splice(u,3),u-=3),zE(a)}}}function Zm(r){this._internalRoot=r}vf.prototype.render=Zm.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,u=An();ME(a,u,r,i,null,null)},vf.prototype.unmount=Zm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;ME(r.current,2,null,r,null,null),Jc(),i[Nn]=null}};function vf(r){this._internalRoot=r}vf.prototype.unstable_scheduleHydration=function(r){if(r){var i=Ni();r={blockedOn:null,target:r,priority:i};for(var a=0;a<ts.length&&i!==0&&i<ts[a].priority;a++);ts.splice(a,0,r),a===0&&jE(r)}};var qE=t.version;if(qE!=="19.1.1")throw Error(s(527,qE,"19.1.1"));ot.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=p(i),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var CR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ef.isDisabled&&Ef.supportsFiber)try{pe=Ef.inject(CR),Yt=Ef}catch{}}return iu.createRoot=function(r,i){if(!o(r))throw Error(s(299));var a=!1,u="",h=iv,m=sv,E=av,b=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=DE(r,1,!1,null,null,a,u,h,m,E,b,null),r[Nn]=i.current,Mm(r),new Zm(i)},iu.hydrateRoot=function(r,i,a){if(!o(r))throw Error(s(299));var u=!1,h="",m=iv,E=sv,b=av,O=null,$=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks),a.formState!==void 0&&($=a.formState)),i=DE(r,1,!0,i,a??null,u,h,m,E,b,O,$),i.context=kE(null),a=i.current,u=An(),u=Ii(u),h=Li(u),h.callback=null,Ui(a,h,u),a=u,i.current.lanes=a,jr(i,a),wr(i),r[Nn]=i.current,Mm(r),new vf(i)},iu.version="19.1.1",iu}var ZE;function PR(){if(ZE)return ep.exports;ZE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),ep.exports=VR(),ep.exports}var LR=PR();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var JE="popstate";function UR(n={}){function t(o,l){let{pathname:c="/",search:d="",hash:p=""}=va(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Op("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function e(o,l){let c=o.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");d=g===-1?p:p.slice(0,g)}return d+"#"+(typeof l=="string"?l:Tu(l))}function s(o,l){Hn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return BR(t,e,s,n)}function he(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Hn(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jR(){return Math.random().toString(36).substring(2,10)}function tT(n,t){return{usr:n.state,key:n.key,idx:t}}function Op(n,t,e=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?va(t):t,state:e,key:t&&t.key||s||jR()}}function Tu({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function va(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let s=n.indexOf("?");s>=0&&(t.search=n.substring(s),n=n.substring(0,s)),n&&(t.pathname=n)}return t}function BR(n,t,e,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,d="POP",p=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function T(){d="POP";let k=_(),Q=k==null?null:k-g;g=k,p&&p({action:d,location:z.location,delta:Q})}function w(k,Q){d="PUSH";let q=Op(z.location,k,Q);e&&e(q,k),g=_()+1;let F=tT(q,g),tt=z.createHref(q);try{c.pushState(F,"",tt)}catch(st){if(st instanceof DOMException&&st.name==="DataCloneError")throw st;o.location.assign(tt)}l&&p&&p({action:d,location:z.location,delta:1})}function C(k,Q){d="REPLACE";let q=Op(z.location,k,Q);e&&e(q,k),g=_();let F=tT(q,g),tt=z.createHref(q);c.replaceState(F,"",tt),l&&p&&p({action:d,location:z.location,delta:0})}function M(k){return zR(k)}let z={get action(){return d},get location(){return n(o,c)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(JE,T),p=k,()=>{o.removeEventListener(JE,T),p=null}},createHref(k){return t(o,k)},createURL:M,encodeLocation(k){let Q=M(k);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:w,replace:C,go(k){return c.go(k)}};return z}function zR(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),he(e,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:Tu(n);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=e+s),new URL(s,e)}function sb(n,t,e="/"){return qR(n,t,e,!1)}function qR(n,t,e,s){let o=typeof t=="string"?va(t):t,l=Ei(o.pathname||"/",e);if(l==null)return null;let c=ab(n);HR(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=tC(l);d=ZR(c[p],g,s)}return d}function ab(n,t=[],e=[],s="",o=!1){let l=(c,d,p=o,g)=>{let _={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&p)return;he(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let T=pi([s,_.relativePath]),w=e.concat(_);c.children&&c.children.length>0&&(he(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),ab(c.children,t,w,T,p)),!(c.path==null&&!c.index)&&t.push({path:T,score:XR(T,c.index),routesMeta:w})};return n.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let p of ob(c.path))l(c,d,!0,p)}),t}function ob(n){let t=n.split("/");if(t.length===0)return[];let[e,...s]=t,o=e.endsWith("?"),l=e.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=ob(s.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function HR(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:WR(t.routesMeta.map(s=>s.childrenIndex),e.routesMeta.map(s=>s.childrenIndex)))}var FR=/^:[\w-]+$/,GR=3,$R=2,KR=1,QR=10,YR=-2,eT=n=>n==="*";function XR(n,t){let e=n.split("/"),s=e.length;return e.some(eT)&&(s+=YR),t&&(s+=$R),e.filter(o=>!eT(o)).reduce((o,l)=>o+(FR.test(l)?GR:l===""?KR:QR),s)}function WR(n,t){return n.length===t.length&&n.slice(0,-1).every((s,o)=>s===t[o])?n[n.length-1]-t[t.length-1]:0}function ZR(n,t,e=!1){let{routesMeta:s}=n,o={},l="/",c=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,_=l==="/"?t:t.slice(l.length)||"/",T=Gf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),w=p.route;if(!T&&g&&e&&!s[s.length-1].route.index&&(T=Gf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:pi([l,T.pathname]),pathnameBase:iC(pi([l,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(l=pi([l,T.pathnameBase]))}return c}function Gf(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,s]=JR(n.path,n.caseSensitive,n.end),o=t.match(e);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:T},w)=>{if(_==="*"){let M=d[w]||"";c=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const C=d[w];return T&&!C?g[_]=void 0:g[_]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function JR(n,t=!1,e=!0){Hn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function tC(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Ei(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,s=n.charAt(e);return s&&s!=="/"?null:n.slice(e)||"/"}function eC(n,t="/"){let{pathname:e,search:s="",hash:o=""}=typeof n=="string"?va(n):n;return{pathname:e?e.startsWith("/")?e:nC(e,t):t,search:sC(s),hash:aC(o)}}function nC(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?e.length>1&&e.pop():o!=="."&&e.push(o)}),e.length>1?e.join("/"):"/"}function sp(n,t,e,s){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rC(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function gg(n){let t=rC(n);return t.map((e,s)=>s===t.length-1?e.pathname:e.pathnameBase)}function yg(n,t,e,s=!1){let o;typeof n=="string"?o=va(n):(o={...n},he(!o.pathname||!o.pathname.includes("?"),sp("?","pathname","search",o)),he(!o.pathname||!o.pathname.includes("#"),sp("#","pathname","hash",o)),he(!o.search||!o.search.includes("#"),sp("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=e;else{let T=t.length-1;if(!s&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}d=T>=0?t[T]:"/"}let p=eC(o,d),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&e.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var pi=n=>n.join("/").replace(/\/\/+/g,"/"),iC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),sC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,aC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function oC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var lb=["POST","PUT","PATCH","DELETE"];new Set(lb);var lC=["GET",...lb];new Set(lC);var jo=S.createContext(null);jo.displayName="DataRouter";var vh=S.createContext(null);vh.displayName="DataRouterState";S.createContext(!1);var ub=S.createContext({isTransitioning:!1});ub.displayName="ViewTransition";var uC=S.createContext(new Map);uC.displayName="Fetchers";var cC=S.createContext(null);cC.displayName="Await";var sr=S.createContext(null);sr.displayName="Navigation";var Mu=S.createContext(null);Mu.displayName="Location";var ar=S.createContext({outlet:null,matches:[],isDataRoute:!1});ar.displayName="Route";var _g=S.createContext(null);_g.displayName="RouteError";function fC(n,{relative:t}={}){he(Bo(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:s}=S.useContext(sr),{hash:o,pathname:l,search:c}=Vu(n,{relative:t}),d=l;return e!=="/"&&(d=l==="/"?e:pi([e,l])),s.createHref({pathname:d,search:c,hash:o})}function Bo(){return S.useContext(Mu)!=null}function Es(){return he(Bo(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Mu).location}var cb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fb(n){S.useContext(sr).static||S.useLayoutEffect(n)}function Ts(){let{isDataRoute:n}=S.useContext(ar);return n?SC():hC()}function hC(){he(Bo(),"useNavigate() may be used only in the context of a <Router> component.");let n=S.useContext(jo),{basename:t,navigator:e}=S.useContext(sr),{matches:s}=S.useContext(ar),{pathname:o}=Es(),l=JSON.stringify(gg(s)),c=S.useRef(!1);return fb(()=>{c.current=!0}),S.useCallback((p,g={})=>{if(Hn(c.current,cb),!c.current)return;if(typeof p=="number"){e.go(p);return}let _=yg(p,JSON.parse(l),o,g.relative==="path");n==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:pi([t,_.pathname])),(g.replace?e.replace:e.push)(_,g.state,g)},[t,e,l,o,n])}S.createContext(null);function Eh(){let{matches:n}=S.useContext(ar),t=n[n.length-1];return t?t.params:{}}function Vu(n,{relative:t}={}){let{matches:e}=S.useContext(ar),{pathname:s}=Es(),o=JSON.stringify(gg(e));return S.useMemo(()=>yg(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function dC(n,t){return hb(n,t)}function hb(n,t,e,s,o){he(Bo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=S.useContext(sr),{matches:c}=S.useContext(ar),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",T=d&&d.route;{let q=T&&T.path||"";db(g,!T||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let w=Es(),C;if(t){let q=typeof t=="string"?va(t):t;he(_==="/"||q.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${q.pathname}" was given in the \`location\` prop.`),C=q}else C=w;let M=C.pathname||"/",z=M;if(_!=="/"){let q=_.replace(/^\//,"").split("/");z="/"+M.replace(/^\//,"").split("/").slice(q.length).join("/")}let k=sb(n,{pathname:z});Hn(T||k!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Hn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=_C(k&&k.map(q=>Object.assign({},q,{params:Object.assign({},p,q.params),pathname:pi([_,l.encodeLocation?l.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?_:pi([_,l.encodeLocation?l.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),c,e,s,o);return t&&Q?S.createElement(Mu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},Q):Q}function mC(){let n=wC(),t=oC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),e?S.createElement("pre",{style:o},e):null,c)}var pC=S.createElement(mC,null),gC=class extends S.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.unstable_onError?this.props.unstable_onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?S.createElement(ar.Provider,{value:this.props.routeContext},S.createElement(_g.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yC({routeContext:n,match:t,children:e}){let s=S.useContext(jo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(ar.Provider,{value:n},e)}function _C(n,t=[],e=null,s=null,o=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let l=n,c=e?.errors;if(c!=null){let g=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);he(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let d=!1,p=-1;if(e)for(let g=0;g<l.length;g++){let _=l[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:T,errors:w}=e,C=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||C){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,_,T)=>{let w,C=!1,M=null,z=null;e&&(w=c&&_.route.id?c[_.route.id]:void 0,M=_.route.errorElement||pC,d&&(p<0&&T===0?(db("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,z=null):p===T&&(C=!0,z=_.route.hydrateFallbackElement||null)));let k=t.concat(l.slice(0,T+1)),Q=()=>{let q;return w?q=M:C?q=z:_.route.Component?q=S.createElement(_.route.Component,null):_.route.element?q=_.route.element:q=g,S.createElement(yC,{match:_,routeContext:{outlet:g,matches:k,isDataRoute:e!=null},children:q})};return e&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?S.createElement(gC,{location:e.location,revalidation:e.revalidation,component:M,error:w,children:Q(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:s}):Q()},null)}function vg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vC(n){let t=S.useContext(jo);return he(t,vg(n)),t}function EC(n){let t=S.useContext(vh);return he(t,vg(n)),t}function TC(n){let t=S.useContext(ar);return he(t,vg(n)),t}function Eg(n){let t=TC(n),e=t.matches[t.matches.length-1];return he(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function bC(){return Eg("useRouteId")}function wC(){let n=S.useContext(_g),t=EC("useRouteError"),e=Eg("useRouteError");return n!==void 0?n:t.errors?.[e]}function SC(){let{router:n}=vC("useNavigate"),t=Eg("useNavigate"),e=S.useRef(!1);return fb(()=>{e.current=!0}),S.useCallback(async(o,l={})=>{Hn(e.current,cb),e.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:t,...l}))},[n,t])}var nT={};function db(n,t,e){!t&&!nT[n]&&(nT[n]=!0,Hn(!1,e))}S.memo(AC);function AC({routes:n,future:t,state:e,unstable_onError:s}){return hb(n,void 0,e,s,t)}function RC({to:n,replace:t,state:e,relative:s}){he(Bo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=S.useContext(sr);Hn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=S.useContext(ar),{pathname:c}=Es(),d=Ts(),p=yg(n,gg(l),c,s==="path"),g=JSON.stringify(p);return S.useEffect(()=>{d(JSON.parse(g),{replace:t,state:e,relative:s})},[d,g,s,t,e]),null}function ui(n){he(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CC({basename:n="/",children:t=null,location:e,navigationType:s="POP",navigator:o,static:l=!1}){he(!Bo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=S.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof e=="string"&&(e=va(e));let{pathname:p="/",search:g="",hash:_="",state:T=null,key:w="default"}=e,C=S.useMemo(()=>{let M=Ei(p,c);return M==null?null:{location:{pathname:M,search:g,hash:_,state:T,key:w},navigationType:s}},[c,p,g,_,T,w,s]);return Hn(C!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:S.createElement(sr.Provider,{value:d},S.createElement(Mu.Provider,{children:t,value:C}))}function IC({children:n,location:t}){return dC(Dp(n),t)}function Dp(n,t=[]){let e=[];return S.Children.forEach(n,(s,o)=>{if(!S.isValidElement(s))return;let l=[...t,o];if(s.type===S.Fragment){e.push.apply(e,Dp(s.props.children,l));return}he(s.type===ui,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),he(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Dp(s.props.children,l)),e.push(c)}),e}var kf="get",Mf="application/x-www-form-urlencoded";function Th(n){return n!=null&&typeof n.tagName=="string"}function NC(n){return Th(n)&&n.tagName.toLowerCase()==="button"}function xC(n){return Th(n)&&n.tagName.toLowerCase()==="form"}function OC(n){return Th(n)&&n.tagName.toLowerCase()==="input"}function DC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function kC(n,t){return n.button===0&&(!t||t==="_self")&&!DC(n)}var Tf=null;function MC(){if(Tf===null)try{new FormData(document.createElement("form"),0),Tf=!1}catch{Tf=!0}return Tf}var VC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ap(n){return n!=null&&!VC.has(n)?(Hn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mf}"`),null):n}function PC(n,t){let e,s,o,l,c;if(xC(n)){let d=n.getAttribute("action");s=d?Ei(d,t):null,e=n.getAttribute("method")||kf,o=ap(n.getAttribute("enctype"))||Mf,l=new FormData(n)}else if(NC(n)||OC(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(s=p?Ei(p,t):null,e=n.getAttribute("formmethod")||d.getAttribute("method")||kf,o=ap(n.getAttribute("formenctype"))||ap(d.getAttribute("enctype"))||Mf,l=new FormData(d,n),!MC()){let{name:g,type:_,value:T}=n;if(_==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,T)}}else{if(Th(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=kf,s=null,o=Mf,c=n}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:e.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tg(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function LC(n,t,e){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${e}`:t&&Ei(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${e}`,s}async function UC(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function BC(n,t,e){let s=await Promise.all(n.map(async o=>{let l=t.routes[o.route.id];if(l){let c=await UC(l,e);return c.links?c.links():[]}return[]}));return FC(s.flat(1).filter(jC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function rT(n,t,e,s,o,l){let c=(p,g)=>e[g]?p.route.id!==e[g].route.id:!0,d=(p,g)=>e[g].pathname!==p.pathname||e[g].route.path?.endsWith("*")&&e[g].params["*"]!==p.params["*"];return l==="assets"?t.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?t.filter((p,g)=>{let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function zC(n,t,{includeHydrateFallback:e}={}){return qC(n.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),e&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function qC(n){return[...new Set(n)]}function HC(n){let t={},e=Object.keys(n).sort();for(let s of e)t[s]=n[s];return t}function FC(n,t){let e=new Set;return new Set(t),n.reduce((s,o)=>{let l=JSON.stringify(HC(o));return e.has(l)||(e.add(l),s.push({key:l,link:o})),s},[])}function mb(){let n=S.useContext(jo);return Tg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function GC(){let n=S.useContext(vh);return Tg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var bg=S.createContext(void 0);bg.displayName="FrameworkContext";function pb(){let n=S.useContext(bg);return Tg(n,"You must render this element inside a <HydratedRouter> element"),n}function $C(n,t){let e=S.useContext(bg),[s,o]=S.useState(!1),[l,c]=S.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=t,w=S.useRef(null);S.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let z=Q=>{Q.forEach(q=>{c(q.isIntersecting)})},k=new IntersectionObserver(z,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[n]),S.useEffect(()=>{if(s){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[s]);let C=()=>{o(!0)},M=()=>{o(!1),c(!1)};return e?n!=="intent"?[l,w,{}]:[l,w,{onFocus:su(d,C),onBlur:su(p,M),onMouseEnter:su(g,C),onMouseLeave:su(_,M),onTouchStart:su(T,C)}]:[!1,w,{}]}function su(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function KC({page:n,...t}){let{router:e}=mb(),s=S.useMemo(()=>sb(e.routes,n,e.basename),[e.routes,n,e.basename]);return s?S.createElement(YC,{page:n,matches:s,...t}):null}function QC(n){let{manifest:t,routeModules:e}=pb(),[s,o]=S.useState([]);return S.useEffect(()=>{let l=!1;return BC(n,t,e).then(c=>{l||o(c)}),()=>{l=!0}},[n,t,e]),s}function YC({page:n,matches:t,...e}){let s=Es(),{manifest:o,routeModules:l}=pb(),{basename:c}=mb(),{loaderData:d,matches:p}=GC(),g=S.useMemo(()=>rT(n,t,p,o,s,"data"),[n,t,p,o,s]),_=S.useMemo(()=>rT(n,t,p,o,s,"assets"),[n,t,p,o,s]),T=S.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let M=new Set,z=!1;if(t.forEach(Q=>{let q=o.routes[Q.route.id];!q||!q.hasLoader||(!g.some(F=>F.route.id===Q.route.id)&&Q.route.id in d&&l[Q.route.id]?.shouldRevalidate||q.hasClientLoader?z=!0:M.add(Q.route.id))}),M.size===0)return[];let k=LC(n,c,"data");return z&&M.size>0&&k.searchParams.set("_routes",t.filter(Q=>M.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[k.pathname+k.search]},[c,d,s,o,g,t,n,l]),w=S.useMemo(()=>zC(_,o),[_,o]),C=QC(_);return S.createElement(S.Fragment,null,T.map(M=>S.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...e})),w.map(M=>S.createElement("link",{key:M,rel:"modulepreload",href:M,...e})),C.map(({key:M,link:z})=>S.createElement("link",{key:M,nonce:e.nonce,...z})))}function XC(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var gb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gb&&(window.__reactRouterVersion="7.8.2")}catch{}function WC({basename:n,children:t,window:e}){let s=S.useRef();s.current==null&&(s.current=UR({window:e,v5Compat:!0}));let o=s.current,[l,c]=S.useState({action:o.action,location:o.location}),d=S.useCallback(p=>{S.startTransition(()=>c(p))},[c]);return S.useLayoutEffect(()=>o.listen(d),[o,d]),S.createElement(CC,{basename:n,children:t,location:l.location,navigationType:l.action,navigator:o})}var yb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ro=S.forwardRef(function({onClick:t,discover:e="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:_,viewTransition:T,...w},C){let{basename:M}=S.useContext(sr),z=typeof g=="string"&&yb.test(g),k,Q=!1;if(typeof g=="string"&&z&&(k=g,gb))try{let I=new URL(window.location.href),P=g.startsWith("//")?new URL(I.protocol+g):new URL(g),L=Ei(P.pathname,M);P.origin===I.origin&&L!=null?g=L+P.search+P.hash:Q=!0}catch{Hn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=fC(g,{relative:o}),[F,tt,st]=$C(s,w),lt=eI(g,{replace:c,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:T});function N(I){t&&t(I),I.defaultPrevented||lt(I)}let R=S.createElement("a",{...w,...st,href:k||q,onClick:Q||l?t:N,ref:XC(C,tt),target:p,"data-discover":!z&&e==="render"?"true":void 0});return F&&!z?S.createElement(S.Fragment,null,R,S.createElement(KC,{page:q})):R});Ro.displayName="Link";var ZC=S.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:d,children:p,...g},_){let T=Vu(c,{relative:g.relative}),w=Es(),C=S.useContext(vh),{navigator:M,basename:z}=S.useContext(sr),k=C!=null&&aI(T)&&d===!0,Q=M.encodeLocation?M.encodeLocation(T).pathname:T.pathname,q=w.pathname,F=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;e||(q=q.toLowerCase(),F=F?F.toLowerCase():null,Q=Q.toLowerCase()),F&&z&&(F=Ei(F,z)||F);const tt=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let st=q===Q||!o&&q.startsWith(Q)&&q.charAt(tt)==="/",lt=F!=null&&(F===Q||!o&&F.startsWith(Q)&&F.charAt(Q.length)==="/"),N={isActive:st,isPending:lt,isTransitioning:k},R=st?t:void 0,I;typeof s=="function"?I=s(N):I=[s,st?"active":null,lt?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(N):l;return S.createElement(Ro,{...g,"aria-current":R,className:I,ref:_,style:P,to:c,viewTransition:d},typeof p=="function"?p(N):p)});ZC.displayName="NavLink";var JC=S.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:s,replace:o,state:l,method:c=kf,action:d,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:T,...w},C)=>{let M=iI(),z=sI(d,{relative:g}),k=c.toLowerCase()==="get"?"get":"post",Q=typeof d=="string"&&yb.test(d),q=F=>{if(p&&p(F),F.defaultPrevented)return;F.preventDefault();let tt=F.nativeEvent.submitter,st=tt?.getAttribute("formmethod")||c;M(tt||F.currentTarget,{fetcherKey:t,method:st,navigate:e,replace:o,state:l,relative:g,preventScrollReset:_,viewTransition:T})};return S.createElement("form",{ref:C,method:k,action:z,onSubmit:s?p:q,...w,"data-discover":!Q&&n==="render"?"true":void 0})});JC.displayName="Form";function tI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _b(n){let t=S.useContext(jo);return he(t,tI(n)),t}function eI(n,{target:t,replace:e,state:s,preventScrollReset:o,relative:l,viewTransition:c}={}){let d=Ts(),p=Es(),g=Vu(n,{relative:l});return S.useCallback(_=>{if(kC(_,t)){_.preventDefault();let T=e!==void 0?e:Tu(p)===Tu(g);d(n,{replace:T,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[p,d,g,e,s,t,n,o,l,c])}var nI=0,rI=()=>`__${String(++nI)}__`;function iI(){let{router:n}=_b("useSubmit"),{basename:t}=S.useContext(sr),e=bC();return S.useCallback(async(s,o={})=>{let{action:l,method:c,encType:d,formData:p,body:g}=PC(s,t);if(o.navigate===!1){let _=o.fetcherKey||rI();await n.fetch(_,e,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:e,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,t,e])}function sI(n,{relative:t}={}){let{basename:e}=S.useContext(sr),s=S.useContext(ar);he(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Vu(n||".",{relative:t})},c=Es();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let _=d.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:pi([e,l.pathname])),Tu(l)}function aI(n,{relative:t}={}){let e=S.useContext(ub);he(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=_b("useViewTransitionState"),o=Vu(n,{relative:t});if(!e.isTransitioning)return!1;let l=Ei(e.currentLocation.pathname,s)||e.currentLocation.pathname,c=Ei(e.nextLocation.pathname,s)||e.nextLocation.pathname;return Gf(o.pathname,c)!=null||Gf(o.pathname,l)!=null}var oI=ib();const Co=_h(oI);function vb(n){var t,e,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(t=0;t<o;t++)n[t]&&(e=vb(n[t]))&&(s&&(s+=" "),s+=e)}else for(e in n)n[e]&&(s&&(s+=" "),s+=e);return s}function ca(){for(var n,t,e=0,s="",o=arguments.length;e<o;e++)(n=arguments[e])&&(t=vb(n))&&(s&&(s+=" "),s+=t);return s}function lI(n){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}lI(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Pu=n=>typeof n=="number"&&!isNaN(n),ha=n=>typeof n=="string",Ti=n=>typeof n=="function",uI=n=>ha(n)||Pu(n),kp=n=>ha(n)||Ti(n)?n:null,cI=(n,t)=>n===!1||Pu(n)&&n>0?n:t,Mp=n=>S.isValidElement(n)||ha(n)||Ti(n)||Pu(n);function fI(n,t,e=300){let{scrollHeight:s,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${e}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,e)})})}function hI({enter:n,exit:t,appendPosition:e=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:l,position:c,preventExitTransition:d,done:p,nodeRef:g,isIn:_,playToast:T}){let w=e?`${n}--${c}`:n,C=e?`${t}--${c}`:t,M=S.useRef(0);return S.useLayoutEffect(()=>{let z=g.current,k=w.split(" "),Q=q=>{q.target===g.current&&(T(),z.removeEventListener("animationend",Q),z.removeEventListener("animationcancel",Q),M.current===0&&q.type!=="animationcancel"&&z.classList.remove(...k))};z.classList.add(...k),z.addEventListener("animationend",Q),z.addEventListener("animationcancel",Q)},[]),S.useEffect(()=>{let z=g.current,k=()=>{z.removeEventListener("animationend",k),s?fI(z,p,o):p()};_||(d?k():(M.current=1,z.className+=` ${C}`,z.addEventListener("animationend",k)))},[_]),qt.createElement(qt.Fragment,null,l)}}function iT(n,t){return{content:Eb(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:t}}function Eb(n,t,e=!1){return S.isValidElement(n)&&!ha(n.type)?S.cloneElement(n,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):Ti(n)?n({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):n}function dI({closeToast:n,theme:t,ariaLabel:e="close"}){return qt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:s=>{s.stopPropagation(),n(!0)},"aria-label":e},qt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},qt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function mI({delay:n,isRunning:t,closeToast:e,type:s="default",hide:o,className:l,controlledProgress:c,progress:d,rtl:p,isIn:g,theme:_}){let T=o||c&&d===0,w={animationDuration:`${n}ms`,animationPlayState:t?"running":"paused"};c&&(w.transform=`scaleX(${d})`);let C=ca("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${_}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":p}),M=Ti(l)?l({rtl:p,type:s,defaultClassName:C}):ca(C,l),z={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{g&&e()}};return qt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":T},qt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${_} Toastify__progress-bar--${s}`}),qt.createElement("div",{role:"progressbar","aria-hidden":T?"true":"false","aria-label":"notification timer",className:M,style:w,...z}))}var pI=1,Tb=()=>`${pI++}`;function gI(n,t,e){let s=1,o=0,l=[],c=[],d=t,p=new Map,g=new Set,_=q=>(g.add(q),()=>g.delete(q)),T=()=>{c=Array.from(p.values()),g.forEach(q=>q())},w=({containerId:q,toastId:F,updateId:tt})=>{let st=q?q!==n:n!==1,lt=p.has(F)&&tt==null;return st||lt},C=(q,F)=>{p.forEach(tt=>{var st;(F==null||F===tt.props.toastId)&&((st=tt.toggle)==null||st.call(tt,q))})},M=q=>{var F,tt;(tt=(F=q.props)==null?void 0:F.onClose)==null||tt.call(F,q.removalReason),q.isActive=!1},z=q=>{if(q==null)p.forEach(M);else{let F=p.get(q);F&&M(F)}T()},k=()=>{o-=l.length,l=[]},Q=q=>{var F,tt;let{toastId:st,updateId:lt}=q.props,N=lt==null;q.staleId&&p.delete(q.staleId),q.isActive=!0,p.set(st,q),T(),e(iT(q,N?"added":"updated")),N&&((tt=(F=q.props).onOpen)==null||tt.call(F))};return{id:n,props:d,observe:_,toggle:C,removeToast:z,toasts:p,clearQueue:k,buildToast:(q,F)=>{if(w(F))return;let{toastId:tt,updateId:st,data:lt,staleId:N,delay:R}=F,I=st==null;I&&o++;let P={...d,style:d.toastStyle,key:s++,...Object.fromEntries(Object.entries(F).filter(([j,D])=>D!=null)),toastId:tt,updateId:st,data:lt,isIn:!1,className:kp(F.className||d.toastClassName),progressClassName:kp(F.progressClassName||d.progressClassName),autoClose:F.isLoading?!1:cI(F.autoClose,d.autoClose),closeToast(j){p.get(tt).removalReason=j,z(tt)},deleteToast(){let j=p.get(tt);if(j!=null){if(e(iT(j,"removed")),p.delete(tt),o--,o<0&&(o=0),l.length>0){Q(l.shift());return}T()}}};P.closeButton=d.closeButton,F.closeButton===!1||Mp(F.closeButton)?P.closeButton=F.closeButton:F.closeButton===!0&&(P.closeButton=Mp(d.closeButton)?d.closeButton:!0);let L={content:q,props:P,staleId:N};d.limit&&d.limit>0&&o>d.limit&&I?l.push(L):Pu(R)?setTimeout(()=>{Q(L)},R):Q(L)},setProps(q){d=q},setToggle:(q,F)=>{let tt=p.get(q);tt&&(tt.toggle=F)},isToastActive:q=>{var F;return(F=p.get(q))==null?void 0:F.isActive},getSnapshot:()=>c}}var cn=new Map,bu=[],Vp=new Set,yI=n=>Vp.forEach(t=>t(n)),bb=()=>cn.size>0;function _I(){bu.forEach(n=>Sb(n.content,n.options)),bu=[]}var vI=(n,{containerId:t})=>{var e;return(e=cn.get(t||1))==null?void 0:e.toasts.get(n)};function wb(n,t){var e;if(t)return!!((e=cn.get(t))!=null&&e.isToastActive(n));let s=!1;return cn.forEach(o=>{o.isToastActive(n)&&(s=!0)}),s}function EI(n){if(!bb()){bu=bu.filter(t=>n!=null&&t.options.toastId!==n);return}if(n==null||uI(n))cn.forEach(t=>{t.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let t=cn.get(n.containerId);t?t.removeToast(n.id):cn.forEach(e=>{e.removeToast(n.id)})}}var TI=(n={})=>{cn.forEach(t=>{t.props.limit&&(!n.containerId||t.id===n.containerId)&&t.clearQueue()})};function Sb(n,t){Mp(n)&&(bb()||bu.push({content:n,options:t}),cn.forEach(e=>{e.buildToast(n,t)}))}function bI(n){var t;(t=cn.get(n.containerId||1))==null||t.setToggle(n.id,n.fn)}function Ab(n,t){cn.forEach(e=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===e.id)&&e.toggle(n,t?.id)})}function wI(n){let t=n.containerId||1;return{subscribe(e){let s=gI(t,n,yI);cn.set(t,s);let o=s.observe(e);return _I(),()=>{o(),cn.delete(t)}},setProps(e){var s;(s=cn.get(t))==null||s.setProps(e)},getSnapshot(){var e;return(e=cn.get(t))==null?void 0:e.getSnapshot()}}}function SI(n){return Vp.add(n),()=>{Vp.delete(n)}}function AI(n){return n&&(ha(n.toastId)||Pu(n.toastId))?n.toastId:Tb()}function Lu(n,t){return Sb(n,t),t.toastId}function bh(n,t){return{...t,type:t&&t.type||n,toastId:AI(t)}}function wh(n){return(t,e)=>Lu(t,bh(n,e))}function $t(n,t){return Lu(n,bh("default",t))}$t.loading=(n,t)=>Lu(n,bh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function RI(n,{pending:t,error:e,success:s},o){let l;t&&(l=ha(t)?$t.loading(t,o):$t.loading(t.render,{...o,...t}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(g,_,T)=>{if(_==null){$t.dismiss(l);return}let w={type:g,...c,...o,data:T},C=ha(_)?{render:_}:_;return l?$t.update(l,{...w,...C}):$t(C.render,{...w,...C}),T},p=Ti(n)?n():n;return p.then(g=>d("success",s,g)).catch(g=>d("error",e,g)),p}$t.promise=RI;$t.success=wh("success");$t.info=wh("info");$t.error=wh("error");$t.warning=wh("warning");$t.warn=$t.warning;$t.dark=(n,t)=>Lu(n,bh("default",{theme:"dark",...t}));function CI(n){EI(n)}$t.dismiss=CI;$t.clearWaitingQueue=TI;$t.isActive=wb;$t.update=(n,t={})=>{let e=vI(n,t);if(e){let{props:s,content:o}=e,l={delay:100,...s,...t,toastId:t.toastId||n,updateId:Tb()};l.toastId!==n&&(l.staleId=n);let c=l.render||o;delete l.render,Lu(c,l)}};$t.done=n=>{$t.update(n,{progress:1})};$t.onChange=SI;$t.play=n=>Ab(!0,n);$t.pause=n=>Ab(!1,n);function II(n){var t;let{subscribe:e,getSnapshot:s,setProps:o}=S.useRef(wI(n)).current;o(n);let l=(t=S.useSyncExternalStore(e,s,s))==null?void 0:t.slice();function c(d){if(!l)return[];let p=new Map;return n.newestOnTop&&l.reverse(),l.forEach(g=>{let{position:_}=g.props;p.has(_)||p.set(_,[]),p.get(_).push(g)}),Array.from(p,g=>d(g[0],g[1]))}return{getToastToRender:c,isToastActive:wb,count:l?.length}}function NI(n){let[t,e]=S.useState(!1),[s,o]=S.useState(!1),l=S.useRef(null),c=S.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:p,closeToast:g,onClick:_,closeOnClick:T}=n;bI({id:n.toastId,containerId:n.containerId,fn:e}),S.useEffect(()=>{if(n.pauseOnFocusLoss)return w(),()=>{C()}},[n.pauseOnFocusLoss]);function w(){document.hasFocus()||Q(),window.addEventListener("focus",k),window.addEventListener("blur",Q)}function C(){window.removeEventListener("focus",k),window.removeEventListener("blur",Q)}function M(N){if(n.draggable===!0||n.draggable===N.pointerType){q();let R=l.current;c.canCloseOnClick=!0,c.canDrag=!0,R.style.transition="none",n.draggableDirection==="x"?(c.start=N.clientX,c.removalDistance=R.offsetWidth*(n.draggablePercent/100)):(c.start=N.clientY,c.removalDistance=R.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function z(N){let{top:R,bottom:I,left:P,right:L}=l.current.getBoundingClientRect();N.nativeEvent.type!=="touchend"&&n.pauseOnHover&&N.clientX>=P&&N.clientX<=L&&N.clientY>=R&&N.clientY<=I?Q():k()}function k(){e(!0)}function Q(){e(!1)}function q(){c.didMove=!1,document.addEventListener("pointermove",tt),document.addEventListener("pointerup",st)}function F(){document.removeEventListener("pointermove",tt),document.removeEventListener("pointerup",st)}function tt(N){let R=l.current;if(c.canDrag&&R){c.didMove=!0,t&&Q(),n.draggableDirection==="x"?c.delta=N.clientX-c.start:c.delta=N.clientY-c.start,c.start!==N.clientX&&(c.canCloseOnClick=!1);let I=n.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;R.style.transform=`translate3d(${I},0)`,R.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function st(){F();let N=l.current;if(c.canDrag&&c.didMove&&N){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){o(!0),n.closeToast(!0),n.collapseAll();return}N.style.transition="transform 0.2s, opacity 0.2s",N.style.removeProperty("transform"),N.style.removeProperty("opacity")}}let lt={onPointerDown:M,onPointerUp:z};return d&&p&&(lt.onMouseEnter=Q,n.stacked||(lt.onMouseLeave=k)),T&&(lt.onClick=N=>{_&&_(N),c.canCloseOnClick&&g(!0)}),{playToast:k,pauseToast:Q,isRunning:t,preventExitTransition:s,toastRef:l,eventHandlers:lt}}var xI=typeof window<"u"?S.useLayoutEffect:S.useEffect,Sh=({theme:n,type:t,isLoading:e,...s})=>qt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...s});function OI(n){return qt.createElement(Sh,{...n},qt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function DI(n){return qt.createElement(Sh,{...n},qt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function kI(n){return qt.createElement(Sh,{...n},qt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function MI(n){return qt.createElement(Sh,{...n},qt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function VI(){return qt.createElement("div",{className:"Toastify__spinner"})}var Pp={info:DI,warning:OI,success:kI,error:MI,spinner:VI},PI=n=>n in Pp;function LI({theme:n,type:t,isLoading:e,icon:s}){let o=null,l={theme:n,type:t};return s===!1||(Ti(s)?o=s({...l,isLoading:e}):S.isValidElement(s)?o=S.cloneElement(s,l):e?o=Pp.spinner():PI(t)&&(o=Pp[t](l))),o}var UI=n=>{let{isRunning:t,preventExitTransition:e,toastRef:s,eventHandlers:o,playToast:l}=NI(n),{closeButton:c,children:d,autoClose:p,onClick:g,type:_,hideProgressBar:T,closeToast:w,transition:C,position:M,className:z,style:k,progressClassName:Q,updateId:q,role:F,progress:tt,rtl:st,toastId:lt,deleteToast:N,isIn:R,isLoading:I,closeOnClick:P,theme:L,ariaLabel:j}=n,D=ca("Toastify__toast",`Toastify__toast-theme--${L}`,`Toastify__toast--${_}`,{"Toastify__toast--rtl":st},{"Toastify__toast--close-on-click":P}),ue=Ti(z)?z({rtl:st,position:M,type:_,defaultClassName:D}):ca(D,z),Qt=LI(n),W=!!tt||!p,ot={closeToast:w,type:_,theme:L},ft=null;return c===!1||(Ti(c)?ft=c(ot):S.isValidElement(c)?ft=S.cloneElement(c,ot):ft=dI(ot)),qt.createElement(C,{isIn:R,done:N,position:M,preventExitTransition:e,nodeRef:s,playToast:l},qt.createElement("div",{id:lt,tabIndex:0,onClick:g,"data-in":R,className:ue,...o,style:k,ref:s,...R&&{role:F,"aria-label":j}},Qt!=null&&qt.createElement("div",{className:ca("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},Qt),Eb(d,n,!t),ft,!n.customProgressBar&&qt.createElement(mI,{...q&&!W?{key:`p-${q}`}:{},rtl:st,theme:L,delay:p,isRunning:t,isIn:R,closeToast:w,hide:T,type:_,className:Q,controlledProgress:W,progress:tt||0})))},jI=(n,t=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:t}),BI=hI(jI("bounce",!0)),zI={position:"top-right",transition:BI,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function qI(n){let t={...zI,...n},e=n.stacked,[s,o]=S.useState(!0),l=S.useRef(null),{getToastToRender:c,isToastActive:d,count:p}=II(t),{className:g,style:_,rtl:T,containerId:w,hotKeys:C}=t;function M(k){let Q=ca("Toastify__toast-container",`Toastify__toast-container--${k}`,{"Toastify__toast-container--rtl":T});return Ti(g)?g({position:k,rtl:T,defaultClassName:Q}):ca(Q,kp(g))}function z(){e&&(o(!0),$t.play())}return xI(()=>{var k;if(e){let Q=l.current.querySelectorAll('[data-in="true"]'),q=12,F=(k=t.position)==null?void 0:k.includes("top"),tt=0,st=0;Array.from(Q).reverse().forEach((lt,N)=>{let R=lt;R.classList.add("Toastify__toast--stacked"),N>0&&(R.dataset.collapsed=`${s}`),R.dataset.pos||(R.dataset.pos=F?"top":"bot");let I=tt*(s?.2:1)+(s?0:q*N);R.style.setProperty("--y",`${F?I:I*-1}px`),R.style.setProperty("--g",`${q}`),R.style.setProperty("--s",`${1-(s?st:0)}`),tt+=R.offsetHeight,st+=.025})}},[s,p,e]),S.useEffect(()=>{function k(Q){var q;let F=l.current;C(Q)&&((q=F.querySelector('[tabIndex="0"]'))==null||q.focus(),o(!1),$t.pause()),Q.key==="Escape"&&(document.activeElement===F||F!=null&&F.contains(document.activeElement))&&(o(!0),$t.play())}return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[C]),qt.createElement("section",{ref:l,className:"Toastify",id:w,onMouseEnter:()=>{e&&(o(!1),$t.pause())},onMouseLeave:z,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},c((k,Q)=>{let q=Q.length?{..._}:{..._,pointerEvents:"none"};return qt.createElement("div",{tabIndex:-1,className:M(k),"data-stacked":e,style:q,key:`c-${k}`},Q.map(({content:F,props:tt})=>qt.createElement(UI,{...tt,stacked:e,collapseAll:z,isIn:d(tt.toastId,tt.containerId),key:`t-${tt.key}`},F)))}))}const wu={_origin:"https://api.emailjs.com"},HI=(n,t="https://api.emailjs.com")=>{wu._userID=n,wu._origin=t},Rb=(n,t,e)=>{if(!n)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!e)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class sT{constructor(t){this.status=t.status,this.text=t.responseText}}const Cb=(n,t,e={})=>new Promise((s,o)=>{const l=new XMLHttpRequest;l.addEventListener("load",({target:c})=>{const d=new sT(c);d.status===200||d.text==="OK"?s(d):o(d)}),l.addEventListener("error",({target:c})=>{o(new sT(c))}),l.open("POST",wu._origin+n,!0),Object.keys(e).forEach(c=>{l.setRequestHeader(c,e[c])}),l.send(t)}),FI=(n,t,e,s)=>{const o=s||wu._userID;return Rb(o,n,t),Cb("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:o,service_id:n,template_id:t,template_params:e}),{"Content-type":"application/json"})},GI=n=>{let t;if(typeof n=="string"?t=document.querySelector(n):t=n,!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t},$I=(n,t,e,s)=>{const o=s||wu._userID,l=GI(e);Rb(o,n,t);const c=new FormData(l);return c.append("lib_version","3.2.0"),c.append("service_id",n),c.append("template_id",t),c.append("user_id",o),Cb("/api/v1.0/email/send-form",c)},aT={init:HI,send:FI,sendForm:$I},KI=()=>{};var oT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},QI=function(n){const t=[];let e=0,s=0;for(;e<n.length;){const o=n[e++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[e++];t[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[e++],c=n[e++],d=n[e++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const l=n[e++],c=n[e++];t[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return t.join("")},Nb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,_=l>>2,T=(l&3)<<4|d>>4;let w=(d&15)<<2|g>>6,C=g&63;p||(C=64,c||(w=64)),s.push(e[_],e[T],e[w],e[C])}return s.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(Ib(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):QI(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const l=e[n.charAt(o++)],d=o<n.length?e[n.charAt(o)]:0;++o;const g=o<n.length?e[n.charAt(o)]:64;++o;const T=o<n.length?e[n.charAt(o)]:64;if(++o,l==null||d==null||g==null||T==null)throw new YI;const w=l<<2|d>>4;if(s.push(w),g!==64){const C=d<<4&240|g>>2;if(s.push(C),T!==64){const M=g<<6&192|T;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class YI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XI=function(n){const t=Ib(n);return Nb.encodeByteArray(t,!0)},$f=function(n){return XI(n).replace(/\./g,"")},xb=function(n){try{return Nb.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=()=>WI().__FIREBASE_DEFAULTS__,JI=()=>{if(typeof process>"u"||typeof oT>"u")return;const n=oT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},tN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&xb(n[1]);return t&&JSON.parse(t)},Ah=()=>{try{return KI()||ZI()||JI()||tN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Ob=n=>Ah()?.emulatorHosts?.[n],Db=n=>{const t=Ob(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},kb=()=>Ah()?.config,Mb=n=>Ah()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wg(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[$f(JSON.stringify(e)),$f(JSON.stringify(c)),""].join(".")}const pu={};function nN(){const n={prod:[],emulator:[]};for(const t of Object.keys(pu))pu[t]?n.emulator.push(t):n.prod.push(t);return n}function rN(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let lT=!1;function Sg(n,t){if(typeof window>"u"||typeof document>"u"||!Ea(window.location.host)||pu[n]===t||pu[n]||lT)return;pu[n]=t;function e(w){return`__firebase__banner__${w}`}const s="__firebase__banner",l=nN().prod.length>0;function c(){const w=document.getElementById(s);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,C){w.setAttribute("width","24"),w.setAttribute("id",C),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{lT=!0,c()},w}function _(w,C){w.setAttribute("id",C),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=rN(s),C=e("text"),M=document.getElementById(C)||document.createElement("span"),z=e("learnmore"),k=document.getElementById(z)||document.createElement("a"),Q=e("preprendIcon"),q=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const F=w.element;d(F),_(k,z);const tt=g();p(q,Q),F.append(q,M,k,tt),document.body.appendChild(F)}l?(M.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function sN(){const n=Ah()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function lN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uN(){const n=sn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function cN(){return!sN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fN(){try{return typeof indexedDB=="object"}catch{return!1}}function hN(){return new Promise((n,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="FirebaseError";class Vr extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=dN,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uu.prototype.create)}}class Uu{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},o=`${this.service}/${t}`,l=this.errors[t],c=l?mN(l,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Vr(o,d,s)}}function mN(n,t){return n.replace(pN,(e,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const pN=/\{\$([^}]+)}/g;function gN(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function da(n,t){if(n===t)return!0;const e=Object.keys(n),s=Object.keys(t);for(const o of e){if(!s.includes(o))return!1;const l=n[o],c=t[o];if(uT(l)&&uT(c)){if(!da(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!e.includes(o))return!1;return!0}function uT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(n){const t=[];for(const[e,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function lu(n){const t={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(l)}}),t}function uu(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function yN(n,t){const e=new _N(n,t);return e.subscribe.bind(e)}class _N{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let o;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");vN(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:s},o.next===void 0&&(o.next=op),o.error===void 0&&(o.error=op),o.complete===void 0&&(o.complete=op);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vN(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function op(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(n){return n&&n._delegate?n._delegate:n}class hs{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EN=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new eN;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(bN(t))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(t=aa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=aa){return this.instances.has(t)}getOptions(t=aa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(o)}return o}onInit(t,e){const s=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&t(l,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const o of s)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:TN(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=aa){return this.component?this.component.multipleInstances?t:aa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function TN(n){return n===aa?void 0:n}function bN(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new EN(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Mt||(Mt={}));const SN={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},AN=Mt.INFO,RN={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},CN=(n,t,...e)=>{if(t<n.logLevel)return;const s=new Date().toISOString(),o=RN[t];if(o)console[o](`[${s}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ag{constructor(t){this.name=t,this._logLevel=AN,this._logHandler=CN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?SN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const IN=(n,t)=>t.some(e=>n instanceof e);let cT,fT;function NN(){return cT||(cT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xN(){return fT||(fT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pb=new WeakMap,Lp=new WeakMap,Lb=new WeakMap,lp=new WeakMap,Rg=new WeakMap;function ON(n){const t=new Promise((e,s)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{e(ls(n.result)),o()},c=()=>{s(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&Pb.set(e,n)}).catch(()=>{}),Rg.set(t,n),t}function DN(n){if(Lp.has(n))return;const t=new Promise((e,s)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{e(),o()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Lp.set(n,t)}let Up={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Lp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||Lb.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ls(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function kN(n){Up=n(Up)}function MN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=n.call(up(this),t,...e);return Lb.set(s,t.sort?t.sort():[t]),ls(s)}:xN().includes(n)?function(...t){return n.apply(up(this),t),ls(Pb.get(this))}:function(...t){return ls(n.apply(up(this),t))}}function VN(n){return typeof n=="function"?MN(n):(n instanceof IDBTransaction&&DN(n),IN(n,NN())?new Proxy(n,Up):n)}function ls(n){if(n instanceof IDBRequest)return ON(n);if(lp.has(n))return lp.get(n);const t=VN(n);return t!==n&&(lp.set(n,t),Rg.set(t,n)),t}const up=n=>Rg.get(n);function PN(n,t,{blocked:e,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(n,t),d=ls(c);return s&&c.addEventListener("upgradeneeded",p=>{s(ls(c.result),p.oldVersion,p.newVersion,ls(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const LN=["get","getKey","getAll","getAllKeys","count"],UN=["put","add","delete","clear"],cp=new Map;function hT(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(cp.get(t))return cp.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,o=UN.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(o||LN.includes(e)))return;const l=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),o&&p.done]))[0]};return cp.set(t,l),l}kN(n=>({...n,get:(t,e,s)=>hT(t,e)||n.get(t,e,s),has:(t,e)=>!!hT(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(BN(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function BN(n){return n.getComponent()?.type==="VERSION"}const jp="@firebase/app",dT="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new Ag("@firebase/app"),zN="@firebase/app-compat",qN="@firebase/analytics-compat",HN="@firebase/analytics",FN="@firebase/app-check-compat",GN="@firebase/app-check",$N="@firebase/auth",KN="@firebase/auth-compat",QN="@firebase/database",YN="@firebase/data-connect",XN="@firebase/database-compat",WN="@firebase/functions",ZN="@firebase/functions-compat",JN="@firebase/installations",t2="@firebase/installations-compat",e2="@firebase/messaging",n2="@firebase/messaging-compat",r2="@firebase/performance",i2="@firebase/performance-compat",s2="@firebase/remote-config",a2="@firebase/remote-config-compat",o2="@firebase/storage",l2="@firebase/storage-compat",u2="@firebase/firestore",c2="@firebase/ai",f2="@firebase/firestore-compat",h2="firebase",d2="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="[DEFAULT]",m2={[jp]:"fire-core",[zN]:"fire-core-compat",[HN]:"fire-analytics",[qN]:"fire-analytics-compat",[GN]:"fire-app-check",[FN]:"fire-app-check-compat",[$N]:"fire-auth",[KN]:"fire-auth-compat",[QN]:"fire-rtdb",[YN]:"fire-data-connect",[XN]:"fire-rtdb-compat",[WN]:"fire-fn",[ZN]:"fire-fn-compat",[JN]:"fire-iid",[t2]:"fire-iid-compat",[e2]:"fire-fcm",[n2]:"fire-fcm-compat",[r2]:"fire-perf",[i2]:"fire-perf-compat",[s2]:"fire-rc",[a2]:"fire-rc-compat",[o2]:"fire-gcs",[l2]:"fire-gcs-compat",[u2]:"fire-fst",[f2]:"fire-fst-compat",[c2]:"fire-vertex","fire-js":"fire-js",[h2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf=new Map,p2=new Map,zp=new Map;function mT(n,t){try{n.container.addComponent(t)}catch(e){bi.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function ma(n){const t=n.name;if(zp.has(t))return bi.debug(`There were multiple attempts to register component ${t}.`),!1;zp.set(t,n);for(const e of Kf.values())mT(e,n);for(const e of p2.values())mT(e,n);return!0}function Rh(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function yn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},us=new Uu("app","Firebase",g2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(t,e,s){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw us.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=d2;function Ub(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const s={name:Bp,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw us.create("bad-app-name",{appName:String(o)});if(e||(e=kb()),!e)throw us.create("no-options");const l=Kf.get(o);if(l){if(da(e,l.options)&&da(s,l.config))return l;throw us.create("duplicate-app",{appName:o})}const c=new wN(o);for(const p of zp.values())c.addComponent(p);const d=new y2(e,s,c);return Kf.set(o,d),d}function Cg(n=Bp){const t=Kf.get(n);if(!t&&n===Bp&&kb())return Ub();if(!t)throw us.create("no-app",{appName:n});return t}function Rr(n,t,e){let s=m2[n]??n;e&&(s+=`-${e}`);const o=s.match(/\s|\//),l=t.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${t}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),bi.warn(c.join(" "));return}ma(new hs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="firebase-heartbeat-database",v2=1,Su="firebase-heartbeat-store";let fp=null;function jb(){return fp||(fp=PN(_2,v2,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Su)}catch(e){console.warn(e)}}}}).catch(n=>{throw us.create("idb-open",{originalErrorMessage:n.message})})),fp}async function E2(n){try{const e=(await jb()).transaction(Su),s=await e.objectStore(Su).get(Bb(n));return await e.done,s}catch(t){if(t instanceof Vr)bi.warn(t.message);else{const e=us.create("idb-get",{originalErrorMessage:t?.message});bi.warn(e.message)}}}async function pT(n,t){try{const s=(await jb()).transaction(Su,"readwrite");await s.objectStore(Su).put(t,Bb(n)),await s.done}catch(e){if(e instanceof Vr)bi.warn(e.message);else{const s=us.create("idb-set",{originalErrorMessage:e?.message});bi.warn(s.message)}}}function Bb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=1024,b2=30;class w2{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new A2(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:e}),this._heartbeatsCache.heartbeats.length>b2){const o=R2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){bi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=gT(),{heartbeatsToSend:e,unsentEntries:s}=S2(this._heartbeatsCache.heartbeats),o=$f(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return bi.warn(t),""}}}function gT(){return new Date().toISOString().substring(0,10)}function S2(n,t=T2){const e=[];let s=n.slice();for(const o of n){const l=e.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),yT(e)>t){l.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),yT(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class A2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fN()?hN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await E2(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return pT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return pT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function yT(n){return $f(JSON.stringify({version:2,heartbeats:n})).length}function R2(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let s=1;s<n.length;s++)n[s].date<e&&(e=n[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(n){ma(new hs("platform-logger",t=>new jN(t),"PRIVATE")),ma(new hs("heartbeat",t=>new w2(t),"PRIVATE")),Rr(jp,dT,n),Rr(jp,dT,"esm2020"),Rr("fire-js","")}C2("");var I2="firebase",N2="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr(I2,N2,"app");function zb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const x2=zb,qb=new Uu("auth","Firebase",zb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=new Ag("@firebase/auth");function O2(n,...t){Qf.logLevel<=Mt.WARN&&Qf.warn(`Auth (${Ta}): ${n}`,...t)}function Vf(n,...t){Qf.logLevel<=Mt.ERROR&&Qf.error(`Auth (${Ta}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(n,...t){throw Ng(n,...t)}function rr(n,...t){return Ng(n,...t)}function Ig(n,t,e){const s={...x2(),[t]:e};return new Uu("auth","Firebase",s).create(t,{appName:n.name})}function gi(n){return Ig(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function D2(n,t,e){const s=e;if(!(t instanceof s))throw s.name!==t.constructor.name&&Fn(n,"argument-error"),Ig(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ng(n,...t){if(typeof n!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(e,...s)}return qb.create(n,...t)}function Et(n,t,...e){if(!n)throw Ng(t,...e)}function di(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Vf(t),new Error(t)}function wi(n,t){n||di(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(){return typeof self<"u"&&self.location?.href||""}function k2(){return _T()==="http:"||_T()==="https:"}function _T(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k2()||oN()||"connection"in navigator)?navigator.onLine:!0}function V2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(t,e){this.shortDelay=t,this.longDelay=e,wi(e>t,"Short delay should be less than long delay!"),this.isMobile=iN()||lN()}get(){return M2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(n,t){wi(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],U2=new Bu(3e4,6e4);function bs(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function ws(n,t,e,s,o={}){return Fb(n,o,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const d=ju({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:p,...l};return aN()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Ea(n.emulatorConfig.host)&&(g.credentials="include"),Hb.fetch()(await Gb(n,n.config.apiHost,e,d),g)})}async function Fb(n,t,e){n._canInitEmulator=!1;const s={...P2,...t};try{const o=new B2(n),l=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw bf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw bf(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw bf(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw bf(n,"user-disabled",c);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Ig(n,_,g);Fn(n,_)}}catch(o){if(o instanceof Vr)throw o;Fn(n,"network-request-failed",{message:String(o)})}}async function zu(n,t,e,s,o={}){const l=await ws(n,t,e,s,o);return"mfaPendingCredential"in l&&Fn(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Gb(n,t,e,s){const o=`${t}${e}?${s}`,l=n,c=l.config.emulator?xg(n.config,o):`${n.config.apiScheme}://${o}`;return L2.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function j2(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class B2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(rr(this.auth,"network-request-failed")),U2.get())})}}function bf(n,t,e){const s={appName:n.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const o=rr(n,t,s);return o.customData._tokenResponse=e,o}function vT(n){return n!==void 0&&n.enterprise!==void 0}class z2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return j2(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function q2(n,t){return ws(n,"GET","/v2/recaptchaConfig",bs(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2(n,t){return ws(n,"POST","/v1/accounts:delete",t)}async function Yf(n,t){return ws(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function F2(n,t=!1){const e=fn(n),s=await e.getIdToken(t),o=Og(s);Et(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:s,authTime:gu(hp(o.auth_time)),issuedAtTime:gu(hp(o.iat)),expirationTime:gu(hp(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function hp(n){return Number(n)*1e3}function Og(n){const[t,e,s]=n.split(".");if(t===void 0||e===void 0||s===void 0)return Vf("JWT malformed, contained fewer than 3 sections"),null;try{const o=xb(e);return o?JSON.parse(o):(Vf("Failed to decode base64 JWT payload"),null)}catch(o){return Vf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function ET(n){const t=Og(n);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(n,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof Vr&&G2(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function G2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=gu(this.lastLoginAt),this.creationTime=gu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xf(n){const t=n.auth,e=await n.getIdToken(),s=await Au(n,Yf(t,{idToken:e}));Et(s?.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const l=o.providerUserInfo?.length?$b(o.providerUserInfo):[],c=Q2(n.providerData,l),d=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!c?.length,g=d?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Hp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function K2(n){const t=fn(n);await Xf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Q2(n,t){return[...n.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function $b(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y2(n,t){const e=await Fb(n,{},async()=>{const s=ju({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=await Gb(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return n.emulatorConfig&&Ea(n.emulatorConfig.host)&&(p.credentials="include"),Hb.fetch()(c,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function X2(n,t){return ws(n,"POST","/v2/accounts:revokeToken",bs(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ET(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const e=ET(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:o,expiresIn:l}=await Y2(t,e);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:o,expirationTime:l}=e,c=new Io;return s&&(Et(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),o&&(Et(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),l&&(Et(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Io,this.toJSON())}_performRefresh(){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(n,t){Et(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class tr{constructor({uid:t,auth:e,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new $2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Hp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Au(this,this.stsTokenManager.getToken(this.auth,t));return Et(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return F2(this,t)}reload(){return K2(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new tr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await Xf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yn(this.auth.app))return Promise.reject(gi(this.auth));const t=await this.getIdToken();return await Au(this,H2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const s=e.displayName??void 0,o=e.email??void 0,l=e.phoneNumber??void 0,c=e.photoURL??void 0,d=e.tenantId??void 0,p=e._redirectEventId??void 0,g=e.createdAt??void 0,_=e.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:C,providerData:M,stsTokenManager:z}=e;Et(T&&z,t,"internal-error");const k=Io.fromJSON(this.name,z);Et(typeof T=="string",t,"internal-error"),ns(s,t.name),ns(o,t.name),Et(typeof w=="boolean",t,"internal-error"),Et(typeof C=="boolean",t,"internal-error"),ns(l,t.name),ns(c,t.name),ns(d,t.name),ns(p,t.name),ns(g,t.name),ns(_,t.name);const Q=new tr({uid:T,auth:t,email:o,emailVerified:w,displayName:s,isAnonymous:C,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:k,createdAt:g,lastLoginAt:_});return M&&Array.isArray(M)&&(Q.providerData=M.map(q=>({...q}))),p&&(Q._redirectEventId=p),Q}static async _fromIdTokenResponse(t,e,s=!1){const o=new Io;o.updateFromServerResponse(e);const l=new tr({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Xf(l),l}static async _fromGetAccountInfoResponse(t,e,s){const o=e.users[0];Et(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?$b(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,d=new Io;d.updateFromIdToken(s);const p=new tr({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Hp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=new Map;function mi(n){wi(n instanceof Function,"Expected a class definition");let t=TT.get(n);return t?(wi(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,TT.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Kb.type="NONE";const bT=Kb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(n,t,e){return`firebase:${n}:${t}:${e}`}class No{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Pf(this.userKey,o.apiKey,l),this.fullPersistenceKey=Pf("persistence",o.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Yf(this.auth,{idToken:t}).catch(()=>{});return e?tr._fromGetAccountInfoResponse(this.auth,e,t):null}return tr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new No(mi(bT),t,s);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||mi(bT);const c=Pf(s,t.config.apiKey,t.name);let d=null;for(const g of e)try{const _=await g._get(c);if(_){let T;if(typeof _=="string"){const w=await Yf(t,{idToken:_}).catch(()=>{});if(!w)break;T=await tr._fromGetAccountInfoResponse(t,w,_)}else T=tr._fromJSON(t,_);g!==l&&(d=T),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new No(l,t,s):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new No(l,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Wb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Qb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Jb(t))return"Blackberry";if(t1(t))return"Webos";if(Yb(t))return"Safari";if((t.includes("chrome/")||Xb(t))&&!t.includes("edge/"))return"Chrome";if(Zb(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(e);if(s?.length===2)return s[1]}return"Other"}function Qb(n=sn()){return/firefox\//i.test(n)}function Yb(n=sn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Xb(n=sn()){return/crios\//i.test(n)}function Wb(n=sn()){return/iemobile/i.test(n)}function Zb(n=sn()){return/android/i.test(n)}function Jb(n=sn()){return/blackberry/i.test(n)}function t1(n=sn()){return/webos/i.test(n)}function Dg(n=sn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function W2(n=sn()){return Dg(n)&&!!window.navigator?.standalone}function Z2(){return uN()&&document.documentMode===10}function e1(n=sn()){return Dg(n)||Zb(n)||t1(n)||Jb(n)||/windows phone/i.test(n)||Wb(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(n,t=[]){let e;switch(n){case"Browser":e=wT(sn());break;case"Worker":e=`${wT(sn())}-${n}`;break;default:e=n}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ta}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=l=>new Promise((c,d)=>{try{const p=t(l);c(p)}catch(p){d(p)}});s.onAbort=e,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tx(n,t={}){return ws(n,"GET","/v2/passwordPolicy",bs(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=6;class nx{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??ex,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(t,e,s,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ST(this),this.idTokenSubscription=new ST(this),this.beforeStateQueue=new J2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=mi(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await No.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Yf(this,{idToken:t}),s=await tr._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(yn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let s=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!l||l===c)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Xf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=V2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(yn(this.app))return Promise.reject(gi(this));const e=t?fn(t):null;return e&&Et(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return yn(this.app)?Promise.reject(gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return yn(this.app)?Promise.reject(gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await tx(this),e=new nx(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Uu("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await X2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&mi(t)||this._popupRedirectResolver;Et(e,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[mi(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,o){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,s,o);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=n1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&O2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ss(n){return fn(n)}class ST{constructor(t){this.auth=t,this.observer=null,this.addObserver=yN(e=>this.observer=e)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ix(n){Ch=n}function r1(n){return Ch.loadJS(n)}function sx(){return Ch.recaptchaEnterpriseScript}function ax(){return Ch.gapiScript}function ox(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class lx{constructor(){this.enterprise=new ux}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class ux{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const cx="recaptcha-enterprise",i1="NO_RECAPTCHA";class fx{constructor(t){this.type=cx,this.auth=Ss(t)}async verify(t="verify",e=!1){async function s(l){if(!e){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{q2(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new z2(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function o(l,c,d){const p=window.grecaptcha;vT(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:t}).then(g=>{c(g)}).catch(()=>{c(i1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lx().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!e&&vT(window.grecaptcha))o(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=sx();p.length!==0&&(p+=d),r1(p).then(()=>{o(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function AT(n,t,e,s=!1,o=!1){const l=new fx(n);let c;if(o)c=i1;else try{c=await l.verify(e)}catch{c=await l.verify(e,!0)}const d={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Fp(n,t,e,s,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await AT(n,t,e,e==="getOobCode");return s(n,l)}else return s(n,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await AT(n,t,e,e==="getOobCode");return s(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(n,t){const e=Rh(n,"auth");if(e.isInitialized()){const o=e.getImmediate(),l=e.getOptions();if(da(l,t??{}))return o;Fn(o,"already-initialized")}return e.initialize({options:t})}function dx(n,t){const e=t?.persistence||[],s=(Array.isArray(e)?e:[e]).map(mi);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(s,t?.popupRedirectResolver)}function mx(n,t,e){const s=Ss(n);Et(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,l=s1(t),{host:c,port:d}=px(t),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(da(g,s.config.emulator)&&da(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Ea(c)?(wg(`${l}//${c}${p}`),Sg("Auth",!0)):gx()}function s1(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function px(n){const t=s1(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:RT(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:RT(c)}}}function RT(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function gx(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return di("not implemented")}_getIdTokenResponse(t){return di("not implemented")}_linkToIdToken(t,e){return di("not implemented")}_getReauthenticationResolver(t){return di("not implemented")}}async function yx(n,t){return ws(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _x(n,t){return zu(n,"POST","/v1/accounts:signInWithPassword",bs(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vx(n,t){return zu(n,"POST","/v1/accounts:signInWithEmailLink",bs(n,t))}async function Ex(n,t){return zu(n,"POST","/v1/accounts:signInWithEmailLink",bs(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends kg{constructor(t,e,s,o=null){super("password",s),this._email=t,this._password=e,this._tenantId=o}static _fromEmailAndPassword(t,e){return new Ru(t,e,"password")}static _fromEmailAndCode(t,e,s=null){return new Ru(t,e,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fp(t,e,"signInWithPassword",_x);case"emailLink":return vx(t,{email:this._email,oobCode:this._password});default:Fn(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const s={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fp(t,s,"signUpPassword",yx);case"emailLink":return Ex(t,{idToken:e,email:this._email,oobCode:this._password});default:Fn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(n,t){return zu(n,"POST","/v1/accounts:signInWithIdp",bs(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="http://localhost";class pa extends kg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new pa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Fn("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...l}=e;if(!s||!o)return null;const c=new pa(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return xo(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,xo(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,xo(t,e)}buildRequest(){const t={requestUri:Tx,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=ju(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wx(n){const t=lu(uu(n)).link,e=t?lu(uu(t)).deep_link_id:null,s=lu(uu(n)).deep_link_id;return(s?lu(uu(s)).link:null)||s||e||t||n}class Mg{constructor(t){const e=lu(uu(t)),s=e.apiKey??null,o=e.oobCode??null,l=bx(e.mode??null);Et(s&&o&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=o,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=wx(t);try{return new Mg(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.providerId=zo.PROVIDER_ID}static credential(t,e){return Ru._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const s=Mg.parseLink(e);return Et(s,"argument-error"),Ru._fromEmailAndCode(t,s.code,s.tenantId)}}zo.PROVIDER_ID="password";zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends Vg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends qu{constructor(){super("facebook.com")}static credential(t){return pa._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return is.credentialFromTaggedObject(t)}static credentialFromError(t){return is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return is.credential(t.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends qu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return pa._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return ci.credentialFromTaggedObject(t)}static credentialFromError(t){return ci.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return ci.credential(e,s)}catch{return null}}}ci.GOOGLE_SIGN_IN_METHOD="google.com";ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends qu{constructor(){super("github.com")}static credential(t){return pa._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ss.credentialFromTaggedObject(t)}static credentialFromError(t){return ss.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ss.credential(t.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends qu{constructor(){super("twitter.com")}static credential(t,e){return pa._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return as.credentialFromTaggedObject(t)}static credentialFromError(t){return as.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return as.credential(e,s)}catch{return null}}}as.TWITTER_SIGN_IN_METHOD="twitter.com";as.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sx(n,t){return zu(n,"POST","/v1/accounts:signUp",bs(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,o=!1){const l=await tr._fromIdTokenResponse(t,s,o),c=CT(s);return new ga({user:l,providerId:c,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const o=CT(s);return new ga({user:t,providerId:o,_tokenResponse:s,operationType:e})}}function CT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends Vr{constructor(t,e,s,o){super(e.code,e.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Wf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,o){return new Wf(t,e,s,o)}}function a1(n,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Wf._fromErrorAndOperation(n,l,t,s):l})}async function Ax(n,t,e=!1){const s=await Au(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return ga._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rx(n,t,e=!1){const{auth:s}=n;if(yn(s.app))return Promise.reject(gi(s));const o="reauthenticate";try{const l=await Au(n,a1(s,o,t,n),e);Et(l.idToken,s,"internal-error");const c=Og(l.idToken);Et(c,s,"internal-error");const{sub:d}=c;return Et(n.uid===d,s,"user-mismatch"),ga._forOperation(n,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Fn(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o1(n,t,e=!1){if(yn(n.app))return Promise.reject(gi(n));const s="signIn",o=await a1(n,s,t),l=await ga._fromIdTokenResponse(n,s,o);return e||await n._updateCurrentUser(l.user),l}async function Cx(n,t){return o1(Ss(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l1(n){const t=Ss(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ix(n,t,e){if(yn(n.app))return Promise.reject(gi(n));const s=Ss(n),c=await Fp(s,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Sx).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&l1(n),p}),d=await ga._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function Nx(n,t,e){return yn(n.app)?Promise.reject(gi(n)):Cx(fn(n),zo.credential(t,e)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&l1(n),s})}function xx(n,t,e,s){return fn(n).onIdTokenChanged(t,e,s)}function Ox(n,t,e){return fn(n).beforeAuthStateChanged(t,e)}function Dx(n,t,e,s){return fn(n).onAuthStateChanged(t,e,s)}const Zf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Zf,"1"),this.storage.removeItem(Zf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=1e3,Mx=10;class c1 extends u1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=e1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),o=this.localCache[e];s!==o&&t(e,o,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!e&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);Z2()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Mx):o()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},kx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}c1.type="LOCAL";const Vx=c1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1 extends u1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}f1.type="SESSION";const h1=f1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const s=new Ih(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:o,data:l}=e.data,c=this.handlersMap[o];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(c).map(async g=>g(e.origin,l)),p=await Px(d);e.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(n="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=Pg("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function Ux(n){Cr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function jx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Bx(){return navigator?.serviceWorker?.controller||null}function zx(){return d1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="firebaseLocalStorageDb",qx=1,Jf="firebaseLocalStorage",p1="fbase_key";class Hu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Nh(n,t){return n.transaction([Jf],t?"readwrite":"readonly").objectStore(Jf)}function Hx(){const n=indexedDB.deleteDatabase(m1);return new Hu(n).toPromise()}function Gp(){const n=indexedDB.open(m1,qx);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Jf,{keyPath:p1})}catch(o){e(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Jf)?t(s):(s.close(),await Hx(),t(await Gp()))})})}async function IT(n,t,e){const s=Nh(n,!0).put({[p1]:t,value:e});return new Hu(s).toPromise()}async function Fx(n,t){const e=Nh(n,!1).get(t),s=await new Hu(e).toPromise();return s===void 0?null:s.value}function NT(n,t){const e=Nh(n,!0).delete(t);return new Hu(e).toPromise()}const Gx=800,$x=3;class g1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>$x)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return d1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ih._getInstance(zx()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jx(),!this.activeServiceWorker)return;this.sender=new Lx(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Bx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Gp();return await IT(t,Zf,"1"),await NT(t,Zf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>IT(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>Fx(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>NT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const l=Nh(o,!1).getAll();return new Hu(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:l}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Gx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}g1.type="LOCAL";const Kx=g1;new Bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(n,t){return t?mi(t):(Et(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg extends kg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return xo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return xo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return xo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Qx(n){return o1(n.auth,new Lg(n),n.bypassAuthState)}function Yx(n){const{auth:t,user:e}=n;return Et(e,t,"internal-error"),Rx(e,new Lg(n),n.bypassAuthState)}async function Xx(n){const{auth:t,user:e}=n;return Et(e,t,"internal-error"),Ax(e,new Lg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(t,e,s,o,l=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:o,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Qx;case"linkViaPopup":case"linkViaRedirect":return Xx;case"reauthViaPopup":case"reauthViaRedirect":return Yx;default:Fn(this.auth,"internal-error")}}resolve(t){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=new Bu(2e3,1e4);async function Zx(n,t,e){if(yn(n.app))return Promise.reject(rr(n,"operation-not-supported-in-this-environment"));const s=Ss(n);D2(n,t,Vg);const o=y1(s,e);return new la(s,"signInViaPopup",t,o).executeNotNull()}class la extends _1{constructor(t,e,s,o,l){super(t,e,o,l),this.provider=s,this.authWindow=null,this.pollId=null,la.currentPopupAction&&la.currentPopupAction.cancel(),la.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const t=Pg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,la.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Wx.get())};t()}}la.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="pendingRedirect",Lf=new Map;class tO extends _1{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=Lf.get(this.auth._key());if(!t){try{const s=await eO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}Lf.set(this.auth._key(),t)}return this.bypassAuthState||Lf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eO(n,t){const e=iO(t),s=rO(n);if(!await s._isAvailable())return!1;const o=await s._get(e)==="true";return await s._remove(e),o}function nO(n,t){Lf.set(n._key(),t)}function rO(n){return mi(n._redirectPersistence)}function iO(n){return Pf(Jx,n.config.apiKey,n.name)}async function sO(n,t,e=!1){if(yn(n.app))return Promise.reject(gi(n));const s=Ss(n),o=y1(s,t),c=await new tO(s,o,e).execute();return c&&!e&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=600*1e3;class oO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!lO(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!v1(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";e.onError(rr(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=aO&&this.cachedEventUids.clear(),this.cachedEventUids.has(xT(t))}saveEventToCache(t){this.cachedEventUids.add(xT(t)),this.lastProcessedEventTime=Date.now()}}function xT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function v1({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function lO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO(n,t={}){return ws(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fO=/^https?/;async function hO(n){if(n.config.emulator)return;const{authorizedDomains:t}=await uO(n);for(const e of t)try{if(dO(e))return}catch{}Fn(n,"unauthorized-domain")}function dO(n){const t=qp(),{protocol:e,hostname:s}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===s}if(!fO.test(e))return!1;if(cO.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=new Bu(3e4,6e4);function OT(){const n=Cr().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function pO(n){return new Promise((t,e)=>{function s(){OT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{OT(),e(rr(n,"network-request-failed"))},timeout:mO.get()})}if(Cr().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Cr().gapi?.load)s();else{const o=ox("iframefcb");return Cr()[o]=()=>{gapi.load?s():e(rr(n,"network-request-failed"))},r1(`${ax()}?onload=${o}`).catch(l=>e(l))}}).catch(t=>{throw Uf=null,t})}let Uf=null;function gO(n){return Uf=Uf||pO(n),Uf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=new Bu(5e3,15e3),_O="__/auth/iframe",vO="emulator/auth/iframe",EO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bO(n){const t=n.config;Et(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?xg(t,vO):`https://${n.config.authDomain}/${_O}`,s={apiKey:t.apiKey,appName:n.name,v:Ta},o=TO.get(n.config.apiHost);o&&(s.eid=o);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${e}?${ju(s).slice(1)}`}async function wO(n){const t=await gO(n),e=Cr().gapi;return Et(e,n,"internal-error"),t.open({where:document.body,url:bO(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EO,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=rr(n,"network-request-failed"),d=Cr().setTimeout(()=>{l(c)},yO.get());function p(){Cr().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AO=500,RO=600,CO="_blank",IO="http://localhost";class DT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NO(n,t,e,s=AO,o=RO){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...SO,width:s.toString(),height:o.toString(),top:l,left:c},g=sn().toLowerCase();e&&(d=Xb(g)?CO:e),Qb(g)&&(t=t||IO,p.scrollbars="yes");const _=Object.entries(p).reduce((w,[C,M])=>`${w}${C}=${M},`,"");if(W2(g)&&d!=="_self")return xO(t||"",d),new DT(null);const T=window.open(t||"",d,_);Et(T,n,"popup-blocked");try{T.focus()}catch{}return new DT(T)}function xO(n,t){const e=document.createElement("a");e.href=n,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="__/auth/handler",DO="emulator/auth/handler",kO=encodeURIComponent("fac");async function kT(n,t,e,s,o,l){Et(n.config.authDomain,n,"auth-domain-config-required"),Et(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:s,v:Ta,eventId:o};if(t instanceof Vg){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",gN(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(t instanceof qu){const _=t.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),g=p?`#${kO}=${encodeURIComponent(p)}`:"";return`${MO(n)}?${ju(d).slice(1)}${g}`}function MO({config:n}){return n.emulator?xg(n,DO):`https://${n.authDomain}/${OO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="webStorageSupport";class VO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=h1,this._completeRedirectFn=sO,this._overrideRedirectResult=nO}async _openPopup(t,e,s,o){wi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await kT(t,e,s,qp(),o);return NO(t,l,Pg())}async _openRedirect(t,e,s,o){await this._originValidation(t);const l=await kT(t,e,s,qp(),o);return Ux(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:l}=this.eventManagers[e];return o?Promise.resolve(o):(wi(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await wO(t),s=new oO(t);return e.register("authEvent",o=>(Et(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(dp,{type:dp},o=>{const l=o?.[0]?.[dp];l!==void 0&&e(!!l),Fn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=hO(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return e1()||Yb()||Dg()}}const PO=VO;var MT="@firebase/auth",VT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jO(n){ma(new hs("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Et(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n1(n)},g=new rx(s,o,l,p);return dx(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),ma(new hs("auth-internal",t=>{const e=Ss(t.getProvider("auth").getImmediate());return(s=>new LO(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rr(MT,VT,UO(n)),Rr(MT,VT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=300,zO=Mb("authIdTokenMaxAge")||BO;let PT=null;const qO=n=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>zO)return;const o=e?.token;PT!==o&&(PT=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function HO(n=Cg()){const t=Rh(n,"auth");if(t.isInitialized())return t.getImmediate();const e=hx(n,{popupRedirectResolver:PO,persistence:[Kx,Vx,h1]}),s=Mb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=qO(l.toString());Ox(e,c,()=>c(e.currentUser)),xx(e,d=>c(d))}}const o=Ob("auth");return o&&mx(e,`http://${o}`),e}function FO(){return document.getElementsByTagName("head")?.[0]??document}ix({loadJS(n){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=t,s.onerror=o=>{const l=rr("internal-error");l.customData=o,e(l)},s.type="text/javascript",s.charset="UTF-8",FO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jO("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="firebasestorage.googleapis.com",GO="storageBucket",$O=120*1e3,KO=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Vr{constructor(t,e,s=0){super(mp(t),`Firebase Storage: ${e} (${mp(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return mp(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var kr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(kr||(kr={}));function mp(n){return"storage/"+n}function QO(){const n="An unknown error occurred, please check the error payload for server response.";return new Pr(kr.UNKNOWN,n)}function YO(){return new Pr(kr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function XO(){return new Pr(kr.CANCELED,"User canceled the upload/download.")}function WO(n){return new Pr(kr.INVALID_URL,"Invalid URL '"+n+"'.")}function ZO(n){return new Pr(kr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function LT(n){return new Pr(kr.INVALID_ARGUMENT,n)}function T1(){return new Pr(kr.APP_DELETED,"The Firebase app was deleted.")}function JO(n){return new Pr(kr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let s;try{s=er.makeFromUrl(t,e)}catch{return new er(t,"")}if(s.path==="")return s;throw ZO(t)}static makeFromUrl(t,e){let s=null;const o="([A-Za-z0-9.\\-_]+)";function l(tt){tt.path.charAt(tt.path.length-1)==="/"&&(tt.path_=tt.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function g(tt){tt.path_=decodeURIComponent(tt.path)}const _="v[A-Za-z0-9_]+",T=e.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",C=new RegExp(`^https?://${T}/${_}/b/${o}/o${w}`,"i"),M={bucket:1,path:3},z=e===E1?"(?:storage.googleapis.com|storage.cloud.google.com)":e,k="([^?#]*)",Q=new RegExp(`^https?://${z}/${o}/${k}`,"i"),F=[{regex:d,indices:p,postModify:l},{regex:C,indices:M,postModify:g},{regex:Q,indices:{bucket:1,path:2},postModify:g}];for(let tt=0;tt<F.length;tt++){const st=F[tt],lt=st.regex.exec(t);if(lt){const N=lt[st.indices.bucket];let R=lt[st.indices.path];R||(R=""),s=new er(N,R),st.postModify(s);break}}if(s==null)throw WO(t);return s}}class tD{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(n,t,e){let s=1,o=null,l=null,c=!1,d=0;function p(){return d===2}let g=!1;function _(...k){g||(g=!0,t.apply(null,k))}function T(k){o=setTimeout(()=>{o=null,n(C,p())},k)}function w(){l&&clearTimeout(l)}function C(k,...Q){if(g){w();return}if(k){w(),_.call(null,k,...Q);return}if(p()||c){w(),_.call(null,k,...Q);return}s<64&&(s*=2);let F;d===1?(d=2,F=0):F=(s+Math.random())*1e3,T(F)}let M=!1;function z(k){M||(M=!0,w(),!g&&(o!==null?(k||(d=2),clearTimeout(o),T(0)):k||(d=1)))}return T(0),l=setTimeout(()=>{c=!0,z(!0)},e),z}function nD(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(n){return n!==void 0}function UT(n,t,e,s){if(s<t)throw LT(`Invalid value for '${n}'. Expected ${t} or greater.`);if(s>e)throw LT(`Invalid value for '${n}'. Expected ${e} or less.`)}function iD(n){const t=encodeURIComponent;let e="?";for(const s in n)if(n.hasOwnProperty(s)){const o=t(s)+"="+t(n[s]);e=e+o+"&"}return e=e.slice(0,-1),e}var th;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(th||(th={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(n,t){const e=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=t.indexOf(n)!==-1;return e||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(t,e,s,o,l,c,d,p,g,_,T,w=!0,C=!1){this.url_=t,this.method_=e,this.headers_=s,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=T,this.retry=w,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,z)=>{this.resolve_=M,this.reject_=z,this.start_()})}start_(){const t=(s,o)=>{if(o){s(!1,new wf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===th.NO_ERROR,p=l.getStatus();if(!d||sD(p,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===th.ABORT;s(!1,new wf(!1,null,_));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new wf(g,l))})},e=(s,o)=>{const l=this.resolve_,c=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());rD(p)?l(p):l()}catch(p){c(p)}else if(d!==null){const p=QO();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(o.canceled){const p=this.appDelete_?T1():XO();c(p)}else{const p=YO();c(p)}};this.canceled_?e(!1,new wf(!1,null,!0)):this.backoffId_=eD(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&nD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wf{constructor(t,e,s){this.wasSuccessCode=t,this.connection=e,this.canceled=!!s}}function oD(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function lD(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function uD(n,t){t&&(n["X-Firebase-GMPID"]=t)}function cD(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function fD(n,t,e,s,o,l,c=!0,d=!1){const p=iD(n.urlParams),g=n.url+p,_=Object.assign({},n.headers);return uD(_,t),oD(_,e),lD(_,l),cD(_,s),new aD(g,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function dD(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(t,e){this._service=t,e instanceof er?this._location=e:this._location=er.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new eh(t,e)}get root(){const t=new er(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dD(this._location.path)}get storage(){return this._service}get parent(){const t=hD(this._location.path);if(t===null)return null;const e=new er(this._location.bucket,t);return new eh(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw JO(t)}}function jT(n,t){const e=t?.[GO];return e==null?null:er.makeFromBucketSpec(e,n)}function mD(n,t,e,s={}){n.host=`${t}:${e}`;const o=Ea(t);o&&(wg(`https://${n.host}/b`),Sg("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:l}=s;l&&(n._overrideAuthToken=typeof l=="string"?l:Vb(l,n.app.options.projectId))}class pD{constructor(t,e,s,o,l,c=!1){this.app=t,this._authProvider=e,this._appCheckProvider=s,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=E1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$O,this._maxUploadRetryTime=KO,this._requests=new Set,o!=null?this._bucket=er.makeFromBucketSpec(o,this._host):this._bucket=jT(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=er.makeFromBucketSpec(this._url,t):this._bucket=jT(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){UT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){UT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new eh(this,t)}_makeRequest(t,e,s,o,l=!0){if(this._deleted)return new tD(T1());{const c=fD(t,this._appId,s,o,e,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,e){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,s,o).getPromise()}}const BT="@firebase/storage",zT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="storage";function gD(n=Cg(),t){n=fn(n);const s=Rh(n,b1).getImmediate({identifier:t}),o=Db("storage");return o&&yD(s,...o),s}function yD(n,t,e,s={}){mD(n,t,e,s)}function _D(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new pD(e,s,o,t,Ta)}function vD(){ma(new hs(b1,_D,"PUBLIC").setMultipleInstances(!0)),Rr(BT,zT,""),Rr(BT,zT,"esm2020")}vD();var qT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cs,w1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,R){function I(){}I.prototype=R.prototype,N.D=R.prototype,N.prototype=new I,N.prototype.constructor=N,N.C=function(P,L,j){for(var D=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)D[ue-2]=arguments[ue];return R.prototype[L].apply(P,D)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,e),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,I){I||(I=0);var P=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)P[L]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(L=0;16>L;++L)P[L]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=N.g[0],I=N.g[1],L=N.g[2];var j=N.g[3],D=R+(j^I&(L^j))+P[0]+3614090360&4294967295;R=I+(D<<7&4294967295|D>>>25),D=j+(L^R&(I^L))+P[1]+3905402710&4294967295,j=R+(D<<12&4294967295|D>>>20),D=L+(I^j&(R^I))+P[2]+606105819&4294967295,L=j+(D<<17&4294967295|D>>>15),D=I+(R^L&(j^R))+P[3]+3250441966&4294967295,I=L+(D<<22&4294967295|D>>>10),D=R+(j^I&(L^j))+P[4]+4118548399&4294967295,R=I+(D<<7&4294967295|D>>>25),D=j+(L^R&(I^L))+P[5]+1200080426&4294967295,j=R+(D<<12&4294967295|D>>>20),D=L+(I^j&(R^I))+P[6]+2821735955&4294967295,L=j+(D<<17&4294967295|D>>>15),D=I+(R^L&(j^R))+P[7]+4249261313&4294967295,I=L+(D<<22&4294967295|D>>>10),D=R+(j^I&(L^j))+P[8]+1770035416&4294967295,R=I+(D<<7&4294967295|D>>>25),D=j+(L^R&(I^L))+P[9]+2336552879&4294967295,j=R+(D<<12&4294967295|D>>>20),D=L+(I^j&(R^I))+P[10]+4294925233&4294967295,L=j+(D<<17&4294967295|D>>>15),D=I+(R^L&(j^R))+P[11]+2304563134&4294967295,I=L+(D<<22&4294967295|D>>>10),D=R+(j^I&(L^j))+P[12]+1804603682&4294967295,R=I+(D<<7&4294967295|D>>>25),D=j+(L^R&(I^L))+P[13]+4254626195&4294967295,j=R+(D<<12&4294967295|D>>>20),D=L+(I^j&(R^I))+P[14]+2792965006&4294967295,L=j+(D<<17&4294967295|D>>>15),D=I+(R^L&(j^R))+P[15]+1236535329&4294967295,I=L+(D<<22&4294967295|D>>>10),D=R+(L^j&(I^L))+P[1]+4129170786&4294967295,R=I+(D<<5&4294967295|D>>>27),D=j+(I^L&(R^I))+P[6]+3225465664&4294967295,j=R+(D<<9&4294967295|D>>>23),D=L+(R^I&(j^R))+P[11]+643717713&4294967295,L=j+(D<<14&4294967295|D>>>18),D=I+(j^R&(L^j))+P[0]+3921069994&4294967295,I=L+(D<<20&4294967295|D>>>12),D=R+(L^j&(I^L))+P[5]+3593408605&4294967295,R=I+(D<<5&4294967295|D>>>27),D=j+(I^L&(R^I))+P[10]+38016083&4294967295,j=R+(D<<9&4294967295|D>>>23),D=L+(R^I&(j^R))+P[15]+3634488961&4294967295,L=j+(D<<14&4294967295|D>>>18),D=I+(j^R&(L^j))+P[4]+3889429448&4294967295,I=L+(D<<20&4294967295|D>>>12),D=R+(L^j&(I^L))+P[9]+568446438&4294967295,R=I+(D<<5&4294967295|D>>>27),D=j+(I^L&(R^I))+P[14]+3275163606&4294967295,j=R+(D<<9&4294967295|D>>>23),D=L+(R^I&(j^R))+P[3]+4107603335&4294967295,L=j+(D<<14&4294967295|D>>>18),D=I+(j^R&(L^j))+P[8]+1163531501&4294967295,I=L+(D<<20&4294967295|D>>>12),D=R+(L^j&(I^L))+P[13]+2850285829&4294967295,R=I+(D<<5&4294967295|D>>>27),D=j+(I^L&(R^I))+P[2]+4243563512&4294967295,j=R+(D<<9&4294967295|D>>>23),D=L+(R^I&(j^R))+P[7]+1735328473&4294967295,L=j+(D<<14&4294967295|D>>>18),D=I+(j^R&(L^j))+P[12]+2368359562&4294967295,I=L+(D<<20&4294967295|D>>>12),D=R+(I^L^j)+P[5]+4294588738&4294967295,R=I+(D<<4&4294967295|D>>>28),D=j+(R^I^L)+P[8]+2272392833&4294967295,j=R+(D<<11&4294967295|D>>>21),D=L+(j^R^I)+P[11]+1839030562&4294967295,L=j+(D<<16&4294967295|D>>>16),D=I+(L^j^R)+P[14]+4259657740&4294967295,I=L+(D<<23&4294967295|D>>>9),D=R+(I^L^j)+P[1]+2763975236&4294967295,R=I+(D<<4&4294967295|D>>>28),D=j+(R^I^L)+P[4]+1272893353&4294967295,j=R+(D<<11&4294967295|D>>>21),D=L+(j^R^I)+P[7]+4139469664&4294967295,L=j+(D<<16&4294967295|D>>>16),D=I+(L^j^R)+P[10]+3200236656&4294967295,I=L+(D<<23&4294967295|D>>>9),D=R+(I^L^j)+P[13]+681279174&4294967295,R=I+(D<<4&4294967295|D>>>28),D=j+(R^I^L)+P[0]+3936430074&4294967295,j=R+(D<<11&4294967295|D>>>21),D=L+(j^R^I)+P[3]+3572445317&4294967295,L=j+(D<<16&4294967295|D>>>16),D=I+(L^j^R)+P[6]+76029189&4294967295,I=L+(D<<23&4294967295|D>>>9),D=R+(I^L^j)+P[9]+3654602809&4294967295,R=I+(D<<4&4294967295|D>>>28),D=j+(R^I^L)+P[12]+3873151461&4294967295,j=R+(D<<11&4294967295|D>>>21),D=L+(j^R^I)+P[15]+530742520&4294967295,L=j+(D<<16&4294967295|D>>>16),D=I+(L^j^R)+P[2]+3299628645&4294967295,I=L+(D<<23&4294967295|D>>>9),D=R+(L^(I|~j))+P[0]+4096336452&4294967295,R=I+(D<<6&4294967295|D>>>26),D=j+(I^(R|~L))+P[7]+1126891415&4294967295,j=R+(D<<10&4294967295|D>>>22),D=L+(R^(j|~I))+P[14]+2878612391&4294967295,L=j+(D<<15&4294967295|D>>>17),D=I+(j^(L|~R))+P[5]+4237533241&4294967295,I=L+(D<<21&4294967295|D>>>11),D=R+(L^(I|~j))+P[12]+1700485571&4294967295,R=I+(D<<6&4294967295|D>>>26),D=j+(I^(R|~L))+P[3]+2399980690&4294967295,j=R+(D<<10&4294967295|D>>>22),D=L+(R^(j|~I))+P[10]+4293915773&4294967295,L=j+(D<<15&4294967295|D>>>17),D=I+(j^(L|~R))+P[1]+2240044497&4294967295,I=L+(D<<21&4294967295|D>>>11),D=R+(L^(I|~j))+P[8]+1873313359&4294967295,R=I+(D<<6&4294967295|D>>>26),D=j+(I^(R|~L))+P[15]+4264355552&4294967295,j=R+(D<<10&4294967295|D>>>22),D=L+(R^(j|~I))+P[6]+2734768916&4294967295,L=j+(D<<15&4294967295|D>>>17),D=I+(j^(L|~R))+P[13]+1309151649&4294967295,I=L+(D<<21&4294967295|D>>>11),D=R+(L^(I|~j))+P[4]+4149444226&4294967295,R=I+(D<<6&4294967295|D>>>26),D=j+(I^(R|~L))+P[11]+3174756917&4294967295,j=R+(D<<10&4294967295|D>>>22),D=L+(R^(j|~I))+P[2]+718787259&4294967295,L=j+(D<<15&4294967295|D>>>17),D=I+(j^(L|~R))+P[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+j&4294967295}s.prototype.u=function(N,R){R===void 0&&(R=N.length);for(var I=R-this.blockSize,P=this.B,L=this.h,j=0;j<R;){if(L==0)for(;j<=I;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<R;)if(P[L++]=N.charCodeAt(j++),L==this.blockSize){o(this,P),L=0;break}}else for(;j<R;)if(P[L++]=N[j++],L==this.blockSize){o(this,P),L=0;break}}this.h=L,this.o+=R},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;var I=8*this.o;for(R=N.length-8;R<N.length;++R)N[R]=I&255,I/=256;for(this.u(N),N=Array(16),R=I=0;4>R;++R)for(var P=0;32>P;P+=8)N[I++]=this.g[R]>>>P&255;return N};function l(N,R){var I=d;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=R(N)}function c(N,R){this.h=R;for(var I=[],P=!0,L=N.length-1;0<=L;L--){var j=N[L]|0;P&&j==R||(I[L]=j,P=!1)}this.g=I}var d={};function p(N){return-128<=N&&128>N?l(N,function(R){return new c([R|0],0>R?-1:0)}):new c([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return T;if(0>N)return k(g(-N));for(var R=[],I=1,P=0;N>=I;P++)R[P]=N/I|0,I*=4294967296;return new c(R,0)}function _(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return k(_(N.substring(1),R));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),P=T,L=0;L<N.length;L+=8){var j=Math.min(8,N.length-L),D=parseInt(N.substring(L,L+j),R);8>j?(j=g(Math.pow(R,j)),P=P.j(j).add(g(D))):(P=P.j(I),P=P.add(g(D)))}return P}var T=p(0),w=p(1),C=p(16777216);n=c.prototype,n.m=function(){if(z(this))return-k(this).m();for(var N=0,R=1,I=0;I<this.g.length;I++){var P=this.i(I);N+=(0<=P?P:4294967296+P)*R,R*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(M(this))return"0";if(z(this))return"-"+k(this).toString(N);for(var R=g(Math.pow(N,6)),I=this,P="";;){var L=tt(I,R).g;I=Q(I,L.j(R));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(N);if(I=L,M(I))return j+P;for(;6>j.length;)j="0"+j;P=j+P}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function M(N){if(N.h!=0)return!1;for(var R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function z(N){return N.h==-1}n.l=function(N){return N=Q(this,N),z(N)?-1:M(N)?0:1};function k(N){for(var R=N.g.length,I=[],P=0;P<R;P++)I[P]=~N.g[P];return new c(I,~N.h).add(w)}n.abs=function(){return z(this)?k(this):this},n.add=function(N){for(var R=Math.max(this.g.length,N.g.length),I=[],P=0,L=0;L<=R;L++){var j=P+(this.i(L)&65535)+(N.i(L)&65535),D=(j>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);P=D>>>16,j&=65535,D&=65535,I[L]=D<<16|j}return new c(I,I[I.length-1]&-2147483648?-1:0)};function Q(N,R){return N.add(k(R))}n.j=function(N){if(M(this)||M(N))return T;if(z(this))return z(N)?k(this).j(k(N)):k(k(this).j(N));if(z(N))return k(this.j(k(N)));if(0>this.l(C)&&0>N.l(C))return g(this.m()*N.m());for(var R=this.g.length+N.g.length,I=[],P=0;P<2*R;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var L=0;L<N.g.length;L++){var j=this.i(P)>>>16,D=this.i(P)&65535,ue=N.i(L)>>>16,Qt=N.i(L)&65535;I[2*P+2*L]+=D*Qt,q(I,2*P+2*L),I[2*P+2*L+1]+=j*Qt,q(I,2*P+2*L+1),I[2*P+2*L+1]+=D*ue,q(I,2*P+2*L+1),I[2*P+2*L+2]+=j*ue,q(I,2*P+2*L+2)}for(P=0;P<R;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=R;P<2*R;P++)I[P]=0;return new c(I,0)};function q(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function F(N,R){this.g=N,this.h=R}function tt(N,R){if(M(R))throw Error("division by zero");if(M(N))return new F(T,T);if(z(N))return R=tt(k(N),R),new F(k(R.g),k(R.h));if(z(R))return R=tt(N,k(R)),new F(k(R.g),R.h);if(30<N.g.length){if(z(N)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var I=w,P=R;0>=P.l(N);)I=st(I),P=st(P);var L=lt(I,1),j=lt(P,1);for(P=lt(P,2),I=lt(I,2);!M(P);){var D=j.add(P);0>=D.l(N)&&(L=L.add(I),j=D),P=lt(P,1),I=lt(I,1)}return R=Q(N,L.j(R)),new F(L,R)}for(L=T;0<=N.l(R);){for(I=Math.max(1,Math.floor(N.m()/R.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),j=g(I),D=j.j(R);z(D)||0<D.l(N);)I-=P,j=g(I),D=j.j(R);M(j)&&(j=w),L=L.add(j),N=Q(N,D)}return new F(L,N)}n.A=function(N){return tt(this,N).h},n.and=function(N){for(var R=Math.max(this.g.length,N.g.length),I=[],P=0;P<R;P++)I[P]=this.i(P)&N.i(P);return new c(I,this.h&N.h)},n.or=function(N){for(var R=Math.max(this.g.length,N.g.length),I=[],P=0;P<R;P++)I[P]=this.i(P)|N.i(P);return new c(I,this.h|N.h)},n.xor=function(N){for(var R=Math.max(this.g.length,N.g.length),I=[],P=0;P<R;P++)I[P]=this.i(P)^N.i(P);return new c(I,this.h^N.h)};function st(N){for(var R=N.g.length+1,I=[],P=0;P<R;P++)I[P]=N.i(P)<<1|N.i(P-1)>>>31;return new c(I,N.h)}function lt(N,R){var I=R>>5;R%=32;for(var P=N.g.length-I,L=[],j=0;j<P;j++)L[j]=0<R?N.i(j+I)>>>R|N.i(j+I+1)<<32-R:N.i(j+I);return new c(L,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,w1=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,cs=c}).apply(typeof qT<"u"?qT:typeof self<"u"?self:typeof window<"u"?window:{});var Sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var S1,cu,A1,jf,$p,R1,C1,I1;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,v){return f==Array.prototype||f==Object.prototype||(f[y]=v.value),f};function e(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sf=="object"&&Sf];for(var y=0;y<f.length;++y){var v=f[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=e(this);function o(f,y){if(y)t:{var v=s;f=f.split(".");for(var A=0;A<f.length-1;A++){var H=f[A];if(!(H in v))break t;v=v[H]}f=f[f.length-1],A=v[f],y=y(A),y!=A&&y!=null&&t(v,f,{configurable:!0,writable:!0,value:y})}}function l(f,y){f instanceof String&&(f+="");var v=0,A=!1,H={next:function(){if(!A&&v<f.length){var X=v++;return{value:y(X,f[X]),done:!1}}return A=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(f){return f||function(){return l(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function g(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function _(f,y,v){return f.call.apply(f.bind,arguments)}function T(f,y,v){if(!f)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,A),f.apply(y,H)}}return function(){return f.apply(y,arguments)}}function w(f,y,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,w.apply(null,arguments)}function C(f,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function M(f,y){function v(){}v.prototype=y.prototype,f.aa=y.prototype,f.prototype=new v,f.prototype.constructor=f,f.Qb=function(A,H,X){for(var ut=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)ut[Ut-2]=arguments[Ut];return y.prototype[H].apply(A,ut)}}function z(f){const y=f.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=f[A];return v}return[]}function k(f,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const H=f.length||0,X=A.length||0;f.length=H+X;for(let ut=0;ut<X;ut++)f[H+ut]=A[ut]}else f.push(A)}}class Q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function q(f){return/^[\s\xa0]*$/.test(f)}function F(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function tt(f){return tt[" "](f),f}tt[" "]=function(){};var st=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function lt(f,y,v){for(const A in f)y.call(v,f[A],A,f)}function N(f,y){for(const v in f)y.call(void 0,f[v],v,f)}function R(f){const y={};for(const v in f)y[v]=f[v];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(f,y){let v,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(v in A)f[v]=A[v];for(let X=0;X<I.length;X++)v=I[X],Object.prototype.hasOwnProperty.call(A,v)&&(f[v]=A[v])}}function L(f){var y=1;f=f.split(":");const v=[];for(;0<y&&f.length;)v.push(f.shift()),y--;return f.length&&v.push(f.join(":")),v}function j(f){d.setTimeout(()=>{throw f},0)}function D(){var f=Lt;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class ue{constructor(){this.h=this.g=null}add(y,v){const A=Qt.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Qt=new Q(()=>new W,f=>f.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,ft=!1,Lt=new ue,V=()=>{const f=d.Promise.resolve(void 0);ot=()=>{f.then(it)}};var it=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(v){j(v)}var y=Qt;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}ft=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var mt=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return f})();function St(f,y){if(at.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var v=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(st){t:{try{tt(y.nodeName);var H=!0;break t}catch{}H=!1}H||(y=null)}}else v=="mouseover"?y=f.fromElement:v=="mouseout"&&(y=f.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:bt[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&St.aa.h.call(this)}}M(St,at);var bt={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function hn(f,y,v,A,H){this.listener=f,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=H,this.key=++Zt,this.da=this.fa=!1}function Cn(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Gn(f){this.src=f,this.g={},this.h=0}Gn.prototype.add=function(f,y,v,A,H){var X=f.toString();f=this.g[X],f||(f=this.g[X]=[],this.h++);var ut=$n(f,y,A,H);return-1<ut?(y=f[ut],v||(y.fa=!1)):(y=new hn(y,this.src,X,!!A,H),y.fa=v,f.push(y)),y};function or(f,y){var v=y.type;if(v in f.g){var A=f.g[v],H=Array.prototype.indexOf.call(A,y,void 0),X;(X=0<=H)&&Array.prototype.splice.call(A,H,1),X&&(Cn(y),f.g[v].length==0&&(delete f.g[v],f.h--))}}function $n(f,y,v,A){for(var H=0;H<f.length;++H){var X=f[H];if(!X.da&&X.listener==y&&X.capture==!!v&&X.ha==A)return H}return-1}var In="closure_lm_"+(1e6*Math.random()|0),re={};function As(f,y,v,A,H){if(Array.isArray(y)){for(var X=0;X<y.length;X++)As(f,y[X],v,A,H);return null}return v=Wu(v),f&&f[be]?f.K(y,v,g(A)?!!A.capture:!1,H):We(f,y,v,!1,A,H)}function We(f,y,v,A,H,X){if(!y)throw Error("Invalid event type");var ut=g(H)?!!H.capture:!!H,Ut=Ca(f);if(Ut||(f[In]=Ut=new Gn(f)),v=Ut.add(y,v,A,ut,X),v.proxy)return v;if(A=Jh(),v.proxy=A,A.src=f,A.listener=v,f.addEventListener)mt||(H=ut),H===void 0&&(H=!1),f.addEventListener(y.toString(),A,H);else if(f.attachEvent)f.attachEvent(Rs(y.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Jh(){function f(v){return y.call(f.src,f.listener,v)}const y=td;return f}function Xo(f,y,v,A,H){if(Array.isArray(y))for(var X=0;X<y.length;X++)Xo(f,y[X],v,A,H);else A=g(A)?!!A.capture:!!A,v=Wu(v),f&&f[be]?(f=f.i,y=String(y).toString(),y in f.g&&(X=f.g[y],v=$n(X,v,A,H),-1<v&&(Cn(X[v]),Array.prototype.splice.call(X,v,1),X.length==0&&(delete f.g[y],f.h--)))):f&&(f=Ca(f))&&(y=f.g[y.toString()],f=-1,y&&(f=$n(y,v,A,H)),(v=-1<f?y[f]:null)&&Ra(v))}function Ra(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[be])or(y.i,f);else{var v=f.type,A=f.proxy;y.removeEventListener?y.removeEventListener(v,A,f.capture):y.detachEvent?y.detachEvent(Rs(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=Ca(y))?(or(v,f),v.h==0&&(v.src=null,y[In]=null)):Cn(f)}}}function Rs(f){return f in re?re[f]:re[f]="on"+f}function td(f,y){if(f.da)f=!0;else{y=new St(y,this);var v=f.listener,A=f.ha||f.src;f.fa&&Ra(f),f=v.call(A,y)}return f}function Ca(f){return f=f[In],f instanceof Gn?f:null}var Wo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wu(f){return typeof f=="function"?f:(f[Wo]||(f[Wo]=function(y){return f.handleEvent(y)}),f[Wo])}function pe(){ct.call(this),this.i=new Gn(this),this.M=this,this.F=null}M(pe,ct),pe.prototype[be]=!0,pe.prototype.removeEventListener=function(f,y,v,A){Xo(this,f,y,v,A)};function Yt(f,y){var v,A=f.F;if(A)for(v=[];A;A=A.F)v.push(A);if(f=f.M,A=y.type||y,typeof y=="string")y=new at(y,f);else if(y instanceof at)y.target=y.target||f;else{var H=y;y=new at(A,f),P(y,H)}if(H=!0,v)for(var X=v.length-1;0<=X;X--){var ut=y.g=v[X];H=_n(ut,A,!0,y)&&H}if(ut=y.g=f,H=_n(ut,A,!0,y)&&H,H=_n(ut,A,!1,y)&&H,v)for(X=0;X<v.length;X++)ut=y.g=v[X],H=_n(ut,A,!1,y)&&H}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var v=f.g[y],A=0;A<v.length;A++)Cn(v[A]);delete f.g[y],f.h--}}this.F=null},pe.prototype.K=function(f,y,v,A){return this.i.add(String(f),y,!1,v,A)},pe.prototype.L=function(f,y,v,A){return this.i.add(String(f),y,!0,v,A)};function _n(f,y,v,A){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,X=0;X<y.length;++X){var ut=y[X];if(ut&&!ut.da&&ut.capture==v){var Ut=ut.listener,De=ut.ha||ut.src;ut.fa&&or(f.i,ut),H=Ut.call(De,A)!==!1&&H}}return H&&!A.defaultPrevented}function Ze(f,y,v){if(typeof f=="function")v&&(f=w(f,v));else if(f&&typeof f.handleEvent=="function")f=w(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(f,y||0)}function Zu(f){f.g=Ze(()=>{f.g=null,f.i&&(f.i=!1,Zu(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class ed extends ct{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Zu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cs(f){ct.call(this),this.h=f,this.g={}}M(Cs,ct);var Is=[];function Ns(f){lt(f.g,function(y,v){this.g.hasOwnProperty(v)&&Ra(y)},f),f.g={}}Cs.prototype.N=function(){Cs.aa.N.call(this),Ns(this)},Cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kn=d.JSON.stringify,Ia=d.JSON.parse,xs=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function Zo(){}Zo.prototype.h=null;function Jo(f){return f.h||(f.h=f.i())}function tl(){}var Ur={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jr(){at.call(this,"d")}M(jr,at);function el(){at.call(this,"c")}M(el,at);var lr={},nl=null;function Ii(){return nl=nl||new pe}lr.La="serverreachability";function Na(f){at.call(this,lr.La,f)}M(Na,at);function Ni(f){const y=Ii();Yt(y,new Na(y))}lr.STAT_EVENT="statevent";function Ju(f,y){at.call(this,lr.STAT_EVENT,f),this.stat=y}M(Ju,at);function ce(f){const y=Ii();Yt(y,new Ju(y,f))}lr.Ma="timingevent";function Oe(f,y){at.call(this,lr.Ma,f),this.size=y}M(Oe,at);function we(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},y)}function Nn(){this.g=!0}Nn.prototype.xa=function(){this.g=!1};function rl(f,y,v,A,H,X){f.info(function(){if(f.g)if(X)for(var ut="",Ut=X.split("&"),De=0;De<Ut.length;De++){var jt=Ut[De].split("=");if(1<jt.length){var Ue=jt[0];jt=jt[1];var ke=Ue.split("_");ut=2<=ke.length&&ke[1]=="type"?ut+(Ue+"="+jt+"&"):ut+(Ue+"=redacted&")}}else ut=null;else ut=X;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+y+`
`+v+`
`+ut})}function nd(f,y,v,A,H,X,ut){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+y+`
`+v+`
`+X+" "+ut})}function xi(f,y,v,A){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Os(f,v)+(A?" "+A:"")})}function tc(f,y){f.info(function(){return"TIMEOUT: "+y})}Nn.prototype.info=function(){};function Os(f,y){if(!f.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(f=0;f<v.length;f++)if(Array.isArray(v[f])){var A=v[f];if(!(2>A.length)){var H=A[1];if(Array.isArray(H)&&!(1>H.length)){var X=H[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ut=1;ut<H.length;ut++)H[ut]=""}}}}return Kn(v)}catch{return y}}var Oi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Br={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ur;function cr(){}M(cr,Zo),cr.prototype.g=function(){return new XMLHttpRequest},cr.prototype.i=function(){return{}},ur=new cr;function an(f,y,v,A){this.j=f,this.i=y,this.l=v,this.R=A||1,this.U=new Cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _e}function _e(){this.i=null,this.g="",this.h=!1}var il={},xa={};function Qn(f,y,v){f.L=1,f.v=Ps(vn(y)),f.m=v,f.P=!0,zr(f,null)}function zr(f,y){f.F=Date.now(),Ds(f),f.A=vn(f.v);var v=f.A,A=f.R;Array.isArray(A)||(A=[String(A)]),cl(v.i,"t",A),f.C=0,v=f.j.J,f.h=new _e,f.g=gc(f.j,v?y:null,!f.m),0<f.O&&(f.M=new ed(w(f.Y,f,f.g),f.O)),y=f.U,v=f.g,A=f.ca;var H="readystatechange";Array.isArray(H)||(H&&(Is[0]=H.toString()),H=Is);for(var X=0;X<H.length;X++){var ut=As(v,H[X],A||y.handleEvent,!1,y.h||y);if(!ut)break;y.g[ut.key]=ut}y=f.H?R(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),Ni(),rl(f.i,f.u,f.A,f.l,f.R,f.m)}an.prototype.ca=function(f){f=f.target;const y=this.M;y&&kn(f)==3?y.j():this.Y(f)},an.prototype.Y=function(f){try{if(f==this.g)t:{const ke=kn(this.g);var y=this.g.Ba();const Yr=this.g.Z();if(!(3>ke)&&(ke!=3||this.g&&(this.h.h||this.g.oa()||lc(this.g)))){this.J||ke!=4||y==7||(y==8||0>=Yr?Ni(3):Ni(2)),Di(this);var v=this.g.Z();this.X=v;e:if(ec(this)){var A=lc(this.g);f="";var H=A.length,X=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){He(this),fr(this);var ut="";break e}this.h.i=new d.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,f+=this.h.i.decode(A[y],{stream:!(X&&y==H-1)});A.length=0,this.h.g+=f,this.C=0,ut=this.h.g}else ut=this.g.oa();if(this.o=v==200,nd(this.i,this.u,this.A,this.l,this.R,ke,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,De=this.g;if((Ut=De.g?De.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Ut)){var jt=Ut;break e}}jt=null}if(v=jt)xi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ks(this,v);else{this.o=!1,this.s=3,ce(12),He(this),fr(this);break t}}if(this.P){v=!0;let Fe;for(;!this.J&&this.C<ut.length;)if(Fe=nc(this,ut),Fe==xa){ke==4&&(this.s=4,ce(14),v=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Fe==il){this.s=4,ce(15),xi(this.i,this.l,ut,"[Invalid Chunk]"),v=!1;break}else xi(this.i,this.l,Fe,null),ks(this,Fe);if(ec(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||ut.length!=0||this.h.h||(this.s=1,ce(16),v=!1),this.o=this.o&&v,!v)xi(this.i,this.l,ut,"[Invalid Chunked Response]"),He(this),fr(this);else if(0<ut.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+ut.length),Fs(Ue),Ue.M=!0,ce(11))}}else xi(this.i,this.l,ut,null),ks(this,ut);ke==4&&He(this),this.o&&!this.J&&(ke==4?dc(this.j,this):(this.o=!1,Ds(this)))}else od(this.g),v==400&&0<ut.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),He(this),fr(this)}}}catch{}finally{}};function ec(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function nc(f,y){var v=f.C,A=y.indexOf(`
`,v);return A==-1?xa:(v=Number(y.substring(v,A)),isNaN(v)?il:(A+=1,A+v>y.length?xa:(y=y.slice(A,A+v),f.C=A+v,y)))}an.prototype.cancel=function(){this.J=!0,He(this)};function Ds(f){f.S=Date.now()+f.I,rc(f,f.I)}function rc(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=we(w(f.ba,f),y)}function Di(f){f.B&&(d.clearTimeout(f.B),f.B=null)}an.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(tc(this.i,this.A),this.L!=2&&(Ni(),ce(17)),He(this),this.s=2,fr(this)):rc(this,this.S-f)};function fr(f){f.j.G==0||f.J||dc(f.j,f)}function He(f){Di(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Ns(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function ks(f,y){try{var v=f.j;if(v.G!=0&&(v.g==f||sl(v.h,f))){if(!f.K&&sl(v.h,f)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<f.F)qa(v),Ba(v);else break t;pl(v),ce(18)}}else v.za=H[1],0<v.za-v.T&&37500>H[2]&&v.F&&v.v==0&&!v.C&&(v.C=we(w(v.Za,v),6e3));if(1>=Da(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Qr(v,11)}else if((f.K||v.g==f)&&qa(v),!q(y))for(H=v.Da.g.parse(y),y=0;y<H.length;y++){let jt=H[y];if(v.T=jt[0],jt=jt[1],v.G==2)if(jt[0]=="c"){v.K=jt[1],v.ia=jt[2];const Ue=jt[3];Ue!=null&&(v.la=Ue,v.j.info("VER="+v.la));const ke=jt[4];ke!=null&&(v.Aa=ke,v.j.info("SVER="+v.Aa));const Yr=jt[5];Yr!=null&&typeof Yr=="number"&&0<Yr&&(A=1.5*Yr,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Fe=f.g;if(Fe){const _r=Fe.g?Fe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_r){var X=A.h;X.g||_r.indexOf("spdy")==-1&&_r.indexOf("quic")==-1&&_r.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ka(X,X.h),X.h=null))}if(A.D){const yl=Fe.g?Fe.g.getResponseHeader("X-HTTP-Session-Id"):null;yl&&(A.ya=yl,Jt(A.I,A.D,yl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-f.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var ut=f;if(A.qa=pc(A,A.J?A.ia:null,A.W),ut.K){on(A.h,ut);var Ut=ut,De=A.L;De&&(Ut.I=De),Ut.B&&(Di(Ut),Ds(Ut)),A.g=ut}else fc(A);0<v.i.length&&za(v)}else jt[0]!="stop"&&jt[0]!="close"||Qr(v,7);else v.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Qr(v,7):dl(v):jt[0]!="noop"&&v.l&&v.l.ta(jt),v.v=0)}}Ni(4)}catch{}}var ic=class{constructor(f,y){this.g=f,this.map=y}};function qr(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oa(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Da(f){return f.h?1:f.g?f.g.size:0}function sl(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function ka(f,y){f.g?f.g.add(y):f.h=y}function on(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}qr.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function al(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const v of f.g.values())y=y.concat(v.D);return y}return z(f.i)}function rd(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(p(f)){for(var y=[],v=f.length,A=0;A<v;A++)y.push(f[A]);return y}y=[],v=0;for(A in f)y[v++]=f[A];return y}function Ma(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(p(f)||typeof f=="string"){var y=[];f=f.length;for(var v=0;v<f;v++)y.push(v);return y}y=[],v=0;for(const A in f)y[v++]=A;return y}}}function ol(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(p(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var v=Ma(f),A=rd(f),H=A.length,X=0;X<H;X++)y.call(void 0,A[X],v&&v[X],f)}var Ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function id(f,y){if(f){f=f.split("&");for(var v=0;v<f.length;v++){var A=f[v].indexOf("="),H=null;if(0<=A){var X=f[v].substring(0,A);H=f[v].substring(A+1)}else X=f[v];y(X,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Se(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Se){this.h=f.h,Vs(this,f.j),this.o=f.o,this.g=f.g,ki(this,f.s),this.l=f.l;var y=f.i,v=new Fr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Hr(this,v),this.m=f.m}else f&&(y=String(f).match(Ms))?(this.h=!1,Vs(this,y[1]||"",!0),this.o=xn(y[2]||""),this.g=xn(y[3]||"",!0),ki(this,y[4]),this.l=xn(y[5]||"",!0),Hr(this,y[6]||"",!0),this.m=xn(y[7]||"")):(this.h=!1,this.i=new Fr(null,this.h))}Se.prototype.toString=function(){var f=[],y=this.j;y&&f.push(Ls(y,ll,!0),":");var v=this.g;return(v||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Ls(y,ll,!0),"@"),f.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&f.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&f.push("/"),f.push(Ls(v,v.charAt(0)=="/"?sd:ul,!0))),(v=this.i.toString())&&f.push("?",v),(v=this.m)&&f.push("#",Ls(v,Va)),f.join("")};function vn(f){return new Se(f)}function Vs(f,y,v){f.j=v?xn(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function ki(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function Hr(f,y,v){y instanceof Fr?(f.i=y,ac(f.i,f.h)):(v||(y=Ls(y,ad)),f.i=new Fr(y,f.h))}function Jt(f,y,v){f.i.set(y,v)}function Ps(f){return Jt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function xn(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ls(f,y,v){return typeof f=="string"?(f=encodeURI(f).replace(y,sc),v&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function sc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ll=/[#\/\?@]/g,ul=/[#\?:]/g,sd=/[#\?]/g,ad=/[#\?@]/g,Va=/#/g;function Fr(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function On(f){f.g||(f.g=new Map,f.h=0,f.i&&id(f.i,function(y,v){f.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}n=Fr.prototype,n.add=function(f,y){On(this),this.i=null,f=hr(this,f);var v=this.g.get(f);return v||this.g.set(f,v=[]),v.push(y),this.h+=1,this};function Gr(f,y){On(f),y=hr(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function $r(f,y){return On(f),y=hr(f,y),f.g.has(y)}n.forEach=function(f,y){On(this),this.g.forEach(function(v,A){v.forEach(function(H){f.call(y,H,A,this)},this)},this)},n.na=function(){On(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const H=f[A];for(let X=0;X<H.length;X++)v.push(y[A])}return v},n.V=function(f){On(this);let y=[];if(typeof f=="string")$r(this,f)&&(y=y.concat(this.g.get(hr(this,f))));else{f=Array.from(this.g.values());for(let v=0;v<f.length;v++)y=y.concat(f[v])}return y},n.set=function(f,y){return On(this),this.i=null,f=hr(this,f),$r(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function cl(f,y,v){Gr(f,y),0<v.length&&(f.i=null,f.g.set(hr(f,y),z(v)),f.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const X=encodeURIComponent(String(A)),ut=this.V(A);for(A=0;A<ut.length;A++){var H=X;ut[A]!==""&&(H+="="+encodeURIComponent(String(ut[A]))),f.push(H)}}return this.i=f.join("&")};function hr(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function ac(f,y){y&&!f.j&&(On(f),f.i=null,f.g.forEach(function(v,A){var H=A.toLowerCase();A!=H&&(Gr(this,A),cl(this,H,v))},f)),f.j=y}function Us(f,y){const v=new Nn;if(d.Image){const A=new Image;A.onload=C(Dn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=C(Dn,v,"TestLoadImage: error",!1,y,A),A.onabort=C(Dn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=C(Dn,v,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else y(!1)}function Yn(f,y){const v=new Nn,A=new AbortController,H=setTimeout(()=>{A.abort(),Dn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:A.signal}).then(X=>{clearTimeout(H),X.ok?Dn(v,"TestPingServer: ok",!0,y):Dn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Dn(v,"TestPingServer: error",!1,y)})}function Dn(f,y,v,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(v)}catch{}}function js(){this.g=new xs}function dr(f,y,v){const A=v||"";try{ol(f,function(H,X){let ut=H;g(H)&&(ut=Kn(H)),y.push(A+X+"="+encodeURIComponent(ut))})}catch(H){throw y.push(A+"type="+encodeURIComponent("_badmap")),H}}function Mi(f){this.l=f.Ub||null,this.j=f.eb||!1}M(Mi,Zo),Mi.prototype.g=function(){return new Kr(this.l,this.j)},Mi.prototype.i=(function(f){return function(){return f}})({});function Kr(f,y){pe.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Kr,pe),n=Kr.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,pr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,pr(this)),this.g&&(this.readyState=3,pr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function fl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?mr(this):pr(this),this.readyState==3&&fl(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,mr(this))},n.Qa=function(f){this.g&&(this.response=f,mr(this))},n.ga=function(){this.g&&mr(this)};function mr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,pr(f)}n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,f.push(v[0]+": "+v[1]),v=y.next();return f.join(`\r
`)};function pr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function hl(f){let y="";return lt(f,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Le(f,y,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=hl(v),typeof f=="string"?v!=null&&encodeURIComponent(String(v)):Jt(f,y,v))}function Gt(f){pe.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Gt,pe);var Pa=/^https?$/i,Bs=["POST","PUT"];n=Gt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ur.g(),this.v=this.o?Jo(this.o):Jo(ur),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(X){oc(this,X);return}if(f=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)v.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())v.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(X=>X.toLowerCase()=="content-type"),H=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Bs,y,void 0))||A||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ut]of v)this.g.setRequestHeader(X,ut);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zs(this),this.u=!0,this.g.send(f),this.u=!1}catch(X){oc(this,X)}};function oc(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,La(f),gr(f)}function La(f){f.A||(f.A=!0,Yt(f,"complete"),Yt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Yt(this,"complete"),Yt(this,"abort"),gr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gr(this,!0)),Gt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ua(this):this.bb())},n.bb=function(){Ua(this)};function Ua(f){if(f.h&&typeof c<"u"&&(!f.v[1]||kn(f)!=4||f.Z()!=2)){if(f.u&&kn(f)==4)Ze(f.Ea,0,f);else if(Yt(f,"readystatechange"),kn(f)==4){f.h=!1;try{const ut=f.Z();t:switch(ut){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var A;if(A=ut===0){var H=String(f.D).match(Ms)[1]||null;!H&&d.self&&d.self.location&&(H=d.self.location.protocol.slice(0,-1)),A=!Pa.test(H?H.toLowerCase():"")}v=A}if(v)Yt(f,"complete"),Yt(f,"success");else{f.m=6;try{var X=2<kn(f)?f.g.statusText:""}catch{X=""}f.l=X+" ["+f.Z()+"]",La(f)}}finally{gr(f)}}}}function gr(f,y){if(f.g){zs(f);const v=f.g,A=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Yt(f,"ready");try{v.onreadystatechange=A}catch{}}}function zs(f){f.I&&(d.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function kn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),Ia(y)}};function lc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function od(f){const y={};f=(f.g&&2<=kn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(q(f[A]))continue;var v=L(f[A]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const X=y[H]||[];y[H]=X,X.push(v)}N(y,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qs(f,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[f]||y}function ja(f){this.Aa=0,this.i=[],this.j=new Nn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qs("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qs("baseRetryDelayMs",5e3,f),this.cb=qs("retryDelaySeedMs",1e4,f),this.Wa=qs("forwardChannelMaxRetries",2,f),this.wa=qs("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new qr(f&&f.concurrentRequestLimit),this.Da=new js,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ja.prototype,n.la=8,n.G=1,n.connect=function(f,y,v,A){ce(0),this.W=f,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=pc(this,null,this.W),za(this)};function dl(f){if(uc(f),f.G==3){var y=f.U++,v=vn(f.I);if(Jt(v,"SID",f.K),Jt(v,"RID",y),Jt(v,"TYPE","terminate"),Hs(f,v),y=new an(f,f.j,y),y.L=2,y.v=Ps(vn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=gc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ds(y)}mc(f)}function Ba(f){f.g&&(Fs(f),f.g.cancel(),f.g=null)}function uc(f){Ba(f),f.u&&(d.clearTimeout(f.u),f.u=null),qa(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function za(f){if(!Oa(f.h)&&!f.s){f.s=!0;var y=f.Ga;ot||V(),ft||(ot(),ft=!0),Lt.add(y,f),f.B=0}}function ld(f,y){return Da(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=we(w(f.Ga,f,y),gl(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const H=new an(this,this.j,f);let X=this.o;if(this.S&&(X?(X=R(X),P(X,this.S)):X=this.S),this.m!==null||this.O||(H.H=X,X=null),this.P)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=cc(this,H,y),v=vn(this.I),Jt(v,"RID",f),Jt(v,"CVER",22),this.D&&Jt(v,"X-HTTP-Session-Id",this.D),Hs(this,v),X&&(this.O?y="headers="+encodeURIComponent(String(hl(X)))+"&"+y:this.m&&Le(v,this.m,X)),ka(this.h,H),this.Ua&&Jt(v,"TYPE","init"),this.P?(Jt(v,"$req",y),Jt(v,"SID","null"),H.T=!0,Qn(H,v,null)):Qn(H,v,y),this.G=2}}else this.G==3&&(f?ml(this,f):this.i.length==0||Oa(this.h)||ml(this))};function ml(f,y){var v;y?v=y.l:v=f.U++;const A=vn(f.I);Jt(A,"SID",f.K),Jt(A,"RID",v),Jt(A,"AID",f.T),Hs(f,A),f.m&&f.o&&Le(A,f.m,f.o),v=new an(f,f.j,v,f.B+1),f.m===null&&(v.H=f.o),y&&(f.i=y.D.concat(f.i)),y=cc(f,v,1e3),v.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),ka(f.h,v),Qn(v,A,y)}function Hs(f,y){f.H&&lt(f.H,function(v,A){Jt(y,A,v)}),f.l&&ol({},function(v,A){Jt(y,A,v)})}function cc(f,y,v){v=Math.min(f.i.length,v);var A=f.l?w(f.l.Na,f.l,f):null;t:{var H=f.i;let X=-1;for(;;){const ut=["count="+v];X==-1?0<v?(X=H[0].g,ut.push("ofs="+X)):X=0:ut.push("ofs="+X);let Ut=!0;for(let De=0;De<v;De++){let jt=H[De].g;const Ue=H[De].map;if(jt-=X,0>jt)X=Math.max(0,H[De].g-100),Ut=!1;else try{dr(Ue,ut,"req"+jt+"_")}catch{A&&A(Ue)}}if(Ut){A=ut.join("&");break t}}}return f=f.i.splice(0,v),y.D=f,A}function fc(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;ot||V(),ft||(ot(),ft=!0),Lt.add(y,f),f.v=0}}function pl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=we(w(f.Fa,f),gl(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,hc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=we(w(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),Ba(this),hc(this))};function Fs(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function hc(f){f.g=new an(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=vn(f.qa);Jt(y,"RID","rpc"),Jt(y,"SID",f.K),Jt(y,"AID",f.T),Jt(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&Jt(y,"TO",f.ja),Jt(y,"TYPE","xmlhttp"),Hs(f,y),f.m&&f.o&&Le(y,f.m,f.o),f.L&&(f.g.I=f.L);var v=f.g;f=f.ia,v.L=1,v.v=Ps(vn(y)),v.m=null,v.P=!0,zr(v,f)}n.Za=function(){this.C!=null&&(this.C=null,Ba(this),pl(this),ce(19))};function qa(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function dc(f,y){var v=null;if(f.g==y){qa(f),Fs(f),f.g=null;var A=2}else if(sl(f.h,y))v=y.D,on(f.h,y),A=1;else return;if(f.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var H=f.B;A=Ii(),Yt(A,new Oe(A,v)),za(f)}else fc(f);else if(H=y.s,H==3||H==0&&0<y.X||!(A==1&&ld(f,y)||A==2&&pl(f)))switch(v&&0<v.length&&(y=f.h,y.i=y.i.concat(v)),H){case 1:Qr(f,5);break;case 4:Qr(f,10);break;case 3:Qr(f,6);break;default:Qr(f,2)}}}function gl(f,y){let v=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(v*=2),v*y}function Qr(f,y){if(f.j.info("Error code "+y),y==2){var v=w(f.fb,f),A=f.Xa;const H=!A;A=new Se(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Vs(A,"https"),Ps(A),H?Us(A.toString(),v):Yn(A.toString(),v)}else ce(2);f.G=0,f.l&&f.l.sa(y),mc(f),uc(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function mc(f){if(f.G=0,f.ka=[],f.l){const y=al(f.h);(y.length!=0||f.i.length!=0)&&(k(f.ka,y),k(f.ka,f.i),f.h.i.length=0,z(f.i),f.i.length=0),f.l.ra()}}function pc(f,y,v){var A=v instanceof Se?vn(v):new Se(v);if(A.g!="")y&&(A.g=y+"."+A.g),ki(A,A.s);else{var H=d.location;A=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var X=new Se(null);A&&Vs(X,A),y&&(X.g=y),H&&ki(X,H),v&&(X.l=v),A=X}return v=f.D,y=f.ya,v&&y&&Jt(A,v,y),Jt(A,"VER",f.la),Hs(f,A),A}function gc(f,y,v){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new Gt(new Mi({eb:v})):new Gt(f.pa),y.Ha(f.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function yc(){}n=yc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ha(){}Ha.prototype.g=function(f,y){return new ln(f,y)};function ln(f,y){pe.call(this),this.g=new ja(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!q(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!q(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new yr(this)}M(ln,pe),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){dl(this.g)},ln.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var v={};v.__data__=f,f=v}else this.u&&(v={},v.__data__=Kn(f),f=v);y.i.push(new ic(y.Ya++,f)),y.G==3&&za(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,dl(this.g),delete this.g,ln.aa.N.call(this)};function _c(f){jr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){t:{for(const v in y){f=v;break t}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}M(_c,jr);function vc(){el.call(this),this.status=1}M(vc,el);function yr(f){this.g=f}M(yr,yc),yr.prototype.ua=function(){Yt(this.g,"a")},yr.prototype.ta=function(f){Yt(this.g,new _c(f))},yr.prototype.sa=function(f){Yt(this.g,new vc)},yr.prototype.ra=function(){Yt(this.g,"b")},Ha.prototype.createWebChannel=Ha.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,I1=function(){return new Ha},C1=function(){return Ii()},R1=lr,$p={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oi.NO_ERROR=0,Oi.TIMEOUT=8,Oi.HTTP_ERROR=6,jf=Oi,Br.COMPLETE="complete",A1=Br,tl.EventType=Ur,Ur.OPEN="a",Ur.CLOSE="b",Ur.ERROR="c",Ur.MESSAGE="d",pe.prototype.listen=pe.prototype.K,cu=tl,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,S1=Gt}).apply(typeof Sf<"u"?Sf:typeof self<"u"?self:typeof window<"u"?window:{});const HT="@firebase/firestore",FT="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new Ag("@firebase/firestore");function bo(){return ya.logLevel}function dt(n,...t){if(ya.logLevel<=Mt.DEBUG){const e=t.map(Ug);ya.debug(`Firestore (${qo}): ${n}`,...e)}}function Si(n,...t){if(ya.logLevel<=Mt.ERROR){const e=t.map(Ug);ya.error(`Firestore (${qo}): ${n}`,...e)}}function ko(n,...t){if(ya.logLevel<=Mt.WARN){const e=t.map(Ug);ya.warn(`Firestore (${qo}): ${n}`,...e)}}function Ug(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(n,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,N1(n,s,e)}function N1(n,t,e){let s=`FIRESTORE (${qo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw Si(s),new Error(s)}function Kt(n,t,e,s){let o="Unexpected state";typeof e=="string"?o=e:s=e,n||N1(t,o,s)}function Ct(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends Vr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ED{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(nn.UNAUTHENTICATED)))}shutdown(){}}class TD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class bD{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Kt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,e(p)):Promise.resolve();let l=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new yi,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=l;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new yi)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((s=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string",31837,{l:s}),new x1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class wD{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class SD{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new wD(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class GT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AD{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Kt(this.o===void 0,3512);const s=l=>{l.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,dt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const o=l=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new GT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Kt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new GT(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<n;s++)e[s]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=RD(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<e&&(s+=t.charAt(o[l]%62))}return s}}function Vt(n,t){return n<t?-1:n>t?1:0}function Kp(n,t){const e=Math.min(n.length,t.length);for(let s=0;s<e;s++){const o=n.charAt(s),l=t.charAt(s);if(o!==l)return pp(o)===pp(l)?Vt(o,l):pp(o)?1:-1}return Vt(n.length,t.length)}const CD=55296,ID=57343;function pp(n){const t=n.charCodeAt(0);return t>=CD&&t<=ID}function Mo(n,t,e){return n.length===t.length&&n.every(((s,o)=>e(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="__name__";class Sr{constructor(t,e,s){e===void 0?e=0:e>t.length&&Tt(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&Tt(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return Sr.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Sr?t.forEach((s=>{e.push(s)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let o=0;o<s;o++){const l=Sr.compareSegments(t.get(o),e.get(o));if(l!==0)return l}return Vt(t.length,e.length)}static compareSegments(t,e){const s=Sr.isNumericId(t),o=Sr.isNumericId(e);return s&&!o?-1:!s&&o?1:s&&o?Sr.extractNumericId(t).compare(Sr.extractNumericId(e)):Kp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return cs.fromString(t.substring(4,t.length-2))}}class oe extends Sr{construct(t,e,s){return new oe(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new ht(et.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter((o=>o.length>0)))}return new oe(e)}static emptyPath(){return new oe([])}}const ND=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends Sr{construct(t,e,s){return new Ye(t,e,s)}static isValidIdentifier(t){return ND.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$T}static keyField(){return new Ye([$T])}static fromServerFormat(t){const e=[];let s="",o=0;const l=()=>{if(s.length===0)throw new ht(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let c=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new ht(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ht(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(l(),o++)}if(l(),c)throw new ht(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(e)}static emptyPath(){return new Ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(oe.fromString(t))}static fromName(t){return new yt(oe.fromString(t).popFirst(5))}static empty(){return new yt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return oe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new oe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(n,t,e){if(!e)throw new ht(et.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function xD(n,t,e,s){if(t===!0&&s===!0)throw new ht(et.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function KT(n){if(!yt.isDocumentKey(n))throw new ht(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function QT(n){if(yt.isDocumentKey(n))throw new ht(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function D1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function xh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Tt(12329,{type:typeof n})}function ds(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ht(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=xh(n);throw new ht(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(n,t){const e={typeString:n};return t&&(e.value=t),e}function Fu(n,t){if(!D1(n))throw new ht(et.INVALID_ARGUMENT,"JSON must be an object");let e;for(const s in t)if(t[s]){const o=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in n)){e=`JSON missing required field: '${s}'`;break}const c=n[s];if(o&&typeof c!==o){e=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){e=`Expected '${s}' field to equal '${l.value}'`;break}}if(e)throw new ht(et.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=-62135596800,XT=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*XT);return new le(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ht(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ht(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<YT)throw new ht(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/XT}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fu(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-YT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Ne("string",le._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new le(0,0))}static max(){return new At(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=-1;function OD(n,t){const e=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new le(e+1,0):new le(e,s));return new ms(o,yt.empty(),t)}function DD(n){return new ms(n.readTime,n.key,Cu)}class ms{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new ms(At.min(),yt.empty(),Cu)}static max(){return new ms(At.max(),yt.empty(),Cu)}}function kD(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=yt.comparator(n.documentKey,t.documentKey),e!==0?e:Vt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(n){if(n.code!==et.FAILED_PRECONDITION||n.message!==MD)throw n;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new rt(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(e,l).next(s,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof rt?e:rt.resolve(e)}catch(e){return rt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):rt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):rt.reject(e)}static resolve(t){return new rt(((e,s)=>{e(t)}))}static reject(t){return new rt(((e,s)=>{s(t)}))}static waitFor(t){return new rt(((e,s)=>{let o=0,l=0,c=!1;t.forEach((d=>{++o,d.next((()=>{++l,c&&l===o&&e()}),(p=>s(p)))})),c=!0,l===o&&e()}))}static or(t){let e=rt.resolve(!1);for(const s of t)e=e.next((o=>o?rt.resolve(o):s()));return e}static forEach(t,e){const s=[];return t.forEach(((o,l)=>{s.push(e.call(this,o,l))})),this.waitFor(s)}static mapArray(t,e){return new rt(((s,o)=>{const l=t.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;e(t[g]).next((_=>{c[g]=_,++d,d===l&&s(c)}),(_=>o(_)))}}))}static doWhile(t,e){return new rt(((s,o)=>{const l=()=>{t()===!0?e().next((()=>{l()}),o):s()};l()}))}}function PD(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Fo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>e.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Oh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg=-1;function Dh(n){return n==null}function nh(n){return n===0&&1/n==-1/0}function LD(n){return typeof n=="number"&&Number.isInteger(n)&&!nh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="";function UD(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=WT(t)),t=jD(n.get(e),t);return WT(t)}function jD(n,t){let e=t;const s=n.length;for(let o=0;o<s;o++){const l=n.charAt(o);switch(l){case"\0":e+="";break;case k1:e+="";break;default:e+=l}}return e}function WT(n){return n+k1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ba(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function M1(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t,e){this.comparator=t,this.root=e||Qe.EMPTY}insert(t,e){return new me(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return e+s.left.size;o<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,s)=>(t(e,s),!1)))}toString(){const t=[];return this.inorderTraversal(((e,s)=>(t.push(`${e}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Af(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Af(this.root,t,this.comparator,!1)}getReverseIterator(){return new Af(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Af(this.root,t,this.comparator,!0)}}class Af{constructor(t,e,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?s(t.key,e):1,e&&o&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,e,s,o,l){this.key=t,this.value=e,this.color=s??Qe.RED,this.left=o??Qe.EMPTY,this.right=l??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,o,l){return new Qe(t??this.key,e??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let o=this;const l=s(t,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(t,e,s),null):l===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return Qe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,e,s,o,l){return this}insert(t,e,s){return new Qe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,s)=>(t(e),!1)))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new JT(this.data.getIterator())}getIteratorFrom(t){return new JT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((s=>{e=e.add(s)})),e}isEqual(t){if(!(t instanceof Pe)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Pe(this.comparator);return e.data=t,e}}class JT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new nr([])}unionWith(t){let e=new Pe(Ye.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new nr(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Mo(this.fields,t.fields,((e,s)=>e.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new V1("Invalid base64 string: "+l):l}})(t);return new Xe(e)}static fromUint8Array(t){const e=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(t);return new Xe(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const s=new Uint8Array(e.length);for(let o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const BD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(n){if(Kt(!!n,39018),typeof n=="string"){let t=0;const e=BD.exec(n);if(Kt(!!e,46558,{timestamp:n}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Te(n.seconds),nanos:Te(n.nanos)}}function Te(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function gs(n){return typeof n=="string"?Xe.fromBase64String(n):Xe.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="server_timestamp",L1="__type__",U1="__previous_value__",j1="__local_write_time__";function zg(n){return(n?.mapValue?.fields||{})[L1]?.stringValue===P1}function kh(n){const t=n.mapValue.fields[U1];return zg(t)?kh(t):t}function Iu(n){const t=ps(n.mapValue.fields[j1].timestampValue);return new le(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(t,e,s,o,l,c,d,p,g,_){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const rh="(default)";class Nu{constructor(t,e){this.projectId=t,this.database=e||rh}static empty(){return new Nu("","")}get isDefaultDatabase(){return this.database===rh}isEqual(t){return t instanceof Nu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="__type__",qD="__max__",Rf={mapValue:{}},z1="__vector__",ih="value";function ys(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zg(n)?4:FD(n)?9007199254740991:HD(n)?10:11:Tt(28295,{value:n})}function Mr(n,t){if(n===t)return!0;const e=ys(n);if(e!==ys(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Iu(n).isEqual(Iu(t));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=ps(o.timestampValue),d=ps(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,l){return gs(o.bytesValue).isEqual(gs(l.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,l){return Te(o.geoPointValue.latitude)===Te(l.geoPointValue.latitude)&&Te(o.geoPointValue.longitude)===Te(l.geoPointValue.longitude)})(n,t);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return Te(o.integerValue)===Te(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=Te(o.doubleValue),d=Te(l.doubleValue);return c===d?nh(c)===nh(d):isNaN(c)&&isNaN(d)}return!1})(n,t);case 9:return Mo(n.arrayValue.values||[],t.arrayValue.values||[],Mr);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(ZT(c)!==ZT(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Mr(c[p],d[p])))return!1;return!0})(n,t);default:return Tt(52216,{left:n})}}function xu(n,t){return(n.values||[]).find((e=>Mr(e,t)))!==void 0}function Vo(n,t){if(n===t)return 0;const e=ys(n),s=ys(t);if(e!==s)return Vt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return Vt(n.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=Te(l.integerValue||l.doubleValue),p=Te(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(n,t);case 3:return t0(n.timestampValue,t.timestampValue);case 4:return t0(Iu(n),Iu(t));case 5:return Kp(n.stringValue,t.stringValue);case 6:return(function(l,c){const d=gs(l),p=gs(c);return d.compareTo(p)})(n.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=Vt(d[g],p[g]);if(_!==0)return _}return Vt(d.length,p.length)})(n.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=Vt(Te(l.latitude),Te(c.latitude));return d!==0?d:Vt(Te(l.longitude),Te(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return e0(n.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},p=c.fields||{},g=d[ih]?.arrayValue,_=p[ih]?.arrayValue,T=Vt(g?.values?.length||0,_?.values?.length||0);return T!==0?T:e0(g,_)})(n.mapValue,t.mapValue);case 11:return(function(l,c){if(l===Rf.mapValue&&c===Rf.mapValue)return 0;if(l===Rf.mapValue)return 1;if(c===Rf.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const w=Kp(p[T],_[T]);if(w!==0)return w;const C=Vo(d[p[T]],g[_[T]]);if(C!==0)return C}return Vt(p.length,_.length)})(n.mapValue,t.mapValue);default:throw Tt(23264,{he:e})}}function t0(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Vt(n,t);const e=ps(n),s=ps(t),o=Vt(e.seconds,s.seconds);return o!==0?o:Vt(e.nanos,s.nanos)}function e0(n,t){const e=n.values||[],s=t.values||[];for(let o=0;o<e.length&&o<s.length;++o){const l=Vo(e[o],s[o]);if(l)return l}return Vt(e.length,s.length)}function Po(n){return Qp(n)}function Qp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const s=ps(e);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return gs(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return yt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let s="[",o=!0;for(const l of e.values||[])o?o=!1:s+=",",s+=Qp(l);return s+"]"})(n.arrayValue):"mapValue"in n?(function(e){const s=Object.keys(e.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${Qp(e.fields[c])}`;return o+"}"})(n.mapValue):Tt(61005,{value:n})}function Bf(n){switch(ys(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=kh(n);return t?16+Bf(t):16;case 5:return 2*n.stringValue.length;case 6:return gs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,l)=>o+Bf(l)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return ba(s.fields,((l,c)=>{o+=l.length+Bf(c)})),o})(n.mapValue);default:throw Tt(13486,{value:n})}}function n0(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Yp(n){return!!n&&"integerValue"in n}function qg(n){return!!n&&"arrayValue"in n}function r0(n){return!!n&&"nullValue"in n}function i0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zf(n){return!!n&&"mapValue"in n}function HD(n){return(n?.mapValue?.fields||{})[B1]?.stringValue===z1}function yu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return ba(n.mapValue.fields,((e,s)=>t.mapValue.fields[e]=yu(s))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=yu(n.arrayValue.values[e]);return t}return{...n}}function FD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===qD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this.value=t}static empty(){return new zn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!zf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=yu(e)}setAll(t){let e=Ye.emptyPath(),s={},o=[];t.forEach(((c,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,s,o),s={},o=[],e=d.popLast()}c?s[d.lastSegment()]=yu(c):o.push(d.lastSegment())}));const l=this.getFieldsMap(e);this.applyChanges(l,s,o)}delete(t){const e=this.field(t.popLast());zf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Mr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=e.mapValue.fields[t.get(s)];zf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,s){ba(e,((o,l)=>t[o]=l));for(const o of s)delete t[o]}clone(){return new zn(yu(this.value))}}function q1(n){const t=[];return ba(n.fields,((e,s)=>{const o=new Ye([e]);if(zf(s)){const l=q1(s.mapValue).fields;if(l.length===0)t.push(o);else for(const c of l)t.push(o.child(c))}else t.push(o)})),new nr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t,e,s,o,l,c,d){this.key=t,this.documentType=e,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new rn(t,0,At.min(),At.min(),At.min(),zn.empty(),0)}static newFoundDocument(t,e,s,o){return new rn(t,1,e,At.min(),s,o,0)}static newNoDocument(t,e){return new rn(t,2,e,At.min(),At.min(),zn.empty(),0)}static newUnknownDocument(t,e){return new rn(t,3,e,At.min(),At.min(),zn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t,e){this.position=t,this.inclusive=e}}function s0(n,t,e){let s=0;for(let o=0;o<n.position.length;o++){const l=t[o],c=n.position[o];if(l.field.isKeyField()?s=yt.comparator(yt.fromName(c.referenceValue),e.key):s=Vo(c,e.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function a0(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Mr(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t,e="asc"){this.field=t,this.dir=e}}function GD(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{}class Ie extends H1{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new KD(t,e,s):e==="array-contains"?new XD(t,s):e==="in"?new WD(t,s):e==="not-in"?new ZD(t,s):e==="array-contains-any"?new JD(t,s):new Ie(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new QD(t,s):new YD(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Vo(e,this.value)):e!==null&&ys(this.value)===ys(e)&&this.matchesComparison(Vo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends H1{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new ir(t,e)}matches(t){return F1(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function F1(n){return n.op==="and"}function G1(n){return $D(n)&&F1(n)}function $D(n){for(const t of n.filters)if(t instanceof ir)return!1;return!0}function Xp(n){if(n instanceof Ie)return n.field.canonicalString()+n.op.toString()+Po(n.value);if(G1(n))return n.filters.map((t=>Xp(t))).join(",");{const t=n.filters.map((e=>Xp(e))).join(",");return`${n.op}(${t})`}}function $1(n,t){return n instanceof Ie?(function(s,o){return o instanceof Ie&&s.op===o.op&&s.field.isEqual(o.field)&&Mr(s.value,o.value)})(n,t):n instanceof ir?(function(s,o){return o instanceof ir&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,c,d)=>l&&$1(c,o.filters[d])),!0):!1})(n,t):void Tt(19439)}function K1(n){return n instanceof Ie?(function(e){return`${e.field.canonicalString()} ${e.op} ${Po(e.value)}`})(n):n instanceof ir?(function(e){return e.op.toString()+" {"+e.getFilters().map(K1).join(" ,")+"}"})(n):"Filter"}class KD extends Ie{constructor(t,e,s){super(t,e,s),this.key=yt.fromName(s.referenceValue)}matches(t){const e=yt.comparator(t.key,this.key);return this.matchesComparison(e)}}class QD extends Ie{constructor(t,e){super(t,"in",e),this.keys=Q1("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class YD extends Ie{constructor(t,e){super(t,"not-in",e),this.keys=Q1("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Q1(n,t){return(t.arrayValue?.values||[]).map((e=>yt.fromName(e.referenceValue)))}class XD extends Ie{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return qg(e)&&xu(e.arrayValue,this.value)}}class WD extends Ie{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&xu(this.value.arrayValue,e)}}class ZD extends Ie{constructor(t,e){super(t,"not-in",e)}matches(t){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!xu(this.value.arrayValue,e)}}class JD extends Ie{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!qg(e)||!e.arrayValue.values)&&e.arrayValue.values.some((s=>xu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(t,e=null,s=[],o=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function o0(n,t=null,e=[],s=[],o=null,l=null,c=null){return new tk(n,t,e,s,o,l,c)}function Hg(n){const t=Ct(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((s=>Xp(s))).join(","),e+="|ob:",e+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Dh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((s=>Po(s))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((s=>Po(s))).join(",")),t.Te=e}return t.Te}function Fg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!GD(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!$1(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!a0(n.startAt,t.startAt)&&a0(n.endAt,t.endAt)}function Wp(n){return yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(t,e=null,s=[],o=[],l=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ek(n,t,e,s,o,l,c,d){return new Gu(n,t,e,s,o,l,c,d)}function Gg(n){return new Gu(n)}function l0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Y1(n){return n.collectionGroup!==null}function _u(n){const t=Ct(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),e.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Pe(Ye.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new ah(l,s))})),e.has(Ye.keyField().canonicalString())||t.Ie.push(new ah(Ye.keyField(),s))}return t.Ie}function Ir(n){const t=Ct(n);return t.Ee||(t.Ee=nk(t,_u(n))),t.Ee}function nk(n,t){if(n.limitType==="F")return o0(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new ah(o.field,l)}));const e=n.endAt?new sh(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new sh(n.startAt.position,n.startAt.inclusive):null;return o0(n.path,n.collectionGroup,t,n.filters,n.limit,e,s)}}function Zp(n,t){const e=n.filters.concat([t]);return new Gu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Jp(n,t,e){return new Gu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Mh(n,t){return Fg(Ir(n),Ir(t))&&n.limitType===t.limitType}function X1(n){return`${Hg(Ir(n))}|lt:${n.limitType}`}function wo(n){return`Query(target=${(function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map((o=>K1(o))).join(", ")}]`),Dh(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((o=>Po(o))).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((o=>Po(o))).join(",")),`Target(${s})`})(Ir(n))}; limitType=${n.limitType})`}function Vh(n,t){return t.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):yt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(n,t)&&(function(s,o){for(const l of _u(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(n,t)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(n,t)&&(function(s,o){return!(s.startAt&&!(function(c,d,p){const g=s0(c,d,p);return c.inclusive?g<=0:g<0})(s.startAt,_u(s),o)||s.endAt&&!(function(c,d,p){const g=s0(c,d,p);return c.inclusive?g>=0:g>0})(s.endAt,_u(s),o))})(n,t)}function rk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function W1(n){return(t,e)=>{let s=!1;for(const o of _u(n)){const l=ik(o,t,e);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function ik(n,t,e){const s=n.field.isKeyField()?yt.comparator(t.key,e.key):(function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?Vo(p,g):Tt(42886)})(n.field,t,e);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],t))return void(o[l]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[e]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ba(this.inner,((e,s)=>{for(const[o,l]of s)t(o,l)}))}isEmpty(){return M1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=new me(yt.comparator);function Ai(){return sk}const Z1=new me(yt.comparator);function fu(...n){let t=Z1;for(const e of n)t=t.insert(e.key,e);return t}function J1(n){let t=Z1;return n.forEach(((e,s)=>t=t.insert(e,s.overlayedDocument))),t}function ua(){return vu()}function tw(){return vu()}function vu(){return new wa((n=>n.toString()),((n,t)=>n.isEqual(t)))}const ak=new me(yt.comparator),ok=new Pe(yt.comparator);function Pt(...n){let t=ok;for(const e of n)t=t.add(e);return t}const lk=new Pe(Vt);function uk(){return lk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(t)?"-0":t}}function ew(n){return{integerValue:""+n}}function ck(n,t){return LD(t)?ew(t):$g(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(){this._=void 0}}function fk(n,t,e){return n instanceof oh?(function(o,l){const c={fields:{[L1]:{stringValue:P1},[j1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&zg(l)&&(l=kh(l)),l&&(c.fields[U1]=l),{mapValue:c}})(e,t):n instanceof Ou?rw(n,t):n instanceof Du?iw(n,t):(function(o,l){const c=nw(o,l),d=u0(c)+u0(o.Ae);return Yp(c)&&Yp(o.Ae)?ew(d):$g(o.serializer,d)})(n,t)}function hk(n,t,e){return n instanceof Ou?rw(n,t):n instanceof Du?iw(n,t):e}function nw(n,t){return n instanceof lh?(function(s){return Yp(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class oh extends Ph{}class Ou extends Ph{constructor(t){super(),this.elements=t}}function rw(n,t){const e=sw(t);for(const s of n.elements)e.some((o=>Mr(o,s)))||e.push(s);return{arrayValue:{values:e}}}class Du extends Ph{constructor(t){super(),this.elements=t}}function iw(n,t){let e=sw(t);for(const s of n.elements)e=e.filter((o=>!Mr(o,s)));return{arrayValue:{values:e}}}class lh extends Ph{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function u0(n){return Te(n.integerValue||n.doubleValue)}function sw(n){return qg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function dk(n,t){return n.field.isEqual(t.field)&&(function(s,o){return s instanceof Ou&&o instanceof Ou||s instanceof Du&&o instanceof Du?Mo(s.elements,o.elements,Mr):s instanceof lh&&o instanceof lh?Mr(s.Ae,o.Ae):s instanceof oh&&o instanceof oh})(n.transform,t.transform)}class mk{constructor(t,e){this.version=t,this.transformResults=e}}class Nr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Nr}static exists(t){return new Nr(void 0,t)}static updateTime(t){return new Nr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function qf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Lh{}function aw(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new lw(n.key,Nr.none()):new $u(n.key,n.data,Nr.none());{const e=n.data,s=zn.empty();let o=new Pe(Ye.comparator);for(let l of t.fields)if(!o.has(l)){let c=e.field(l);c===null&&l.length>1&&(l=l.popLast(),c=e.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new Sa(n.key,s,new nr(o.toArray()),Nr.none())}}function pk(n,t,e){n instanceof $u?(function(o,l,c){const d=o.value.clone(),p=f0(o.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,t,e):n instanceof Sa?(function(o,l,c){if(!qf(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=f0(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(ow(o)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,t,e):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Eu(n,t,e,s){return n instanceof $u?(function(l,c,d,p){if(!qf(l.precondition,c))return d;const g=l.value.clone(),_=h0(l.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,t,e,s):n instanceof Sa?(function(l,c,d,p){if(!qf(l.precondition,c))return d;const g=h0(l.fieldTransforms,p,c),_=c.data;return _.setAll(ow(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(n,t,e,s):(function(l,c,d){return qf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,t,e)}function gk(n,t){let e=null;for(const s of n.fieldTransforms){const o=t.data.field(s.field),l=nw(s.transform,o||null);l!=null&&(e===null&&(e=zn.empty()),e.set(s.field,l))}return e||null}function c0(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Mo(s,o,((l,c)=>dk(l,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class $u extends Lh{constructor(t,e,s,o=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Sa extends Lh{constructor(t,e,s,o,l=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function ow(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const s=n.data.field(e);t.set(e,s)}})),t}function f0(n,t,e){const s=new Map;Kt(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let o=0;o<e.length;o++){const l=n[o],c=l.transform,d=t.data.field(l.field);s.set(l.field,hk(c,d,e[o]))}return s}function h0(n,t,e){const s=new Map;for(const o of n){const l=o.transform,c=e.data.field(o.field);s.set(o.field,fk(l,c,t))}return s}class lw extends Lh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yk extends Lh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(t,e,s,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(t.key)&&pk(l,t,s[o])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=Eu(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=Eu(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=tw();return this.mutations.forEach((o=>{const l=t.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=e.has(o.key)?null:d;const p=aw(c,d);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(At.min())})),s}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&Mo(this.mutations,t.mutations,((e,s)=>c0(e,s)))&&Mo(this.baseMutations,t.baseMutations,((e,s)=>c0(e,s)))}}class Kg{constructor(t,e,s,o){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=o}static from(t,e,s){Kt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return ak})();const l=t.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new Kg(t,e,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,zt;function Tk(n){switch(n){case et.OK:return Tt(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return Tt(15467,{code:n})}}function uw(n){if(n===void 0)return Si("GRPC error has no .code"),et.UNKNOWN;switch(n){case Ce.OK:return et.OK;case Ce.CANCELLED:return et.CANCELLED;case Ce.UNKNOWN:return et.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return et.INTERNAL;case Ce.UNAVAILABLE:return et.UNAVAILABLE;case Ce.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Ce.NOT_FOUND:return et.NOT_FOUND;case Ce.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Ce.ABORTED:return et.ABORTED;case Ce.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Ce.DATA_LOSS:return et.DATA_LOSS;default:return Tt(39323,{code:n})}}(zt=Ce||(Ce={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=new cs([4294967295,4294967295],0);function d0(n){const t=bk().encode(n),e=new w1;return e.update(t),new Uint8Array(e.digest())}function m0(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new cs([e,s],0),new cs([o,l],0)]}class Qg{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new hu(`Invalid padding: ${e}`);if(s<0)throw new hu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new hu(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new hu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=cs.fromNumber(this.ge)}ye(t,e,s){let o=t.add(e.multiply(cs.fromNumber(s)));return o.compare(wk)===1&&(o=new cs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=d0(t),[s,o]=m0(e);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);if(!this.we(c))return!1}return!0}static create(t,e,s){const o=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Qg(l,o,e);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const e=d0(t),[s,o]=m0(e);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);this.Se(c)}}Se(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,e,s,o,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const o=new Map;return o.set(t,Ku.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new Uh(At.min(),o,new me(Vt),Ai(),Pt())}}class Ku{constructor(t,e,s,o,l){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new Ku(s,e,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(t,e,s,o){this.be=t,this.removedTargetIds=e,this.key=s,this.De=o}}class cw{constructor(t,e){this.targetId=t,this.Ce=e}}class fw{constructor(t,e,s=Xe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=o}}class p0{constructor(){this.ve=0,this.Fe=g0(),this.Me=Xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),e=Pt(),s=Pt();return this.Fe.forEach(((o,l)=>{switch(l){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:s=s.add(o);break;default:Tt(38017,{changeType:l})}})),new Ku(this.Me,this.xe,t,e,s)}qe(){this.Oe=!1,this.Fe=g0()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Sk{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ai(),this.Je=Cf(),this.He=Cf(),this.Ye=new me(Vt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const s=this.nt(e);switch(t.state){case 0:this.rt(e)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),s.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((s,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,s=t.Ce.count,o=this.ot(e);if(o){const l=o.target;if(Wp(l))if(s===0){const c=new yt(l.path);this.et(e,c,rn.newNoDocument(c,At.min()))}else Kt(s===1,20013,{expectedCount:s});else{const c=this._t(e);if(c!==s){const d=this.ut(t),p=d?this.ct(d,t,c):1;if(p!==0){this.it(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=e;let c,d;try{c=gs(s).toUint8Array()}catch(p){if(p instanceof V1)return ko("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Qg(c,o,l)}catch(p){return ko(p instanceof hu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(t,e,s){return e.Ce.count===s-this.Pt(t,e.targetId)?0:2}Pt(t,e){const s=this.Ge.getRemoteKeysForTarget(e);let o=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(e,l,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Wp(d.target)){const p=new yt(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,rn.newNoDocument(p,t))}l.Be&&(e.set(c,l.ke()),l.qe())}}));let s=Pt();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const o=new Uh(t,e,this.Ye,this.je,s);return this.je=Ai(),this.Je=Cf(),this.He=Cf(),this.Ye=new me(Vt),o}Xe(t,e){if(!this.rt(t))return;const s=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,s),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),s&&(this.je=this.je.insert(e,s))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new p0,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Pe(Vt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Pe(Vt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||dt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new p0),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Cf(){return new me(yt.comparator)}function g0(){return new me(yt.comparator)}const Ak={asc:"ASCENDING",desc:"DESCENDING"},Rk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ck={and:"AND",or:"OR"};class Ik{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function tg(n,t){return n.useProto3Json||Dh(t)?t:{value:t}}function uh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function hw(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Nk(n,t){return uh(n,t.toTimestamp())}function xr(n){return Kt(!!n,49232),At.fromTimestamp((function(e){const s=ps(e);return new le(s.seconds,s.nanos)})(n))}function Yg(n,t){return eg(n,t).canonicalString()}function eg(n,t){const e=(function(o){return new oe(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?e:e.child(t)}function dw(n){const t=oe.fromString(n);return Kt(_w(t),10190,{key:t.toString()}),t}function ng(n,t){return Yg(n.databaseId,t.path)}function gp(n,t){const e=dw(t);if(e.get(1)!==n.databaseId.projectId)throw new ht(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ht(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new yt(pw(e))}function mw(n,t){return Yg(n.databaseId,t)}function xk(n){const t=dw(n);return t.length===4?oe.emptyPath():pw(t)}function rg(n){return new oe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function pw(n){return Kt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function y0(n,t,e){return{name:ng(n,t),fields:e.value.mapValue.fields}}function Ok(n,t){let e;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],l=(function(g,_){return g.useProto3Json?(Kt(_===void 0||typeof _=="string",58123),Xe.fromBase64String(_||"")):(Kt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Xe.fromUint8Array(_||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const _=g.code===void 0?et.UNKNOWN:uw(g.code);return new ht(_,g.message||"")})(c);e=new fw(s,o,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=gp(n,s.document.name),l=xr(s.document.updateTime),c=s.document.createTime?xr(s.document.createTime):At.min(),d=new zn({mapValue:{fields:s.document.fields}}),p=rn.newFoundDocument(o,l,c,d),g=s.targetIds||[],_=s.removedTargetIds||[];e=new Hf(g,_,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=gp(n,s.document),l=s.readTime?xr(s.readTime):At.min(),c=rn.newNoDocument(o,l),d=s.removedTargetIds||[];e=new Hf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=gp(n,s.document),l=s.removedTargetIds||[];e=new Hf([],l,o,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new Ek(o,l),d=s.targetId;e=new cw(d,c)}}return e}function Dk(n,t){let e;if(t instanceof $u)e={update:y0(n,t.key,t.value)};else if(t instanceof lw)e={delete:ng(n,t.key)};else if(t instanceof Sa)e={update:y0(n,t.key,t.data),updateMask:zk(t.fieldMask)};else{if(!(t instanceof yk))return Tt(16599,{Vt:t.type});e={verify:ng(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof oh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ou)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Du)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof lh)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Tt(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(e.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:Nk(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Tt(27497)})(n,t.precondition)),e}function kk(n,t){return n&&n.length>0?(Kt(t!==void 0,14353),n.map((e=>(function(o,l){let c=o.updateTime?xr(o.updateTime):xr(l);return c.isEqual(At.min())&&(c=xr(l)),new mk(c,o.transformResults||[])})(e,t)))):[]}function Mk(n,t){return{documents:[mw(n,t.path)]}}function Vk(n,t){const e={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=mw(n,o);const l=(function(g){if(g.length!==0)return yw(ir.create(g,"and"))})(t.filters);l&&(e.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((_=>(function(w){return{field:So(w.field),direction:Uk(w.dir)}})(_)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const d=tg(n,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:o}}function Pk(n){let t=xk(n.parent);const e=n.structuredQuery,s=e.from?e.from.length:0;let o=null;if(s>0){Kt(s===1,65062);const _=e.from[0];_.allDescendants?o=_.collectionId:t=t.child(_.collectionId)}let l=[];e.where&&(l=(function(T){const w=gw(T);return w instanceof ir&&G1(w)?w.getFilters():[w]})(e.where));let c=[];e.orderBy&&(c=(function(T){return T.map((w=>(function(M){return new ah(Ao(M.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(w)))})(e.orderBy));let d=null;e.limit&&(d=(function(T){let w;return w=typeof T=="object"?T.value:T,Dh(w)?null:w})(e.limit));let p=null;e.startAt&&(p=(function(T){const w=!!T.before,C=T.values||[];return new sh(C,w)})(e.startAt));let g=null;return e.endAt&&(g=(function(T){const w=!T.before,C=T.values||[];return new sh(C,w)})(e.endAt)),ek(t,o,c,l,d,"F",p,g)}function Lk(n,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function gw(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=Ao(e.unaryFilter.field);return Ie.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ao(e.unaryFilter.field);return Ie.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ao(e.unaryFilter.field);return Ie.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ao(e.unaryFilter.field);return Ie.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ie.create(Ao(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return ir.create(e.compositeFilter.filters.map((s=>gw(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(e.compositeFilter.op))})(n):Tt(30097,{filter:n})}function Uk(n){return Ak[n]}function jk(n){return Rk[n]}function Bk(n){return Ck[n]}function So(n){return{fieldPath:n.canonicalString()}}function Ao(n){return Ye.fromServerFormat(n.fieldPath)}function yw(n){return n instanceof Ie?(function(e){if(e.op==="=="){if(i0(e.value))return{unaryFilter:{field:So(e.field),op:"IS_NAN"}};if(r0(e.value))return{unaryFilter:{field:So(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(i0(e.value))return{unaryFilter:{field:So(e.field),op:"IS_NOT_NAN"}};if(r0(e.value))return{unaryFilter:{field:So(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(e.field),op:jk(e.op),value:e.value}}})(n):n instanceof ir?(function(e){const s=e.getFilters().map((o=>yw(o)));return s.length===1?s[0]:{compositeFilter:{op:Bk(e.op),filters:s}}})(n):Tt(54877,{filter:n})}function zk(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function _w(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(t,e,s,o,l=At.min(),c=At.min(),d=Xe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new os(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(t){this.yt=t}}function Hk(n){const t=Pk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Jp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this.Cn=new Gk}addToCollectionParentIndex(t,e){return this.Cn.add(e),rt.resolve()}getCollectionParents(t,e){return rt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return rt.resolve()}deleteFieldIndex(t,e){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,e){return rt.resolve()}getDocumentsMatchingTarget(t,e){return rt.resolve(null)}getIndexType(t,e){return rt.resolve(0)}getFieldIndexes(t,e){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,e){return rt.resolve(ms.min())}getMinOffsetFromCollectionGroup(t,e){return rt.resolve(ms.min())}updateCollectionGroup(t,e,s){return rt.resolve()}updateIndexEntries(t,e){return rt.resolve()}}class Gk{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e]||new Pe(oe.comparator),l=!o.has(s);return this.index[e]=o.add(s),l}has(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Pe(oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vw=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(vw,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Lo(0)}static cr(){return new Lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="LruGarbageCollector",$k=1048576;function E0([n,t],[e,s]){const o=Vt(n,e);return o===0?Vt(t,s):o}class Kk{constructor(t){this.Ir=t,this.buffer=new Pe(E0),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();E0(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Qk{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){dt(v0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Fo(e)?dt(v0,"Ignoring IndexedDB error during garbage collection: ",e):await Ho(e)}await this.Vr(3e5)}))}}class Yk{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((s=>Math.floor(e/100*s)))}nthSequenceNumber(t,e){if(e===0)return rt.resolve(Oh.ce);const s=new Kk(e);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,e,s){return this.mr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(_0)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_0):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let s,o,l,c,d,p,g;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,d=Date.now(),this.removeTargets(t,s,e)))).next((T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(g=Date.now(),bo()<=Mt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T}))))}}function Xk(n,t){return new Yk(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(){this.changes=new wa((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?rt.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(t,e,s,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(s!==null&&Eu(s.mutation,o,nr.empty(),le.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.getLocalViewOfDocuments(t,s,Pt()).next((()=>s))))}getLocalViewOfDocuments(t,e,s=Pt()){const o=ua();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,s).next((l=>{let c=fu();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const s=ua();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,Pt())))}populateOverlays(t,e,s){const o=[];return s.forEach((l=>{e.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(t,o).next((l=>{l.forEach(((c,d)=>{e.set(c,d)}))}))}computeViews(t,e,s,o){let l=Ai();const c=vu(),d=(function(){return vu()})();return e.forEach(((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Sa)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),Eu(_.mutation,g,_.mutation.getFieldMask(),le.now())):c.set(g.key,nr.empty())})),this.recalculateAndSaveOverlays(t,l).next((p=>(p.forEach(((g,_)=>c.set(g,_))),e.forEach(((g,_)=>d.set(g,new Zk(_,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,e){const s=vu();let o=new me(((c,d)=>c-d)),l=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=e.get(p);if(g===null)return;let _=s.get(p)||nr.empty();_=d.applyToLocalView(g,_),s.set(p,_);const T=(o.get(d.batchId)||Pt()).add(p);o=o.insert(d.batchId,T)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,T=tw();_.forEach((w=>{if(!l.has(w)){const C=aw(e.get(w),s.get(w));C!==null&&T.set(w,C),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,T))}return rt.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,e,s,o){return(function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Y1(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,o):this.getDocumentsMatchingCollectionQuery(t,e,s,o)}getNextDocuments(t,e,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,o-l.size):rt.resolve(ua());let d=Cu,p=l;return c.next((g=>rt.forEach(g,((_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(_)?rt.resolve():this.remoteDocumentCache.getEntry(t,_).next((w=>{p=p.insert(_,w)}))))).next((()=>this.populateOverlays(t,g,l))).next((()=>this.computeViews(t,p,g,Pt()))).next((_=>({batchId:d,changes:J1(_)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new yt(e)).next((s=>{let o=fu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,s,o){const l=e.collectionGroup;let c=fu();return this.indexManager.getCollectionParents(t,l).next((d=>rt.forEach(d,(p=>{const g=(function(T,w){return new Gu(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(e,p.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((_=>{_.forEach(((T,w)=>{c=c.insert(T,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,l,o)))).next((c=>{l.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,rn.newInvalidDocument(_)))}));let d=fu();return c.forEach(((p,g)=>{const _=l.get(p);_!==void 0&&Eu(_.mutation,g,nr.empty(),le.now()),Vh(e,g)&&(d=d.insert(p,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return rt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:xr(o.createTime)}})(e)),rt.resolve()}getNamedQuery(t,e){return rt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(o){return{name:o.name,query:Hk(o.bundledQuery),readTime:xr(o.readTime)}})(e)),rt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(){this.overlays=new me(yt.comparator),this.qr=new Map}getOverlay(t,e){return rt.resolve(this.overlays.get(e))}getOverlays(t,e){const s=ua();return rt.forEach(e,(o=>this.getOverlay(t,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(t,e,s){return s.forEach(((o,l)=>{this.St(t,e,l)})),rt.resolve()}removeOverlaysForBatchId(t,e,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),rt.resolve()}getOverlaysForCollection(t,e,s){const o=ua(),l=e.length+1,c=new yt(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return rt.resolve(o)}getOverlaysForCollectionGroup(t,e,s,o){let l=new me(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>s){let _=l.get(g.largestBatchId);_===null&&(_=ua(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=ua(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>d.set(g,_))),!(d.size()>=o)););return rt.resolve(d)}St(t,e,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new vk(e,s));let l=this.qr.get(e);l===void 0&&(l=Pt(),this.qr.set(e,l)),this.qr.set(e,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return rt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,rt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(){this.Qr=new Pe(qe.$r),this.Ur=new Pe(qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const s=new qe(t,e);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,e){t.forEach((s=>this.addReference(s,e)))}removeReference(t,e){this.Gr(new qe(t,e))}zr(t,e){t.forEach((s=>this.removeReference(s,e)))}jr(t){const e=new yt(new oe([])),s=new qe(e,t),o=new qe(e,t+1),l=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new yt(new oe([])),s=new qe(e,t),o=new qe(e,t+1);let l=Pt();return this.Ur.forEachInRange([s,o],(c=>{l=l.add(c.key)})),l}containsKey(t){const e=new qe(t,0),s=this.Qr.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class qe{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return yt.comparator(t.key,e.key)||Vt(t.Yr,e.Yr)}static Kr(t,e){return Vt(t.Yr,e.Yr)||yt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Pe(qe.$r)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new _k(l,e,s,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new qe(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return rt.resolve(c)}lookupMutationBatch(t,e){return rt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,o=this.ei(s),l=o<0?0:o;return rt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?Bg:this.tr-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new qe(e,0),o=new qe(e,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,o],(c=>{const d=this.Xr(c.Yr);l.push(d)})),rt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new Pe(Vt);return e.forEach((o=>{const l=new qe(o,0),c=new qe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),rt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,o=s.length+1;let l=s;yt.isDocumentKey(l)||(l=l.child(""));const c=new qe(new yt(l),0);let d=new Pe(Vt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Yr)),!0)}),c),rt.resolve(this.ti(d))}ti(t){const e=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){Kt(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return rt.forEach(e.mutations,(o=>{const l=new qe(o.key,e.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,e){const s=new qe(e,0),o=this.Zr.firstAfterOrEqual(s);return rt.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(t){this.ri=t,this.docs=(function(){return new me(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,o=this.docs.get(s),l=o?o.size:0,c=this.ri(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return rt.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(e))}getEntries(t,e){let s=Ai();return e.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():rn.newInvalidDocument(o))})),rt.resolve(s)}getDocumentsMatchingQuery(t,e,s,o){let l=Ai();const c=e.path,d=new yt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||kD(DD(_),s)<=0||(o.has(_.key)||Vh(e,_))&&(l=l.insert(_.key,_.mutableCopy()))}return rt.resolve(l)}getAllFromCollectionGroup(t,e,s,o){Tt(9500)}ii(t,e){return rt.forEach(this.docs,(s=>e(s)))}newChangeBuffer(t){return new sM(this)}getSize(t){return rt.resolve(this.size)}}class sM extends Wk{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),rt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(t){this.persistence=t,this.si=new wa((e=>Hg(e)),Fg),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Xg,this.targetCount=0,this.ai=Lo.ur()}forEachTarget(t,e){return this.si.forEach(((s,o)=>e(o))),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.oi&&(this.oi=e),rt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Lo(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,rt.resolve()}updateTargetData(t,e){return this.Pr(e),rt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,e,s){let o=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=e&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)})),rt.waitFor(l).next((()=>o))}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,e){const s=this.si.get(e)||null;return rt.resolve(s)}addMatchingKeys(t,e,s){return this._i.Wr(e,s),rt.resolve()}removeMatchingKeys(t,e,s){this._i.zr(e,s);const o=this.persistence.referenceDelegate,l=[];return o&&e.forEach((c=>{l.push(o.markPotentiallyOrphaned(t,c))})),rt.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),rt.resolve()}getMatchingKeysForTargetId(t,e){const s=this._i.Hr(e);return rt.resolve(s)}containsKey(t,e){return rt.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(t,e){this.ui={},this.overlays={},this.ci=new Oh(0),this.li=!1,this.li=!0,this.hi=new nM,this.referenceDelegate=t(this),this.Pi=new aM(this),this.indexManager=new Fk,this.remoteDocumentCache=(function(o){return new iM(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new qk(e),this.Ii=new tM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new eM,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.ui[t.toKey()];return s||(s=new rM(e,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,s){dt("MemoryPersistence","Starting transaction:",t);const o=new oM(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(t,e){return rt.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,e))))}}class oM extends VD{constructor(t){super(),this.currentSequenceNumber=t}}class Wg{constructor(t){this.persistence=t,this.Ri=new Xg,this.Vi=null}static mi(t){return new Wg(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,e,s){return this.Ri.addReference(s,e),this.fi.delete(s.toString()),rt.resolve()}removeReference(t,e,s){return this.Ri.removeReference(s,e),this.fi.add(s.toString()),rt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),rt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.fi,(s=>{const o=yt.fromPath(s);return this.gi(t,o).next((l=>{l||e.removeEntry(o,At.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((s=>{s?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return rt.or([()=>rt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class ch{constructor(t,e){this.persistence=t,this.pi=new wa((s=>UD(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=Xk(this,e)}static mi(t,e){return new ch(t,e)}Ei(){}di(t){return rt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>e.next((o=>s+o))))}wr(t){let e=0;return this.pr(t,(s=>{e++})).next((()=>e))}pr(t,e){return rt.forEach(this.pi,((s,o)=>this.br(t,s,o).next((l=>l?rt.resolve():e(o)))))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,e).next((d=>{d||(s++,l.removeEntry(c,At.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),rt.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.pi.set(s,t.currentSequenceNumber),rt.resolve()}removeReference(t,e,s){return this.pi.set(s,t.currentSequenceNumber),rt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),rt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Bf(t.data.value)),e}br(t,e,s){return rt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return rt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(t,e,s,o){this.targetId=t,this.fromCache=e,this.Es=s,this.ds=o}static As(t,e){let s=Pt(),o=Pt();for(const l of e.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Zg(t,e.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return cN()?8:PD(sn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,s,o){const l={result:null};return this.ys(t,e).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(t,e,o,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new lM;return this.Ss(t,e,c).next((d=>{if(l.result=d,this.Vs)return this.bs(t,e,c,d.size)}))})).next((()=>l.result))}bs(t,e,s,o){return s.documentReadCount<this.fs?(bo()<=Mt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",wo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),rt.resolve()):(bo()<=Mt.DEBUG&&dt("QueryEngine","Query:",wo(e),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(bo()<=Mt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",wo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ir(e))):rt.resolve())}ys(t,e){if(l0(e))return rt.resolve(null);let s=Ir(e);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=Jp(e,null,"F"),s=Ir(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const c=Pt(...l);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.Ds(e,d);return this.Cs(e,g,c,p.readTime)?this.ys(t,Jp(e,null,"F")):this.vs(t,g,e,p)}))))})))))}ws(t,e,s,o){return l0(e)||o.isEqual(At.min())?rt.resolve(null):this.ps.getDocuments(t,s).next((l=>{const c=this.Ds(e,l);return this.Cs(e,c,s,o)?rt.resolve(null):(bo()<=Mt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wo(e)),this.vs(t,c,e,OD(o,Cu)).next((d=>d)))}))}Ds(t,e){let s=new Pe(W1(t));return e.forEach(((o,l)=>{Vh(t,l)&&(s=s.add(l))})),s}Cs(t,e,s,o){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(t,e,s){return bo()<=Mt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",wo(e)),this.ps.getDocumentsMatchingQuery(t,e,ms.min(),s)}vs(t,e,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((l=>(e.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg="LocalStore",cM=3e8;class fM{constructor(t,e,s,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new me(Vt),this.xs=new wa((l=>Hg(l)),Fg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Jk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function hM(n,t,e,s){return new fM(n,t,e,s)}async function Tw(n,t){const e=Ct(n);return await e.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return e.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,e.Bs(t),e.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let p=Pt();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return e.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function dM(n,t){const e=Ct(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),l=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,_){const T=g.batch,w=T.keys();let C=rt.resolve();return w.forEach((M=>{C=C.next((()=>_.getEntry(p,M))).next((z=>{const k=g.docVersions.get(M);Kt(k!==null,48541),z.version.compareTo(k)<0&&(T.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),_.addEntry(z)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(p,T)))})(e,s,t,l).next((()=>l.apply(s))).next((()=>e.mutationQueue.performConsistencyCheck(s))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=Pt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(t)))).next((()=>e.localDocuments.getDocuments(s,o)))}))}function bw(n){const t=Ct(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function mM(n,t){const e=Ct(n),s=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const d=[];t.targetChanges.forEach(((_,T)=>{const w=o.get(T);if(!w)return;d.push(e.Pi.removeMatchingKeys(l,_.removedDocuments,T).next((()=>e.Pi.addMatchingKeys(l,_.addedDocuments,T))));let C=w.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(T)!==null?C=C.withResumeToken(Xe.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,s)),o=o.insert(T,C),(function(z,k,Q){return z.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=cM?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(w,C,_)&&d.push(e.Pi.updateTargetData(l,C))}));let p=Ai(),g=Pt();if(t.documentUpdates.forEach((_=>{t.resolvedLimboDocuments.has(_)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(l,_))})),d.push(pM(l,c,t.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!s.isEqual(At.min())){const _=e.Pi.getLastRemoteSnapshotVersion(l).next((T=>e.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(_)}return rt.waitFor(d).next((()=>c.apply(l))).next((()=>e.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(e.Ms=o,l)))}function pM(n,t,e){let s=Pt(),o=Pt();return e.forEach((l=>s=s.add(l))),t.getEntries(n,s).next((l=>{let c=Ai();return e.forEach(((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):dt(Jg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function gM(n,t){const e=Ct(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Bg),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function yM(n,t){const e=Ct(n);return e.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return e.Pi.getTargetData(s,t).next((l=>l?(o=l,rt.resolve(o)):e.Pi.allocateTargetId(s).next((c=>(o=new os(t,c,"TargetPurposeListen",s.currentSequenceNumber),e.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=e.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(s.targetId,s),e.xs.set(t,s.targetId)),s}))}async function ig(n,t,e){const s=Ct(n),o=s.Ms.get(t),l=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Fo(c))throw c;dt(Jg,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function T0(n,t,e){const s=Ct(n);let o=At.min(),l=Pt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const T=Ct(p),w=T.xs.get(_);return w!==void 0?rt.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,_)})(s,c,Ir(t)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,t,e?o:At.min(),e?l:Pt()))).next((d=>(_M(s,rk(t),d),{documents:d,Qs:l})))))}function _M(n,t,e){let s=n.Os.get(t)||At.min();e.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),n.Os.set(t,s)}class b0{constructor(){this.activeTargetIds=uk()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class vM{constructor(){this.Mo=new b0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,s){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new b0,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="ConnectivityMonitor";class S0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){dt(w0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){dt(w0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If=null;function sg(){return If===null?If=(function(){return 268435456+Math.round(2147483648*Math.random())})():If++,"0x"+If.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="RestConnection",TM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bM{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===rh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,e,s,o,l){const c=sg(),d=this.zo(t,e.toUriEncodedString());dt(yp,`Sending RPC '${t}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:g}=new URL(d),_=Ea(g);return this.Jo(t,d,p,s,_).then((T=>(dt(yp,`Received RPC '${t}' ${c}: `,T),T)),(T=>{throw ko(yp,`RPC '${t}' ${c} failed with error: `,T,"url: ",d,"request:",s),T}))}Ho(t,e,s,o,l,c){return this.Go(t,e,s,o,l)}jo(t,e,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+qo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,l)=>t[l]=o)),s&&s.headers.forEach(((o,l)=>t[l]=o))}zo(t,e){const s=TM[t];return`${this.Uo}/v1/${e}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class SM extends bM{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,s,o,l){const c=sg();return new Promise(((d,p)=>{const g=new S1;g.setWithCredentials(!0),g.listenOnce(A1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case jf.NO_ERROR:const T=g.getResponseJson();dt(en,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),d(T);break;case jf.TIMEOUT:dt(en,`RPC '${t}' ${c} timed out`),p(new ht(et.DEADLINE_EXCEEDED,"Request time out"));break;case jf.HTTP_ERROR:const w=g.getStatus();if(dt(en,`RPC '${t}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const M=C?.error;if(M&&M.status&&M.message){const z=(function(Q){const q=Q.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(q)>=0?q:et.UNKNOWN})(M.status);p(new ht(z,M.message))}else p(new ht(et.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ht(et.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{dt(en,`RPC '${t}' ${c} completed.`)}}));const _=JSON.stringify(o);dt(en,`RPC '${t}' ${c} sending request:`,o),g.send(e,"POST",_,s,15)}))}T_(t,e,s){const o=sg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=I1(),d=C1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,e,s),p.encodeInitMessageHeaders=!0;const _=l.join("");dt(en,`Creating RPC '${t}' stream ${o}: ${_}`,p);const T=c.createWebChannel(_,p);this.I_(T);let w=!1,C=!1;const M=new wM({Yo:k=>{C?dt(en,`Not sending because RPC '${t}' stream ${o} is closed:`,k):(w||(dt(en,`Opening RPC '${t}' stream ${o} transport.`),T.open(),w=!0),dt(en,`RPC '${t}' stream ${o} sending:`,k),T.send(k))},Zo:()=>T.close()}),z=(k,Q,q)=>{k.listen(Q,(F=>{try{q(F)}catch(tt){setTimeout((()=>{throw tt}),0)}}))};return z(T,cu.EventType.OPEN,(()=>{C||(dt(en,`RPC '${t}' stream ${o} transport opened.`),M.o_())})),z(T,cu.EventType.CLOSE,(()=>{C||(C=!0,dt(en,`RPC '${t}' stream ${o} transport closed`),M.a_(),this.E_(T))})),z(T,cu.EventType.ERROR,(k=>{C||(C=!0,ko(en,`RPC '${t}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),M.a_(new ht(et.UNAVAILABLE,"The operation could not be completed")))})),z(T,cu.EventType.MESSAGE,(k=>{if(!C){const Q=k.data[0];Kt(!!Q,16349);const q=Q,F=q?.error||q[0]?.error;if(F){dt(en,`RPC '${t}' stream ${o} received error:`,F);const tt=F.status;let st=(function(R){const I=Ce[R];if(I!==void 0)return uw(I)})(tt),lt=F.message;st===void 0&&(st=et.INTERNAL,lt="Unknown error status: "+tt+" with message "+F.message),C=!0,M.a_(new ht(st,lt)),T.close()}else dt(en,`RPC '${t}' stream ${o} received:`,Q),M.u_(Q)}})),z(d,R1.STAT_EVENT,(k=>{k.stat===$p.PROXY?dt(en,`RPC '${t}' stream ${o} detected buffering proxy`):k.stat===$p.NOPROXY&&dt(en,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function _p(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(n){return new Ik(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(t,e,s=1e3,o=1.5,l=6e4){this.Mi=t,this.timerId=e,this.d_=s,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-s);o>0&&dt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="PersistentStream";class Sw{constructor(t,e,s,o,l,c,d,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ww(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===et.RESOURCE_EXHAUSTED?(Si(e.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===e&&this.G_(s,o)}),(s=>{t((()=>{const o=new ht(et.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,e){const s=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return dt(A0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(dt(A0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class AM extends Sw{constructor(t,e,s,o,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,o,c),this.serializer=l}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=Ok(this.serializer,t),s=(function(l){if(!("targetChange"in l))return At.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?At.min():c.readTime?xr(c.readTime):At.min()})(t);return this.listener.H_(e,s)}Y_(t){const e={};e.database=rg(this.serializer),e.addTarget=(function(l,c){let d;const p=c.target;if(d=Wp(p)?{documents:Mk(l,p)}:{query:Vk(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=hw(l,c.resumeToken);const g=tg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(At.min())>0){d.readTime=uh(l,c.snapshotVersion.toTimestamp());const g=tg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const s=Lk(this.serializer,t);s&&(e.labels=s),this.q_(e)}Z_(t){const e={};e.database=rg(this.serializer),e.removeTarget=t,this.q_(e)}}class RM extends Sw{constructor(t,e,s,o,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=kk(t.writeResults,t.commitTime),s=xr(t.commitTime);return this.listener.na(s,e)}ra(){const t={};t.database=rg(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((s=>Dk(this.serializer,s)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{}class IM extends CM{constructor(t,e,s,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ht(et.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(t,eg(e,s),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ht(et.UNKNOWN,l.toString())}))}Ho(t,e,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,eg(e,s),o,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(et.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class NM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Si(e),this.aa=!1):dt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="RemoteStore";class xM{constructor(t,e,s,o,l){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Aa(this)&&(dt(_a,"Restarting streams for network reachability change."),await(async function(p){const g=Ct(p);g.Ea.add(4),await Qu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Bh(g)})(this))}))})),this.Ra=new NM(s,o)}}async function Bh(n){if(Aa(n))for(const t of n.da)await t(!0)}async function Qu(n){for(const t of n.da)await t(!1)}function Aw(n,t){const e=Ct(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),ry(e)?ny(e):Go(e).O_()&&ey(e,t))}function ty(n,t){const e=Ct(n),s=Go(e);e.Ia.delete(t),s.O_()&&Rw(e,t),e.Ia.size===0&&(s.O_()?s.L_():Aa(e)&&e.Ra.set("Unknown"))}function ey(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Go(n).Y_(t)}function Rw(n,t){n.Va.Ue(t),Go(n).Z_(t)}function ny(n){n.Va=new Sk({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Go(n).start(),n.Ra.ua()}function ry(n){return Aa(n)&&!Go(n).x_()&&n.Ia.size>0}function Aa(n){return Ct(n).Ea.size===0}function Cw(n){n.Va=void 0}async function OM(n){n.Ra.set("Online")}async function DM(n){n.Ia.forEach(((t,e)=>{ey(n,t)}))}async function kM(n,t){Cw(n),ry(n)?(n.Ra.ha(t),ny(n)):n.Ra.set("Unknown")}async function MM(n,t,e){if(n.Ra.set("Online"),t instanceof fw&&t.state===2&&t.cause)try{await(async function(o,l){const c=l.cause;for(const d of l.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(n,t)}catch(s){dt(_a,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await fh(n,s)}else if(t instanceof Hf?n.Va.Ze(t):t instanceof cw?n.Va.st(t):n.Va.tt(t),!e.isEqual(At.min()))try{const s=await bw(n.localStore);e.compareTo(s)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.Ia.get(g);_&&l.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const _=l.Ia.get(p);if(!_)return;l.Ia.set(p,_.withResumeToken(Xe.EMPTY_BYTE_STRING,_.snapshotVersion)),Rw(l,p);const T=new os(_.target,p,g,_.sequenceNumber);ey(l,T)})),l.remoteSyncer.applyRemoteEvent(d)})(n,e)}catch(s){dt(_a,"Failed to raise snapshot:",s),await fh(n,s)}}async function fh(n,t,e){if(!Fo(t))throw t;n.Ea.add(1),await Qu(n),n.Ra.set("Offline"),e||(e=()=>bw(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{dt(_a,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Bh(n)}))}function Iw(n,t){return t().catch((e=>fh(n,e,t)))}async function zh(n){const t=Ct(n),e=_s(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Bg;for(;VM(t);)try{const o=await gM(t.localStore,s);if(o===null){t.Ta.length===0&&e.L_();break}s=o.batchId,PM(t,o)}catch(o){await fh(t,o)}Nw(t)&&xw(t)}function VM(n){return Aa(n)&&n.Ta.length<10}function PM(n,t){n.Ta.push(t);const e=_s(n);e.O_()&&e.X_&&e.ea(t.mutations)}function Nw(n){return Aa(n)&&!_s(n).x_()&&n.Ta.length>0}function xw(n){_s(n).start()}async function LM(n){_s(n).ra()}async function UM(n){const t=_s(n);for(const e of n.Ta)t.ea(e.mutations)}async function jM(n,t,e){const s=n.Ta.shift(),o=Kg.from(s,t,e);await Iw(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await zh(n)}async function BM(n,t){t&&_s(n).X_&&await(async function(s,o){if((function(c){return Tk(c)&&c!==et.ABORTED})(o.code)){const l=s.Ta.shift();_s(s).B_(),await Iw(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await zh(s)}})(n,t),Nw(n)&&xw(n)}async function R0(n,t){const e=Ct(n);e.asyncQueue.verifyOperationInProgress(),dt(_a,"RemoteStore received new credentials");const s=Aa(e);e.Ea.add(3),await Qu(e),s&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Bh(e)}async function zM(n,t){const e=Ct(n);t?(e.Ea.delete(2),await Bh(e)):t||(e.Ea.add(2),await Qu(e),e.Ra.set("Unknown"))}function Go(n){return n.ma||(n.ma=(function(e,s,o){const l=Ct(e);return l.sa(),new AM(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:OM.bind(null,n),t_:DM.bind(null,n),r_:kM.bind(null,n),H_:MM.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),ry(n)?ny(n):n.Ra.set("Unknown")):(await n.ma.stop(),Cw(n))}))),n.ma}function _s(n){return n.fa||(n.fa=(function(e,s,o){const l=Ct(e);return l.sa(),new RM(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:LM.bind(null,n),r_:BM.bind(null,n),ta:UM.bind(null,n),na:jM.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await zh(n)):(await n.fa.stop(),n.Ta.length>0&&(dt(_a,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(t,e,s,o,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,o,l){const c=Date.now()+s,d=new iy(t,e,c,o,l);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sy(n,t){if(Si("AsyncQueue",`${t}: ${n}`),Fo(n))return new ht(et.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static emptySet(t){return new Oo(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||yt.comparator(e.key,s.key):(e,s)=>yt.comparator(e.key,s.key),this.keyedMap=fu(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,s)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Oo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new Oo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(){this.ga=new me(yt.comparator)}track(t){const e=t.doc.key,s=this.ga.get(e);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(e,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(e):t.type===1&&s.type===2?this.ga=this.ga.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,s)=>{t.push(s)})),t}}class Uo{constructor(t,e,s,o,l,c,d,p,g){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,s,o,l){const c=[];return e.forEach((d=>{c.push({type:0,doc:d})})),new Uo(t,e,Oo.emptySet(e),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Mh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==s[o].type||!e[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class HM{constructor(){this.queries=I0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const o=Ct(e),l=o.queries;o.queries=I0(),l.forEach(((c,d)=>{for(const p of d.Sa)p.onError(s)}))})(this,new ht(et.ABORTED,"Firestore shutting down"))}}function I0(){return new wa((n=>X1(n)),Mh)}async function Ow(n,t){const e=Ct(n);let s=3;const o=t.query;let l=e.queries.get(o);l?!l.ba()&&t.Da()&&(s=2):(l=new qM,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await e.onListen(o,!0);break;case 1:l.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const d=sy(c,`Initialization of query '${wo(t.query)}' failed`);return void t.onError(d)}e.queries.set(o,l),l.Sa.push(t),t.va(e.onlineState),l.wa&&t.Fa(l.wa)&&ay(e)}async function Dw(n,t){const e=Ct(n),s=t.query;let o=3;const l=e.queries.get(s);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=t.Da()?0:1:!l.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function FM(n,t){const e=Ct(n);let s=!1;for(const o of t){const l=o.query,c=e.queries.get(l);if(c){for(const d of c.Sa)d.Fa(o)&&(s=!0);c.wa=o}}s&&ay(e)}function GM(n,t,e){const s=Ct(n),o=s.queries.get(t);if(o)for(const l of o.Sa)l.onError(e);s.queries.delete(t)}function ay(n){n.Ca.forEach((t=>{t.next()}))}var ag,N0;(N0=ag||(ag={})).Ma="default",N0.Cache="cache";class kw{constructor(t,e,s){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Uo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const s=e!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Uo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ag.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(t){this.key=t}}class Vw{constructor(t){this.key=t}}class $M{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pt(),this.mutatedKeys=Pt(),this.eu=W1(t),this.tu=new Oo(this.eu)}get nu(){return this.Ya}ru(t,e){const s=e?e.iu:new C0,o=e?e.tu:this.tu;let l=e?e.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((_,T)=>{const w=o.get(_),C=Vh(this.query,T)?T:null,M=!!w&&this.mutatedKeys.has(w.key),z=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let k=!1;w&&C?w.data.isEqual(C.data)?M!==z&&(s.track({type:3,doc:C}),k=!0):this.su(w,C)||(s.track({type:2,doc:C}),k=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(d=!0)):!w&&C?(s.track({type:0,doc:C}),k=!0):w&&!C&&(s.track({type:1,doc:w}),k=!0,(p||g)&&(d=!0)),k&&(C?(c=c.add(C),l=z?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),s.track({type:1,doc:_})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,o){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((_,T)=>(function(C,M){const z=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:k})}};return z(C)-z(M)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(s),o=o??!1;const d=e&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Uo(this.query,t.tu,l,c,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new C0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Pt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const e=[];return t.forEach((s=>{this.Xa.has(s)||e.push(new Vw(s))})),this.Xa.forEach((s=>{t.has(s)||e.push(new Mw(s))})),e}cu(t){this.Ya=t.Qs,this.Xa=Pt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const oy="SyncEngine";class KM{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class QM{constructor(t){this.key=t,this.hu=!1}}class YM{constructor(t,e,s,o,l,c){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new wa((d=>X1(d)),Mh),this.Iu=new Map,this.Eu=new Set,this.du=new me(yt.comparator),this.Au=new Map,this.Ru=new Xg,this.Vu={},this.mu=new Map,this.fu=Lo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XM(n,t,e=!0){const s=zw(n);let o;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await Pw(s,t,e,!0),o}async function WM(n,t){const e=zw(n);await Pw(e,t,!0,!1)}async function Pw(n,t,e,s){const o=await yM(n.localStore,Ir(t)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,e);let d;return s&&(d=await ZM(n,t,l,c==="current",o.resumeToken)),n.isPrimaryClient&&e&&Aw(n.remoteStore,o),d}async function ZM(n,t,e,s,o){n.pu=(T,w,C)=>(async function(z,k,Q,q){let F=k.view.ru(Q);F.Cs&&(F=await T0(z.localStore,k.query,!1).then((({documents:N})=>k.view.ru(N,F))));const tt=q&&q.targetChanges.get(k.targetId),st=q&&q.targetMismatches.get(k.targetId)!=null,lt=k.view.applyChanges(F,z.isPrimaryClient,tt,st);return O0(z,k.targetId,lt.au),lt.snapshot})(n,T,w,C);const l=await T0(n.localStore,t,!0),c=new $M(t,l.Qs),d=c.ru(l.documents),p=Ku.createSynthesizedTargetChangeForCurrentChange(e,s&&n.onlineState!=="Offline",o),g=c.applyChanges(d,n.isPrimaryClient,p);O0(n,e,g.au);const _=new KM(t,e,c);return n.Tu.set(t,_),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),g.snapshot}async function JM(n,t,e){const s=Ct(n),o=s.Tu.get(t),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter((c=>!Mh(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ig(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),e&&ty(s.remoteStore,o.targetId),og(s,o.targetId)})).catch(Ho)):(og(s,o.targetId),await ig(s.localStore,o.targetId,!0))}async function tV(n,t){const e=Ct(n),s=e.Tu.get(t),o=e.Iu.get(s.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),ty(e.remoteStore,s.targetId))}async function eV(n,t,e){const s=lV(n);try{const o=await(function(c,d){const p=Ct(c),g=le.now(),_=d.reduce(((C,M)=>C.add(M.key)),Pt());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let M=Ai(),z=Pt();return p.Ns.getEntries(C,_).next((k=>{M=k,M.forEach(((Q,q)=>{q.isValidDocument()||(z=z.add(Q))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,M))).next((k=>{T=k;const Q=[];for(const q of d){const F=gk(q,T.get(q.key).overlayedDocument);F!=null&&Q.push(new Sa(q.key,F,q1(F.value.mapValue),Nr.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,Q,d)})).next((k=>{w=k;const Q=k.applyToLocalDocumentSet(T,z);return p.documentOverlayCache.saveOverlays(C,k.batchId,Q)}))})).then((()=>({batchId:w.batchId,changes:J1(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new me(Vt)),g=g.insert(d,p),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,e),await Yu(s,o.changes),await zh(s.remoteStore)}catch(o){const l=sy(o,"Failed to persist write");e.reject(l)}}async function Lw(n,t){const e=Ct(n);try{const s=await mM(e.localStore,t);t.targetChanges.forEach(((o,l)=>{const c=e.Au.get(l);c&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Kt(c.hu,14607):o.removedDocuments.size>0&&(Kt(c.hu,42227),c.hu=!1))})),await Yu(e,s,t)}catch(s){await Ho(s)}}function x0(n,t,e){const s=Ct(n);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const o=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=Ct(c);p.onlineState=d;let g=!1;p.queries.forEach(((_,T)=>{for(const w of T.Sa)w.va(d)&&(g=!0)})),g&&ay(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function nV(n,t,e){const s=Ct(n);s.sharedClientState.updateQueryState(t,"rejected",e);const o=s.Au.get(t),l=o&&o.key;if(l){let c=new me(yt.comparator);c=c.insert(l,rn.newNoDocument(l,At.min()));const d=Pt().add(l),p=new Uh(At.min(),new Map,new me(Vt),c,d);await Lw(s,p),s.du=s.du.remove(l),s.Au.delete(t),ly(s)}else await ig(s.localStore,t,!1).then((()=>og(s,t,e))).catch(Ho)}async function rV(n,t){const e=Ct(n),s=t.batch.batchId;try{const o=await dM(e.localStore,t);jw(e,s,null),Uw(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await Yu(e,o)}catch(o){await Ho(o)}}async function iV(n,t,e){const s=Ct(n);try{const o=await(function(c,d){const p=Ct(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next((T=>(Kt(T!==null,37113),_=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(s.localStore,t);jw(s,t,e),Uw(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await Yu(s,o)}catch(o){await Ho(o)}}function Uw(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function jw(n,t,e){const s=Ct(n);let o=s.Vu[s.currentUser.toKey()];if(o){const l=o.get(t);l&&(e?l.reject(e):l.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function og(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const s of n.Iu.get(t))n.Tu.delete(s),e&&n.Pu.yu(s,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((s=>{n.Ru.containsKey(s)||Bw(n,s)}))}function Bw(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(ty(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),ly(n))}function O0(n,t,e){for(const s of e)s instanceof Mw?(n.Ru.addReference(s.key,t),sV(n,s)):s instanceof Vw?(dt(oy,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,t),n.Ru.containsKey(s.key)||Bw(n,s.key)):Tt(19791,{wu:s})}function sV(n,t){const e=t.key,s=e.path.canonicalString();n.du.get(e)||n.Eu.has(s)||(dt(oy,"New document in limbo: "+e),n.Eu.add(s),ly(n))}function ly(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new yt(oe.fromString(t)),s=n.fu.next();n.Au.set(s,new QM(e)),n.du=n.du.insert(e,s),Aw(n.remoteStore,new os(Ir(Gg(e.path)),s,"TargetPurposeLimboResolution",Oh.ce))}}async function Yu(n,t,e){const s=Ct(n),o=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{c.push(s.pu(p,t,e).then((g=>{if((g||e)&&s.isPrimaryClient){const _=g?!g.fromCache:e?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=Zg.As(p.targetId,g);l.push(_)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,g){const _=Ct(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>rt.forEach(g,(w=>rt.forEach(w.Es,(C=>_.persistence.referenceDelegate.addReference(T,w.targetId,C))).next((()=>rt.forEach(w.ds,(C=>_.persistence.referenceDelegate.removeReference(T,w.targetId,C)))))))))}catch(T){if(!Fo(T))throw T;dt(Jg,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const C=_.Ms.get(w),M=C.snapshotVersion,z=C.withLastLimboFreeSnapshotVersion(M);_.Ms=_.Ms.insert(w,z)}}})(s.localStore,l))}async function aV(n,t){const e=Ct(n);if(!e.currentUser.isEqual(t)){dt(oy,"User change. New user:",t.toKey());const s=await Tw(e.localStore,t);e.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new ht(et.CANCELLED,c))}))})),l.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Yu(e,s.Ls)}}function oV(n,t){const e=Ct(n),s=e.Au.get(t);if(s&&s.hu)return Pt().add(s.key);{let o=Pt();const l=e.Iu.get(t);if(!l)return o;for(const c of l){const d=e.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function zw(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Lw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=oV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nV.bind(null,t),t.Pu.H_=FM.bind(null,t.eventManager),t.Pu.yu=GM.bind(null,t.eventManager),t}function lV(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iV.bind(null,t),t}class hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=jh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return hM(this.persistence,new uM,t.initialUser,this.serializer)}Cu(t){return new Ew(Wg.mi,this.serializer)}Du(t){return new vM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hh.provider={build:()=>new hh};class uV extends hh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Kt(this.persistence.referenceDelegate instanceof ch,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Qk(s,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new Ew((s=>ch.mi(s,e)),this.serializer)}}class lg{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>x0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=aV.bind(null,this.syncEngine),await zM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new HM})()}createDatastore(t){const e=jh(t.databaseInfo.databaseId),s=(function(l){return new SM(l)})(t.databaseInfo);return(function(l,c,d,p){return new IM(l,c,d,p)})(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return(function(s,o,l,c,d){return new xM(s,o,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(e=>x0(this.syncEngine,e,0)),(function(){return S0.v()?new S0:new EM})())}createSyncEngine(t,e){return(function(o,l,c,d,p,g,_){const T=new YM(o,l,c,d,p,g);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const s=Ct(e);dt(_a,"RemoteStore shutting down."),s.Ea.add(5),await Qu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lg.provider={build:()=>new lg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Si("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="FirestoreClient";class cV{constructor(t,e,s,o,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=jg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{dt(vs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(dt(vs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=sy(e,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function vp(n,t){n.asyncQueue.verifyOperationInProgress(),dt(vs,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let s=e.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Tw(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function D0(n,t){n.asyncQueue.verifyOperationInProgress();const e=await fV(n);dt(vs,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((s=>R0(t.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>R0(t.remoteStore,o))),n._onlineComponents=t}async function fV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){dt(vs,"Using user provided OfflineComponentProvider");try{await vp(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;ko("Error using user provided cache. Falling back to memory cache: "+e),await vp(n,new hh)}}else dt(vs,"Using default OfflineComponentProvider"),await vp(n,new uV(void 0));return n._offlineComponents}async function Hw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(dt(vs,"Using user provided OnlineComponentProvider"),await D0(n,n._uninitializedComponentsProvider._online)):(dt(vs,"Using default OnlineComponentProvider"),await D0(n,new lg))),n._onlineComponents}function hV(n){return Hw(n).then((t=>t.syncEngine))}async function Fw(n){const t=await Hw(n),e=t.eventManager;return e.onListen=XM.bind(null,t.syncEngine),e.onUnlisten=JM.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=WM.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=tV.bind(null,t.syncEngine),e}function dV(n,t,e={}){const s=new yi;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const _=new qw({next:w=>{_.Nu(),c.enqueueAndForget((()=>Dw(l,T)));const C=w.docs.has(d);!C&&w.fromCache?g.reject(new ht(et.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&w.fromCache&&p&&p.source==="server"?g.reject(new ht(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new kw(Gg(d.path),_,{includeMetadataChanges:!0,qa:!0});return Ow(l,T)})(await Fw(n),n.asyncQueue,t,e,s))),s.promise}function mV(n,t,e={}){const s=new yi;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const _=new qw({next:w=>{_.Nu(),c.enqueueAndForget((()=>Dw(l,T))),w.fromCache&&p.source==="server"?g.reject(new ht(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new kw(d,_,{includeMetadataChanges:!0,qa:!0});return Ow(l,T)})(await Fw(n),n.asyncQueue,t,e,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="firestore.googleapis.com",M0=!0;class V0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$w,this.ssl=M0}else this.host=t.host,this.ssl=t.ssl??M0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=vw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<$k)throw new ht(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}xD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Gw(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ht(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ht(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ht(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class qh{constructor(t,e,s,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new ED;switch(s.type){case"firstParty":return new SD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const s=k0.get(e);s&&(dt("ComponentProvider","Removing Datastore"),k0.delete(e),s.terminate())})(this),Promise.resolve()}}function pV(n,t,e,s={}){n=ds(n,qh);const o=Ea(t),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},d=`${t}:${e}`;o&&(wg(`https://${d}`),Sg("Firestore",!0)),l.host!==$w&&l.host!==d&&ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:o,emulatorOptions:s};if(!da(p,c)&&(n._setSettings(p),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=nn.MOCK_USER;else{g=Vb(s.mockUserToken,n._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ht(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new nn(T)}n._authCredentials=new TD(new x1(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new $o(this.firestore,t,this._query)}}class xe{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new xe(this.firestore,t,this._key)}toJSON(){return{type:xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,s){if(Fu(e,xe._jsonSchema))return new xe(t,s||null,new yt(oe.fromString(e.referencePath)))}}xe._jsonSchemaVersion="firestore/documentReference/1.0",xe._jsonSchema={type:Ne("string",xe._jsonSchemaVersion),referencePath:Ne("string")};class fs extends $o{constructor(t,e,s){super(t,e,Gg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new xe(this.firestore,null,new yt(t))}withConverter(t){return new fs(this.firestore,t,this._path)}}function au(n,t,...e){if(n=fn(n),O1("collection","path",t),n instanceof qh){const s=oe.fromString(t,...e);return QT(s),new fs(n,null,s)}{if(!(n instanceof xe||n instanceof fs))throw new ht(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(oe.fromString(t,...e));return QT(s),new fs(n.firestore,null,s)}}function ug(n,t,...e){if(n=fn(n),arguments.length===1&&(t=jg.newId()),O1("doc","path",t),n instanceof qh){const s=oe.fromString(t,...e);return KT(s),new xe(n,null,new yt(s))}{if(!(n instanceof xe||n instanceof fs))throw new ht(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(oe.fromString(t,...e));return KT(s),new xe(n.firestore,n instanceof fs?n.converter:null,new yt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="AsyncQueue";class L0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ww(this,"async_queue_retry"),this._c=()=>{const s=_p();s&&dt(P0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const e=_p();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=_p();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new yi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Fo(t))throw t;dt(P0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Si("INTERNAL UNHANDLED ERROR: ",U0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=e,e}enqueueAfterDelay(t,e,s){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=iy.createAndSchedule(this,t,e,s,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Tt(47125,{Pc:U0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,s)=>e.targetTimeMs-s.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function U0(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Xu extends qh{constructor(t,e,s,o){super(t,e,s,o),this.type="firestore",this._queue=new L0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new L0(t),this._firestoreClient=void 0,await t}}}function gV(n,t){const e=typeof n=="object"?n:Cg(),s=typeof n=="string"?n:rh,o=Rh(e,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=Db("firestore");l&&pV(o,...l)}return o}function uy(n){if(n._terminated)throw new ht(et.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||yV(n),n._firestoreClient}function yV(n){const t=n._freezeSettings(),e=(function(o,l,c,d){return new zD(o,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Gw(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new cV(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qn(Xe.fromBase64String(t))}catch(e){throw new ht(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new qn(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fu(t,qn._jsonSchema))return qn.fromBase64String(t.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Ne("string",qn._jsonSchemaVersion),bytes:Ne("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ht(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ht(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ht(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Or._jsonSchemaVersion}}static fromJSON(t){if(Fu(t,Or._jsonSchema))return new Or(t.latitude,t.longitude)}}Or._jsonSchemaVersion="firestore/geoPoint/1.0",Or._jsonSchema={type:Ne("string",Or._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Dr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fu(t,Dr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Dr(t.vectorValues);throw new ht(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Dr._jsonSchemaVersion="firestore/vectorValue/1.0",Dr._jsonSchema={type:Ne("string",Dr._jsonSchemaVersion),vectorValues:Ne("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=/^__.*__$/;class vV{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new Sa(t,this.data,this.fieldMask,e,this.fieldTransforms):new $u(t,this.data,e,this.fieldTransforms)}}function Qw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:n})}}class fy{constructor(t,e,s,o,l,c){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new fy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),s=this.Vc({path:e,fc:!1});return s.gc(t),s}yc(t){const e=this.path?.child(t),s=this.Vc({path:e,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return dh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Qw(this.Ac)&&_V.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class EV{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||jh(t)}Cc(t,e,s,o=!1){return new fy({Ac:t,methodName:e,Dc:s,path:Ye.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hy(n){const t=n._freezeSettings(),e=jh(n._databaseId);return new EV(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Yw(n,t,e,s,o,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,t,e,o);Zw("Data must be an object, but it was:",c,s);const d=Xw(s,c);let p,g;if(l.merge)p=new nr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const w=bV(t,T,e);if(!c.contains(w))throw new ht(et.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);SV(_,w)||_.push(w)}p=new nr(_),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new vV(new zn(d),p,g)}function TV(n,t,e,s=!1){return dy(e,n.Cc(s?4:3,t))}function dy(n,t){if(Ww(n=fn(n)))return Zw("Unsupported field value:",t,n),Xw(n,t);if(n instanceof Kw)return(function(s,o){if(!Qw(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const l=[];let c=0;for(const d of s){let p=dy(d,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(n,t)}return(function(s,o){if((s=fn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ck(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=le.fromDate(s);return{timestampValue:uh(o.serializer,l)}}if(s instanceof le){const l=new le(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:uh(o.serializer,l)}}if(s instanceof Or)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof qn)return{bytesValue:hw(o.serializer,s._byteString)};if(s instanceof xe){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Yg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Dr)return(function(c,d){return{mapValue:{fields:{[B1]:{stringValue:z1},[ih]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return $g(d.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${xh(s)}`)})(n,t)}function Xw(n,t){const e={};return M1(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ba(n,((s,o)=>{const l=dy(o,t.mc(s));l!=null&&(e[s]=l)})),{mapValue:{fields:e}}}function Ww(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof le||n instanceof Or||n instanceof qn||n instanceof xe||n instanceof Kw||n instanceof Dr)}function Zw(n,t,e){if(!Ww(e)||!D1(e)){const s=xh(e);throw s==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+s)}}function bV(n,t,e){if((t=fn(t))instanceof cy)return t._internalPath;if(typeof t=="string")return Jw(n,t);throw dh("Field path arguments must be of type string or ",n,!1,void 0,e)}const wV=new RegExp("[~\\*/\\[\\]]");function Jw(n,t,e){if(t.search(wV)>=0)throw dh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new cy(...t.split("."))._internalPath}catch{throw dh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function dh(n,t,e,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new ht(et.INVALID_ARGUMENT,d+n+p)}function SV(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(t,e,s,o,l){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new AV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(my("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class AV extends tS{data(){return super.data()}}function my(n,t){return typeof t=="string"?Jw(n,t):t instanceof cy?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ht(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class py{}class CV extends py{}function IV(n,t,...e){let s=[];t instanceof py&&s.push(t),s=s.concat(e),(function(l){const c=l.filter((p=>p instanceof gy)).length,d=l.filter((p=>p instanceof Hh)).length;if(c>1||c>0&&d>0)throw new ht(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)n=o._apply(n);return n}class Hh extends CV{constructor(t,e,s){super(),this._field=t,this._op=e,this._value=s,this.type="where"}static _create(t,e,s){return new Hh(t,e,s)}_apply(t){const e=this._parse(t);return eS(t._query,e),new $o(t.firestore,t.converter,Zp(t._query,e))}_parse(t){const e=hy(t.firestore);return(function(l,c,d,p,g,_,T){let w;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ht(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){B0(T,_);const M=[];for(const z of T)M.push(j0(p,l,z));w={arrayValue:{values:M}}}else w=j0(p,l,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||B0(T,_),w=TV(d,c,T,_==="in"||_==="not-in");return Ie.create(g,_,w)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function NV(n,t,e){const s=t,o=my("where",n);return Hh._create(o,s,e)}class gy extends py{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new gy(t,e)}_parse(t){const e=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return e.length===1?e[0]:ir.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(o,l){let c=o;const d=l.getFlattenedFilters();for(const p of d)eS(c,p),c=Zp(c,p)})(t._query,e),new $o(t.firestore,t.converter,Zp(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function j0(n,t,e){if(typeof(e=fn(e))=="string"){if(e==="")throw new ht(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Y1(t)&&e.indexOf("/")!==-1)throw new ht(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(oe.fromString(e));if(!yt.isDocumentKey(s))throw new ht(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return n0(n,new yt(s))}if(e instanceof xe)return n0(n,e._key);throw new ht(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xh(e)}.`)}function B0(n,t){if(!Array.isArray(n)||n.length===0)throw new ht(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function eS(n,t){const e=(function(o,l){for(const c of o)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ht(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class xV{convertValue(t,e="none"){switch(ys(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(gs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return ba(t,((o,l)=>{s[o]=this.convertValue(l,e)})),s}convertVectorValue(t){const e=t.fields?.[ih].arrayValue?.values?.map((s=>Te(s.doubleValue)));return new Dr(e)}convertGeoPoint(t){return new Or(Te(t.latitude),Te(t.longitude))}convertArray(t,e){return(t.values||[]).map((s=>this.convertValue(s,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const s=kh(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(Iu(t));default:return null}}convertTimestamp(t){const e=ps(t);return new le(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=oe.fromString(t);Kt(_w(s),9688,{name:t});const o=new Nu(s.get(1),s.get(3)),l=new yt(s.popFirst(5));return o.isEqual(e)||Si(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(n,t,e){let s;return s=n?n.toFirestore(t):t,s}class du{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class fa extends tS{constructor(t,e,s,o,l,c){super(t,e,s,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Ff(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(my("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=fa._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}fa._jsonSchemaVersion="firestore/documentSnapshot/1.0",fa._jsonSchema={type:Ne("string",fa._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class Ff extends fa{data(t={}){return super.data(t)}}class Do{constructor(t,e,s,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new du(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((s=>{t.call(e,new Ff(this._firestore,this._userDataWriter,s.key,s,new du(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ht(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new Ff(o._firestore,o._userDataWriter,d.doc.key,d.doc,new du(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new Ff(o._firestore,o._userDataWriter,d.doc.key,d.doc,new du(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:OV(d.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Do._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=jg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],s=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(e.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function OV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(n){n=ds(n,xe);const t=ds(n.firestore,Xu);return dV(uy(t),n._key).then((e=>VV(t,n,e)))}Do._jsonSchemaVersion="firestore/querySnapshot/1.0",Do._jsonSchema={type:Ne("string",Do._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class rS extends xV{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new xe(this.firestore,null,e)}}function Ep(n){n=ds(n,$o);const t=ds(n.firestore,Xu),e=uy(t),s=new rS(t);return RV(n._query),mV(e,n._query).then((o=>new Do(t,s,n,o)))}function kV(n,t,e){n=ds(n,xe);const s=ds(n.firestore,Xu),o=nS(n.converter,t);return iS(s,[Yw(hy(s),"setDoc",n._key,o,n.converter!==null,e).toMutation(n._key,Nr.none())])}function MV(n,t){const e=ds(n.firestore,Xu),s=ug(n),o=nS(n.converter,t);return iS(e,[Yw(hy(n.firestore),"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,Nr.exists(!1))]).then((()=>s))}function iS(n,t){return(function(s,o){const l=new yi;return s.asyncQueue.enqueueAndForget((async()=>eV(await hV(s),o,l))),l.promise})(uy(n),t)}function VV(n,t,e){const s=e.docs.get(t._key),o=new rS(n);return new fa(n,o,t._key,s,new du(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){qo=o})(Ta),ma(new hs("firestore",((s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new Xu(new bD(s.getProvider("auth-internal")),new AD(c,s.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ht(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nu(g.options.projectId,_)})(c,o),c);return l={useFetchStreams:e,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Rr(HT,FT,t),Rr(HT,FT,"esm2020")})();const sS=S.createContext(null),PV={apiKey:"AIzaSyCGr4Qg1oKC-qXDn3v-fKx0zTx0Vqr56tM",authDomain:"bookify-7006a.firebaseapp.com",projectId:"bookify-7006a",storageBucket:"bookify-7006a.appspot.com",messagingSenderId:"868276582953",appId:"1:868276582953:web:674cc30ba9f4d6cce13a38"},yy=Ub(PV),Nf=HO(yy),LV=new ci;gD(yy);const vo=gV(yy),Lr=()=>S.useContext(sS),UV=({children:n})=>{const[t,e]=S.useState(null);S.useEffect(()=>{Dx(Nf,C=>{e(C||null)})},[]);const s=async()=>{if(!t)return null;const C=au(vo,"books"),M=IV(C,NV("orderId","==",t.uid));return await Ep(M)},o=(C,M)=>Ix(Nf,C,M),l=()=>Ep(au(vo,"books")),c=C=>Ep(au(vo,"books",C,"orders")),d=(C,M)=>Nx(Nf,C,M),p=async(C,M,z,k,Q)=>{const q=ug(au(vo,"books")),F=q.id;return await kV(q,{name:C,isbn:M,price:z,imageurl:k,Owner:Q,userID:F,orderId:t.uid,ownermail:t.email}),q},g=async(C,M,z,k)=>await MV(au(vo,"books",k,"orders"),{name:C,email:M,Qty:z}),_=async C=>{const M=ug(vo,"books",C),z=await DV(M);return z.exists()?z.data():null},T=()=>Zx(Nf,LV),w=!!t;return x.jsx(sS.Provider,{value:{listallbooks:l,bookorder:g,viewdatabyid:_,signupUserWithEmailAndPassword:o,handlecreatednewlisting:p,signinUserWithEmailAndPass:d,Viewmybooks:s,myorders:c,signinwithgoogle:T,isLogin:w},children:n})},jV=({buyerName:n,buyerEmail:t,quantity:e,onMailDone:s})=>{const[o,l]=S.useState(null),[c,d]=S.useState(!1),[p,g]=S.useState(!1),_=Ts(),T=Lr(),w=Eh();S.useEffect(()=>{w.id&&T.viewdatabyid(w.id).then(M=>l(M))},[T,w.id]);const C=()=>{if(!o){$t.error("❌ Book data not loaded yet.");return}d(!0);const M={order_id:w.id,email:o.ownermail,buyer_name:n,book_title:o.name,quantity:e,owner_name:o.Owner,buyer_email:t},z={buyer_name:n,book_title:o.name,quantity:e,buyer_email:t,price:o.price},k="service_qs4edfo",Q="template_k3fkt8o",q="template_m43szel",F="gh8w3mw3cx2eCrtop";Promise.all([aT.send(k,Q,M,F),aT.send(k,q,z,F)]).then(()=>{g(!0),$t.success("🎉 Order Confirmed!"),s&&s(),setTimeout(()=>_("/"),2e3)}).catch(()=>{$t.error("❌ Failed to send email."),s&&s()}).finally(()=>d(!1))};return x.jsx(x.Fragment,{children:x.jsx("button",{onClick:C,className:"btn btn-primary mt-3",disabled:!o||c||p,children:c?"Processing...":p?"Order Placed":o?"Confirm Order":"Loading..."})})};var Tp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var z0;function BV(){return z0||(z0=1,(function(n){(function(){var t={}.hasOwnProperty;function e(){for(var l="",c=0;c<arguments.length;c++){var d=arguments[c];d&&(l=o(l,s(d)))}return l}function s(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return e.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var c="";for(var d in l)t.call(l,d)&&l[d]&&(c=o(c,d));return c}function o(l,c){return c?l?l+" "+c:l+c:l}n.exports?(e.default=e,n.exports=e):window.classNames=e})()})(Tp)),Tp.exports}var zV=BV();const Rt=_h(zV),qV=["as","disabled"];function HV(n,t){if(n==null)return{};var e={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(t.indexOf(s)>=0)continue;e[s]=n[s]}return e}function FV(n){return!n||n.trim()==="#"}function _y({tagName:n,disabled:t,href:e,target:s,rel:o,role:l,onClick:c,tabIndex:d=0,type:p}){n||(e!=null||s!=null||o!=null?n="a":n="button");const g={tagName:n};if(n==="button")return[{type:p||"button",disabled:t},g];const _=w=>{if((t||n==="a"&&FV(e))&&w.preventDefault(),t){w.stopPropagation();return}c?.(w)},T=w=>{w.key===" "&&(w.preventDefault(),_(w))};return n==="a"&&(e||(e="#"),t&&(e=void 0)),[{role:l??"button",disabled:void 0,tabIndex:t?void 0:d,href:e,target:n==="a"?s:void 0,"aria-disabled":t||void 0,rel:n==="a"?o:void 0,onClick:_,onKeyDown:T},g]}const aS=S.forwardRef((n,t)=>{let{as:e,disabled:s}=n,o=HV(n,qV);const[l,{tagName:c}]=_y(Object.assign({tagName:e,disabled:s},o));return x.jsx(c,Object.assign({},o,l,{ref:t}))});aS.displayName="Button";const GV=["xxl","xl","lg","md","sm","xs"],$V="xs",Fh=S.createContext({prefixes:{},breakpoints:GV,minBreakpoint:$V}),{Consumer:FP,Provider:GP}=Fh;function xt(n,t){const{prefixes:e}=S.useContext(Fh);return n||e[t]||t}function oS(){const{breakpoints:n}=S.useContext(Fh);return n}function lS(){const{minBreakpoint:n}=S.useContext(Fh);return n}const Ko=S.forwardRef(({as:n,bsPrefix:t,variant:e="primary",size:s,active:o=!1,disabled:l=!1,className:c,...d},p)=>{const g=xt(t,"btn"),[_,{tagName:T}]=_y({tagName:n,disabled:l,...d}),w=T;return x.jsx(w,{..._,...d,ref:p,disabled:l,className:Rt(c,g,o&&"active",e&&`${g}-${e}`,s&&`${g}-${s}`,d.href&&l&&"disabled")})});Ko.displayName="Button";var bp={exports:{}},wp,q0;function KV(){if(q0)return wp;q0=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return wp=n,wp}var Sp,H0;function QV(){if(H0)return Sp;H0=1;var n=KV();function t(){}function e(){}return e.resetWarningCache=t,Sp=function(){function s(c,d,p,g,_,T){if(T!==n){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}s.isRequired=s;function o(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:e,resetWarningCache:t};return l.PropTypes=l,l},Sp}var F0;function YV(){return F0||(F0=1,bp.exports=QV()()),bp.exports}var XV=YV();const _i=_h(XV),WV={type:_i.string,tooltip:_i.bool,as:_i.elementType},Gh=S.forwardRef(({as:n="div",className:t,type:e="valid",tooltip:s=!1,...o},l)=>x.jsx(n,{...o,ref:l,className:Rt(t,`${e}-${s?"tooltip":"feedback"}`)}));Gh.displayName="Feedback";Gh.propTypes=WV;const Ri=S.createContext({}),vy=S.forwardRef(({id:n,bsPrefix:t,className:e,type:s="checkbox",isValid:o=!1,isInvalid:l=!1,as:c="input",...d},p)=>{const{controlId:g}=S.useContext(Ri);return t=xt(t,"form-check-input"),x.jsx(c,{...d,ref:p,type:s,id:n||g,className:Rt(e,t,o&&"is-valid",l&&"is-invalid")})});vy.displayName="FormCheckInput";const mh=S.forwardRef(({bsPrefix:n,className:t,htmlFor:e,...s},o)=>{const{controlId:l}=S.useContext(Ri);return n=xt(n,"form-check-label"),x.jsx("label",{...s,ref:o,htmlFor:e||l,className:Rt(t,n)})});mh.displayName="FormCheckLabel";function ZV(n,t){return S.Children.toArray(n).some(e=>S.isValidElement(e)&&e.type===t)}const uS=S.forwardRef(({id:n,bsPrefix:t,bsSwitchPrefix:e,inline:s=!1,reverse:o=!1,disabled:l=!1,isValid:c=!1,isInvalid:d=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:_,className:T,style:w,title:C="",type:M="checkbox",label:z,children:k,as:Q="input",...q},F)=>{t=xt(t,"form-check"),e=xt(e,"form-switch");const{controlId:tt}=S.useContext(Ri),st=S.useMemo(()=>({controlId:n||tt}),[tt,n]),lt=!k&&z!=null&&z!==!1||ZV(k,mh),N=x.jsx(vy,{...q,type:M==="switch"?"checkbox":M,ref:F,isValid:c,isInvalid:d,disabled:l,as:Q});return x.jsx(Ri.Provider,{value:st,children:x.jsx("div",{style:w,className:Rt(T,lt&&t,s&&`${t}-inline`,o&&`${t}-reverse`,M==="switch"&&e),children:k||x.jsxs(x.Fragment,{children:[N,lt&&x.jsx(mh,{title:C,children:z}),g&&x.jsx(Gh,{type:_,tooltip:p,children:g})]})})})});uS.displayName="FormCheck";const ph=Object.assign(uS,{Input:vy,Label:mh}),cS=S.forwardRef(({bsPrefix:n,type:t,size:e,htmlSize:s,id:o,className:l,isValid:c=!1,isInvalid:d=!1,plaintext:p,readOnly:g,as:_="input",...T},w)=>{const{controlId:C}=S.useContext(Ri);return n=xt(n,"form-control"),x.jsx(_,{...T,type:t,size:s,ref:w,readOnly:g,id:o||C,className:Rt(l,p?`${n}-plaintext`:n,e&&`${n}-${e}`,t==="color"&&`${n}-color`,c&&"is-valid",d&&"is-invalid")})});cS.displayName="FormControl";const JV=Object.assign(cS,{Feedback:Gh}),fS=S.forwardRef(({className:n,bsPrefix:t,as:e="div",...s},o)=>(t=xt(t,"form-floating"),x.jsx(e,{ref:o,className:Rt(n,t),...s})));fS.displayName="FormFloating";const Ey=S.forwardRef(({controlId:n,as:t="div",...e},s)=>{const o=S.useMemo(()=>({controlId:n}),[n]);return x.jsx(Ri.Provider,{value:o,children:x.jsx(t,{...e,ref:s})})});Ey.displayName="FormGroup";function t4({as:n,bsPrefix:t,className:e,...s}){t=xt(t,"col");const o=oS(),l=lS(),c=[],d=[];return o.forEach(p=>{const g=s[p];delete s[p];let _,T,w;typeof g=="object"&&g!=null?{span:_,offset:T,order:w}=g:_=g;const C=p!==l?`-${p}`:"";_&&c.push(_===!0?`${t}${C}`:`${t}${C}-${_}`),w!=null&&d.push(`order${C}-${w}`),T!=null&&d.push(`offset${C}-${T}`)}),[{...s,className:Rt(e,...c,...d)},{as:n,bsPrefix:t,spans:c}]}const $h=S.forwardRef((n,t)=>{const[{className:e,...s},{as:o="div",bsPrefix:l,spans:c}]=t4(n);return x.jsx(o,{...s,ref:t,className:Rt(e,!c.length&&l)})});$h.displayName="Col";const hS=S.forwardRef(({as:n="label",bsPrefix:t,column:e=!1,visuallyHidden:s=!1,className:o,htmlFor:l,...c},d)=>{const{controlId:p}=S.useContext(Ri);t=xt(t,"form-label");let g="col-form-label";typeof e=="string"&&(g=`${g} ${g}-${e}`);const _=Rt(o,t,s&&"visually-hidden",e&&g);return l=l||p,e?x.jsx($h,{ref:d,as:"label",className:_,htmlFor:l,...c}):x.jsx(n,{ref:d,className:_,htmlFor:l,...c})});hS.displayName="FormLabel";const dS=S.forwardRef(({bsPrefix:n,className:t,id:e,...s},o)=>{const{controlId:l}=S.useContext(Ri);return n=xt(n,"form-range"),x.jsx("input",{...s,type:"range",ref:o,className:Rt(t,n),id:e||l})});dS.displayName="FormRange";const mS=S.forwardRef(({bsPrefix:n,size:t,htmlSize:e,className:s,isValid:o=!1,isInvalid:l=!1,id:c,...d},p)=>{const{controlId:g}=S.useContext(Ri);return n=xt(n,"form-select"),x.jsx("select",{...d,size:e,ref:p,className:Rt(s,n,t&&`${n}-${t}`,o&&"is-valid",l&&"is-invalid"),id:c||g})});mS.displayName="FormSelect";const pS=S.forwardRef(({bsPrefix:n,className:t,as:e="small",muted:s,...o},l)=>(n=xt(n,"form-text"),x.jsx(e,{...o,ref:l,className:Rt(t,n,s&&"text-muted")})));pS.displayName="FormText";const gS=S.forwardRef((n,t)=>x.jsx(ph,{...n,ref:t,type:"switch"}));gS.displayName="Switch";const e4=Object.assign(gS,{Input:ph.Input,Label:ph.Label}),yS=S.forwardRef(({bsPrefix:n,className:t,children:e,controlId:s,label:o,...l},c)=>(n=xt(n,"form-floating"),x.jsxs(Ey,{ref:c,className:Rt(t,n),controlId:s,...l,children:[e,x.jsx("label",{htmlFor:s,children:o})]})));yS.displayName="FloatingLabel";const n4={_ref:_i.any,validated:_i.bool,as:_i.elementType},Ty=S.forwardRef(({className:n,validated:t,as:e="form",...s},o)=>x.jsx(e,{...s,ref:o,className:Rt(n,t&&"was-validated")}));Ty.displayName="Form";Ty.propTypes=n4;const ae=Object.assign(Ty,{Group:Ey,Control:JV,Floating:fS,Check:ph,Switch:e4,Label:hS,Text:pS,Range:dS,Select:mS,FloatingLabel:yS}),r4=()=>{const n=Lr(),[t,e]=S.useState(""),[s,o]=S.useState(""),l=Ts();S.useEffect(()=>{n.isLogin&&l("/")},[n,l]);const c=async d=>{if(d.preventDefault(),!t||!s){alert("Please fill in both fields.");return}await n.signinUserWithEmailAndPass(t,s)};return x.jsx("div",{className:"container mt-5",children:x.jsx("div",{className:"row justify-content-center",children:x.jsx("div",{className:"col-md-5",children:x.jsxs("div",{className:"card p-4 shadow-sm",children:[x.jsx("h4",{className:"text-center mb-4",children:"Login"}),x.jsxs("form",{onSubmit:c,children:[x.jsxs("div",{className:"mb-3",children:[x.jsx("label",{htmlFor:"email",className:"form-label",children:"Email address"}),x.jsx("input",{type:"email",className:"form-control",id:"email",onChange:d=>e(d.target.value),value:t,placeholder:"Enter email"})]}),x.jsxs("div",{className:"mb-1",children:[x.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),x.jsx("input",{type:"password",className:"form-control",id:"password",onChange:d=>o(d.target.value),value:s,placeholder:"Enter password"})]}),x.jsx("div",{className:"mb-3 text-end",children:x.jsx("button",{type:"button",className:"btn btn-link p-0 text-decoration-none",onClick:()=>l("/register"),style:{color:"#5082a1fc"},children:"Forgot Password?"})}),x.jsx("button",{type:"submit",className:"btn w-100",style:{backgroundColor:"#5082a1fc",color:"#fff"},children:"LOGIN"})]}),x.jsx("div",{className:"text-center mb-2",children:x.jsx("span",{children:"OR"})}),x.jsxs(Ko,{className:"w-100 mb-3",onClick:n.signinwithgoogle,style:{backgroundColor:"#5082a1fc",color:"#fff",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center",border:"none",borderRadius:"8px",padding:"10px 16px"},children:[x.jsx("img",{src:"https://img.icons8.com/color/24/000000/google-logo.png",alt:"Google icon",className:"me-2",style:{backgroundColor:"white",borderRadius:"50%",padding:"2px"}}),"Sign in with Google"]}),x.jsx("div",{className:"mt-3 text-center",children:x.jsxs("span",{children:["Need an account?",x.jsx("button",{onClick:()=>l("/register"),className:"btn text-decoration-none",style:{marginLeft:"5px",backgroundColor:"#5082a1fc",color:"#fff",border:"none",padding:"8px 16px",borderRadius:"5px"},children:"Sign up"})]})})]})})})})},i4=()=>{const n=Lr(),[t,e]=S.useState(""),[s,o]=S.useState(""),l=Ts();S.useEffect(()=>{n.isLogin&&l("/")},[n,l]);const c=async d=>{d.preventDefault(),await n.signupUserWithEmailAndPassword(t,s)};return x.jsx("div",{className:"container mt-5",children:x.jsx("div",{className:"row justify-content-center",children:x.jsx("div",{className:"col-md-5",children:x.jsxs("div",{className:"card p-4 shadow-sm",children:[x.jsx("h4",{className:"text-center mb-4",children:"Create an Account"}),x.jsxs("form",{onSubmit:c,children:[x.jsxs("div",{className:"mb-3",children:[x.jsx("label",{htmlFor:"email",className:"form-label",children:"Email address"}),x.jsx("input",{type:"email",className:"form-control",id:"email",onChange:d=>e(d.target.value),value:t,placeholder:"Enter email"})]}),x.jsxs("div",{className:"mb-1",children:[x.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),x.jsx("input",{type:"password",className:"form-control",id:"password",onChange:d=>o(d.target.value),value:s,placeholder:"Enter password"})]}),x.jsx("button",{type:"submit",className:"btn w-100",style:{backgroundColor:"#5082a1fc",color:"#fff"},children:"Create Account"})]}),x.jsx("div",{className:"mt-3 text-center",children:x.jsxs("span",{children:["Already have an account?",x.jsx("button",{onClick:()=>l("/login"),className:"btn text-decoration-none",style:{marginLeft:"5px",backgroundColor:"#5082a1fc",color:"#fff",border:"none",padding:"8px 16px",borderRadius:"5px"},children:"Login"})]})})]})})})})},s4=()=>{const[n,t]=S.useState(""),[e,s]=S.useState(""),[o,l]=S.useState(""),c=Lr(),[d,p]=S.useState(""),[g,_]=S.useState(""),T=Ts(),w=async C=>{C.preventDefault(),await c.handlecreatednewlisting(n,o,e,d,g).then(T("/")).catch(M=>console.log(M))};return x.jsx("div",{className:"container mt-5",children:x.jsxs(ae,{onSubmit:w,children:[x.jsxs(ae.Group,{className:"mb-3",controlId:"bookName",children:[x.jsx(ae.Label,{children:"Book Name"}),x.jsx(ae.Control,{type:"text",placeholder:"Enter Book Name",value:n,onChange:C=>t(C.target.value)})]}),x.jsxs(ae.Group,{className:"mb-3",controlId:"bookowner",children:[x.jsx(ae.Label,{children:"Book Owner"}),x.jsx(ae.Control,{type:"text",placeholder:"Enter Owner Name",value:g,onChange:C=>_(C.target.value)})]}),x.jsxs(ae.Group,{className:"mb-3",controlId:"bookPrice",children:[x.jsx(ae.Label,{children:"Book Price"}),x.jsx(ae.Control,{type:"text",placeholder:"Enter Book Price",value:e,onChange:C=>s(C.target.value)})]}),x.jsxs(ae.Group,{className:"mb-3",controlId:"bookPrice",children:[x.jsx(ae.Label,{children:"ISBN NUMBER"}),x.jsx(ae.Control,{type:"text",placeholder:"Enter ISBN Number",value:o,onChange:C=>l(C.target.value)})]}),x.jsxs(ae.Group,{className:"mb-3",controlId:"bookPrice",children:[x.jsx(ae.Label,{children:"Image Url"}),x.jsx(ae.Control,{type:"text",placeholder:"Enter Image Url",value:d,onChange:C=>p(C.target.value)})]}),x.jsx(Ko,{variant:"primary",type:"submit",children:"Create"})]})})},by=S.forwardRef(({className:n,bsPrefix:t,as:e="div",...s},o)=>(t=xt(t,"card-body"),x.jsx(e,{ref:o,className:Rt(n,t),...s})));by.displayName="CardBody";const _S=S.forwardRef(({className:n,bsPrefix:t,as:e="div",...s},o)=>(t=xt(t,"card-footer"),x.jsx(e,{ref:o,className:Rt(n,t),...s})));_S.displayName="CardFooter";const wy=S.createContext(null);wy.displayName="CardHeaderContext";const vS=S.forwardRef(({bsPrefix:n,className:t,as:e="div",...s},o)=>{const l=xt(n,"card-header"),c=S.useMemo(()=>({cardHeaderBsPrefix:l}),[l]);return x.jsx(wy.Provider,{value:c,children:x.jsx(e,{ref:o,...s,className:Rt(t,l)})})});vS.displayName="CardHeader";const ES=S.forwardRef(({bsPrefix:n,className:t,variant:e,as:s="img",...o},l)=>{const c=xt(n,"card-img");return x.jsx(s,{ref:l,className:Rt(e?`${c}-${e}`:c,t),...o})});ES.displayName="CardImg";const TS=S.forwardRef(({className:n,bsPrefix:t,as:e="div",...s},o)=>(t=xt(t,"card-img-overlay"),x.jsx(e,{ref:o,className:Rt(n,t),...s})));TS.displayName="CardImgOverlay";const bS=S.forwardRef(({className:n,bsPrefix:t,as:e="a",...s},o)=>(t=xt(t,"card-link"),x.jsx(e,{ref:o,className:Rt(n,t),...s})));bS.displayName="CardLink";const Sy=(n=>S.forwardRef((t,e)=>x.jsx("div",{...t,ref:e,className:Rt(t.className,n)}))),a4=Sy("h6"),wS=S.forwardRef(({className:n,bsPrefix:t,as:e=a4,...s},o)=>(t=xt(t,"card-subtitle"),x.jsx(e,{ref:o,className:Rt(n,t),...s})));wS.displayName="CardSubtitle";const SS=S.forwardRef(({className:n,bsPrefix:t,as:e="p",...s},o)=>(t=xt(t,"card-text"),x.jsx(e,{ref:o,className:Rt(n,t),...s})));SS.displayName="CardText";const o4=Sy("h5"),AS=S.forwardRef(({className:n,bsPrefix:t,as:e=o4,...s},o)=>(t=xt(t,"card-title"),x.jsx(e,{ref:o,className:Rt(n,t),...s})));AS.displayName="CardTitle";const RS=S.forwardRef(({bsPrefix:n,className:t,bg:e,text:s,border:o,body:l=!1,children:c,as:d="div",...p},g)=>{const _=xt(n,"card");return x.jsx(d,{ref:g,...p,className:Rt(t,_,e&&`bg-${e}`,s&&`text-${s}`,o&&`border-${o}`),children:l?x.jsx(by,{children:c}):c})});RS.displayName="Card";const Ar=Object.assign(RS,{Img:ES,Title:AS,Subtitle:wS,Body:by,Link:bS,Text:SS,Header:vS,Footer:_S,ImgOverlay:TS}),CS=n=>{const t=Ts();return x.jsx("div",{children:x.jsxs(Ar,{style:{width:"18rem",height:"33rem",margin:"5px"},children:[x.jsx(Ar.Img,{variant:"top",src:n.imageurl,style:{height:"250px"}}),x.jsxs(Ar.Body,{style:{position:"relative"},children:[x.jsx(Ar.Title,{children:n.name}),x.jsxs(Ar.Text,{children:["This book has a title ",n.name," and owner is ",n.Owner,". Its price is Rs.",n.price,"."]}),x.jsx("div",{style:{position:"absolute",bottom:"30px",left:"50%",transform:"translateX(-50%)"},children:x.jsx(Ko,{onClick:()=>t(`/book/view/${n.id}`),variant:"primary",children:n.view})})]})]})})};function cg(){return cg=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)({}).hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},cg.apply(null,arguments)}function IS(n,t){if(n==null)return{};var e={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(t.indexOf(s)!==-1)continue;e[s]=n[s]}return e}function G0(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function l4(n){var t=u4(n,"string");return typeof t=="symbol"?t:String(t)}function u4(n,t){if(typeof n!="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var s=e.call(n,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function c4(n,t,e){var s=S.useRef(n!==void 0),o=S.useState(t),l=o[0],c=o[1],d=n!==void 0,p=s.current;return s.current=d,!d&&p&&l!==t&&c(t),[d?n:l,S.useCallback(function(g){for(var _=arguments.length,T=new Array(_>1?_-1:0),w=1;w<_;w++)T[w-1]=arguments[w];e&&e.apply(void 0,[g].concat(T)),c(g)},[e])]}function NS(n,t){return Object.keys(t).reduce(function(e,s){var o,l=e,c=l[G0(s)],d=l[s],p=IS(l,[G0(s),s].map(l4)),g=t[s],_=c4(d,c,n[g]),T=_[0],w=_[1];return cg({},p,(o={},o[s]=T,o[g]=w,o))},n)}function fg(n,t){return fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,s){return e.__proto__=s,e},fg(n,t)}function f4(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,fg(n,t)}function Ay(n){return n&&n.ownerDocument||document}function h4(n){var t=Ay(n);return t&&t.defaultView||window}function d4(n,t){return h4(n).getComputedStyle(n,t)}var m4=/([A-Z])/g;function p4(n){return n.replace(m4,"-$1").toLowerCase()}var g4=/^ms-/;function xf(n){return p4(n).replace(g4,"-ms-")}var y4=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function _4(n){return!!(n&&y4.test(n))}function vi(n,t){var e="",s="";if(typeof t=="string")return n.style.getPropertyValue(xf(t))||d4(n).getPropertyValue(xf(t));Object.keys(t).forEach(function(o){var l=t[o];!l&&l!==0?n.style.removeProperty(xf(o)):_4(o)?s+=o+"("+l+") ":e+=xf(o)+": "+l+";"}),s&&(e+="transform: "+s+";"),n.style.cssText+=";"+e}const $0={disabled:!1},xS=qt.createContext(null);var v4=function(t){return t.scrollTop},mu="unmounted",rs="exited",Jn="entering",fi="entered",ku="exiting",Ci=(function(n){f4(t,n);function t(s,o){var l;l=n.call(this,s,o)||this;var c=o,d=c&&!c.isMounting?s.enter:s.appear,p;return l.appearStatus=null,s.in?d?(p=rs,l.appearStatus=Jn):p=fi:s.unmountOnExit||s.mountOnEnter?p=mu:p=rs,l.state={status:p},l.nextCallback=null,l}t.getDerivedStateFromProps=function(o,l){var c=o.in;return c&&l.status===mu?{status:rs}:null};var e=t.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(o){var l=null;if(o!==this.props){var c=this.state.status;this.props.in?c!==Jn&&c!==fi&&(l=Jn):(c===Jn||c===fi)&&(l=ku)}this.updateStatus(!1,l)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var o=this.props.timeout,l,c,d;return l=c=d=o,o!=null&&typeof o!="number"&&(l=o.exit,c=o.enter,d=o.appear!==void 0?o.appear:c),{exit:l,enter:c,appear:d}},e.updateStatus=function(o,l){if(o===void 0&&(o=!1),l!==null)if(this.cancelNextCallback(),l===Jn){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:Co.findDOMNode(this);c&&v4(c)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===rs&&this.setState({status:mu})},e.performEnter=function(o){var l=this,c=this.props.enter,d=this.context?this.context.isMounting:o,p=this.props.nodeRef?[d]:[Co.findDOMNode(this),d],g=p[0],_=p[1],T=this.getTimeouts(),w=d?T.appear:T.enter;if(!o&&!c||$0.disabled){this.safeSetState({status:fi},function(){l.props.onEntered(g)});return}this.props.onEnter(g,_),this.safeSetState({status:Jn},function(){l.props.onEntering(g,_),l.onTransitionEnd(w,function(){l.safeSetState({status:fi},function(){l.props.onEntered(g,_)})})})},e.performExit=function(){var o=this,l=this.props.exit,c=this.getTimeouts(),d=this.props.nodeRef?void 0:Co.findDOMNode(this);if(!l||$0.disabled){this.safeSetState({status:rs},function(){o.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:ku},function(){o.props.onExiting(d),o.onTransitionEnd(c.exit,function(){o.safeSetState({status:rs},function(){o.props.onExited(d)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(o,l){l=this.setNextCallback(l),this.setState(o,l)},e.setNextCallback=function(o){var l=this,c=!0;return this.nextCallback=function(d){c&&(c=!1,l.nextCallback=null,o(d))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},e.onTransitionEnd=function(o,l){this.setNextCallback(l);var c=this.props.nodeRef?this.props.nodeRef.current:Co.findDOMNode(this),d=o==null&&!this.props.addEndListener;if(!c||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],g=p[0],_=p[1];this.props.addEndListener(g,_)}o!=null&&setTimeout(this.nextCallback,o)},e.render=function(){var o=this.state.status;if(o===mu)return null;var l=this.props,c=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var d=IS(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return qt.createElement(xS.Provider,{value:null},typeof c=="function"?c(o,d):qt.cloneElement(qt.Children.only(c),d))},t})(qt.Component);Ci.contextType=xS;Ci.propTypes={};function Eo(){}Ci.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Eo,onEntering:Eo,onEntered:Eo,onExit:Eo,onExiting:Eo,onExited:Eo};Ci.UNMOUNTED=mu;Ci.EXITED=rs;Ci.ENTERING=Jn;Ci.ENTERED=fi;Ci.EXITING=ku;function E4(n){return n.code==="Escape"||n.keyCode===27}function T4(){const n=S.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function Qo(n){if(!n||typeof n=="function")return null;const{major:t}=T4();return t>=19?n.props.ref:n.ref}const Kh=!!(typeof window<"u"&&window.document&&window.document.createElement);var hg=!1,dg=!1;try{var Ap={get passive(){return hg=!0},get once(){return dg=hg=!0}};Kh&&(window.addEventListener("test",Ap,Ap),window.removeEventListener("test",Ap,!0))}catch{}function b4(n,t,e,s){if(s&&typeof s!="boolean"&&!dg){var o=s.once,l=s.capture,c=e;!dg&&o&&(c=e.__once||function d(p){this.removeEventListener(t,d,l),e.call(this,p)},e.__once=c),n.addEventListener(t,c,hg?s:l)}n.addEventListener(t,e,s)}function w4(n,t,e,s){var o=s&&typeof s!="boolean"?s.capture:s;n.removeEventListener(t,e,o),e.__once&&n.removeEventListener(t,e.__once,o)}function gh(n,t,e,s){return b4(n,t,e,s),function(){w4(n,t,e,s)}}function S4(n,t,e,s){if(s===void 0&&(s=!0),n){var o=document.createEvent("HTMLEvents");o.initEvent(t,e,s),n.dispatchEvent(o)}}function A4(n){var t=vi(n,"transitionDuration")||"",e=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*e}function R4(n,t,e){e===void 0&&(e=5);var s=!1,o=setTimeout(function(){s||S4(n,"transitionend",!0)},t+e),l=gh(n,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),l()}}function C4(n,t,e,s){e==null&&(e=A4(n)||0);var o=R4(n,e,s),l=gh(n,"transitionend",t);return function(){o(),l()}}function K0(n,t){const e=vi(n,t)||"",s=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*s}function Ry(n,t){const e=K0(n,"transitionDuration"),s=K0(n,"transitionDelay"),o=C4(n,l=>{l.target===n&&(o(),t(l))},e+s)}function ou(...n){return n.filter(t=>t!=null).reduce((t,e)=>{if(typeof e!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?e:function(...o){t.apply(this,o),e.apply(this,o)}},null)}function OS(n){n.offsetHeight}const Q0=n=>!n||typeof n=="function"?n:t=>{n.current=t};function I4(n,t){const e=Q0(n),s=Q0(t);return o=>{e&&e(o),s&&s(o)}}function N4(n,t){return S.useMemo(()=>I4(n,t),[n,t])}function x4(n){return n&&"setState"in n?Co.findDOMNode(n):n??null}const Qh=qt.forwardRef(({onEnter:n,onEntering:t,onEntered:e,onExit:s,onExiting:o,onExited:l,addEndListener:c,children:d,childRef:p,...g},_)=>{const T=S.useRef(null),w=N4(T,p),C=lt=>{w(x4(lt))},M=lt=>N=>{lt&&T.current&&lt(T.current,N)},z=S.useCallback(M(n),[n]),k=S.useCallback(M(t),[t]),Q=S.useCallback(M(e),[e]),q=S.useCallback(M(s),[s]),F=S.useCallback(M(o),[o]),tt=S.useCallback(M(l),[l]),st=S.useCallback(M(c),[c]);return x.jsx(Ci,{ref:_,...g,onEnter:z,onEntered:Q,onEntering:k,onExit:q,onExited:tt,onExiting:F,addEndListener:st,nodeRef:T,children:typeof d=="function"?(lt,N)=>d(lt,{...N,ref:C}):qt.cloneElement(d,{ref:C})})});Qh.displayName="TransitionWrapper";const O4={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function D4(n,t){const e=`offset${n[0].toUpperCase()}${n.slice(1)}`,s=t[e],o=O4[n];return s+parseInt(vi(t,o[0]),10)+parseInt(vi(t,o[1]),10)}const k4={[rs]:"collapse",[ku]:"collapsing",[Jn]:"collapsing",[fi]:"collapse show"},DS=qt.forwardRef(({onEnter:n,onEntering:t,onEntered:e,onExit:s,onExiting:o,className:l,children:c,dimension:d="height",in:p=!1,timeout:g=300,mountOnEnter:_=!1,unmountOnExit:T=!1,appear:w=!1,getDimensionValue:C=D4,...M},z)=>{const k=typeof d=="function"?d():d,Q=S.useMemo(()=>ou(lt=>{lt.style[k]="0"},n),[k,n]),q=S.useMemo(()=>ou(lt=>{const N=`scroll${k[0].toUpperCase()}${k.slice(1)}`;lt.style[k]=`${lt[N]}px`},t),[k,t]),F=S.useMemo(()=>ou(lt=>{lt.style[k]=null},e),[k,e]),tt=S.useMemo(()=>ou(lt=>{lt.style[k]=`${C(k,lt)}px`,OS(lt)},s),[s,C,k]),st=S.useMemo(()=>ou(lt=>{lt.style[k]=null},o),[k,o]);return x.jsx(Qh,{ref:z,addEndListener:Ry,...M,"aria-expanded":M.role?p:null,onEnter:Q,onEntering:q,onEntered:F,onExit:tt,onExiting:st,childRef:Qo(c),in:p,timeout:g,mountOnEnter:_,unmountOnExit:T,appear:w,children:(lt,N)=>qt.cloneElement(c,{...N,className:Rt(l,c.props.className,k4[lt],k==="width"&&"collapse-horizontal")})})});DS.displayName="Collapse";function M4(n){const t=S.useRef(n);return S.useEffect(()=>{t.current=n},[n]),t}function Yh(n){const t=M4(n);return S.useCallback(function(...e){return t.current&&t.current(...e)},[t])}function V4(n){const t=S.useRef(n);return S.useEffect(()=>{t.current=n},[n]),t}function hi(n){const t=V4(n);return S.useCallback(function(...e){return t.current&&t.current(...e)},[t])}function P4(){const n=S.useRef(!0),t=S.useRef(()=>n.current);return S.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),t.current}function L4(n){const t=S.useRef(null);return S.useEffect(()=>{t.current=n}),t.current}const U4=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",j4=typeof document<"u",Y0=j4||U4?S.useLayoutEffect:S.useEffect,B4=["onKeyDown"];function z4(n,t){if(n==null)return{};var e={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(t.indexOf(s)>=0)continue;e[s]=n[s]}return e}function q4(n){return!n||n.trim()==="#"}const kS=S.forwardRef((n,t)=>{let{onKeyDown:e}=n,s=z4(n,B4);const[o]=_y(Object.assign({tagName:"a"},s)),l=hi(c=>{o.onKeyDown(c),e?.(c)});return q4(s.href)||s.role==="button"?x.jsx("a",Object.assign({ref:t},s,o,{onKeyDown:l})):x.jsx("a",Object.assign({ref:t},s,{onKeyDown:e}))});kS.displayName="Anchor";const H4={[Jn]:"show",[fi]:"show"},MS=S.forwardRef(({className:n,children:t,transitionClasses:e={},onEnter:s,...o},l)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},d=S.useCallback((p,g)=>{OS(p),s?.(p,g)},[s]);return x.jsx(Qh,{ref:l,addEndListener:Ry,...c,onEnter:d,childRef:Qo(t),children:(p,g)=>S.cloneElement(t,{...g,className:Rt("fade",n,t.props.className,H4[p],e[p])})})});MS.displayName="Fade";const F4={"aria-label":_i.string,onClick:_i.func,variant:_i.oneOf(["white"])},Cy=S.forwardRef(({className:n,variant:t,"aria-label":e="Close",...s},o)=>x.jsx("button",{ref:o,type:"button",className:Rt("btn-close",t&&`btn-close-${t}`,n),"aria-label":e,...s}));Cy.displayName="CloseButton";Cy.propTypes=F4;const VS=S.forwardRef(({className:n,bsPrefix:t,as:e="div",...s},o)=>(t=xt(t,"card-group"),x.jsx(e,{ref:o,className:Rt(n,t),...s})));VS.displayName="CardGroup";const Xh=S.forwardRef(({bsPrefix:n,fluid:t=!1,as:e="div",className:s,...o},l)=>{const c=xt(n,"container"),d=typeof t=="string"?`-${t}`:"-fluid";return x.jsx(e,{ref:l,...o,className:Rt(s,t?`${c}${d}`:c)})});Xh.displayName="Container";var G4=Function.prototype.bind.call(Function.prototype.call,[].slice);function oa(n,t){return G4(n.querySelectorAll(t))}function $4(){const[,n]=S.useReducer(t=>t+1,0);return n}function X0(n,t){if(n.contains)return n.contains(t);if(n.compareDocumentPosition)return n===t||!!(n.compareDocumentPosition(t)&16)}const yh=S.createContext(null),Iy=(n,t=null)=>n!=null?String(n):t||null,Ny=S.createContext(null);Ny.displayName="NavContext";const K4="data-rr-ui-",Q4="rrUi";function Wh(n){return`${K4}${n}`}function Y4(n){return`${Q4}${n}`}const PS=S.createContext(Kh?window:void 0);PS.Provider;function xy(){return S.useContext(PS)}const X4=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",W4=typeof document<"u",Z4=W4||X4?S.useLayoutEffect:S.useEffect,Yo=S.createContext(null);Yo.displayName="NavbarContext";const W0=n=>!n||typeof n=="function"?n:t=>{n.current=t};function J4(n,t){const e=W0(n),s=W0(t);return o=>{e&&e(o),s&&s(o)}}function Zh(n,t){return S.useMemo(()=>J4(n,t),[n,t])}const LS=S.createContext(null),tP=["as","active","eventKey"];function eP(n,t){if(n==null)return{};var e={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(t.indexOf(s)>=0)continue;e[s]=n[s]}return e}function US({key:n,onClick:t,active:e,id:s,role:o,disabled:l}){const c=S.useContext(yh),d=S.useContext(Ny),p=S.useContext(LS);let g=e;const _={role:o};if(d){!o&&d.role==="tablist"&&(_.role="tab");const T=d.getControllerId(n??null),w=d.getControlledId(n??null);_[Wh("event-key")]=n,_.id=T||s,g=e==null&&n!=null?d.activeKey===n:e,(g||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(_["aria-controls"]=w)}return _.role==="tab"&&(_["aria-selected"]=g,g||(_.tabIndex=-1),l&&(_.tabIndex=-1,_["aria-disabled"]=!0)),_.onClick=hi(T=>{l||(t?.(T),n!=null&&c&&!T.isPropagationStopped()&&c(n,T))}),[_,{isActive:g}]}const jS=S.forwardRef((n,t)=>{let{as:e=aS,active:s,eventKey:o}=n,l=eP(n,tP);const[c,d]=US(Object.assign({key:Iy(o,l.href),active:s},l));return c[Wh("active")]=d.isActive,x.jsx(e,Object.assign({},l,c,{ref:t}))});jS.displayName="NavItem";const nP=["as","onSelect","activeKey","role","onKeyDown"];function rP(n,t){if(n==null)return{};var e={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(t.indexOf(s)>=0)continue;e[s]=n[s]}return e}const Z0=()=>{},J0=Wh("event-key"),BS=S.forwardRef((n,t)=>{let{as:e="div",onSelect:s,activeKey:o,role:l,onKeyDown:c}=n,d=rP(n,nP);const p=$4(),g=S.useRef(!1),_=S.useContext(yh),T=S.useContext(LS);let w,C;T&&(l=l||"tablist",o=T.activeKey,w=T.getControlledId,C=T.getControllerId);const M=S.useRef(null),z=F=>{const tt=M.current;if(!tt)return null;const st=oa(tt,`[${J0}]:not([aria-disabled=true])`),lt=tt.querySelector("[aria-selected=true]");if(!lt||lt!==document.activeElement)return null;const N=st.indexOf(lt);if(N===-1)return null;let R=N+F;return R>=st.length&&(R=0),R<0&&(R=st.length-1),st[R]},k=(F,tt)=>{F!=null&&(s?.(F,tt),_?.(F,tt))},Q=F=>{if(c?.(F),!T)return;let tt;switch(F.key){case"ArrowLeft":case"ArrowUp":tt=z(-1);break;case"ArrowRight":case"ArrowDown":tt=z(1);break;default:return}tt&&(F.preventDefault(),k(tt.dataset[Y4("EventKey")]||null,F),g.current=!0,p())};S.useEffect(()=>{if(M.current&&g.current){const F=M.current.querySelector(`[${J0}][aria-selected=true]`);F?.focus()}g.current=!1});const q=Zh(t,M);return x.jsx(yh.Provider,{value:k,children:x.jsx(Ny.Provider,{value:{role:l,activeKey:Iy(o),getControlledId:w||Z0,getControllerId:C||Z0},children:x.jsx(e,Object.assign({},d,{onKeyDown:Q,ref:q,role:l}))})})});BS.displayName="Nav";const iP=Object.assign(BS,{Item:jS});function Rp(n){n===void 0&&(n=Ay());try{var t=n.activeElement;return!t||!t.nodeName?null:t}catch{return n.body}}function sP(n){const t=S.useRef(n);return t.current=n,t}function aP(n){const t=sP(n);S.useEffect(()=>()=>t.current(),[])}function oP(n=document){const t=n.defaultView;return Math.abs(t.innerWidth-n.documentElement.clientWidth)}const tb=Wh("modal-open");class Oy{constructor({ownerDocument:t,handleContainerOverflow:e=!0,isRTL:s=!1}={}){this.handleContainerOverflow=e,this.isRTL=s,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return oP(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const e={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();t.style={overflow:o.style.overflow,[s]:o.style[s]},t.scrollBarWidth&&(e[s]=`${parseInt(vi(o,s)||"0",10)+t.scrollBarWidth}px`),o.setAttribute(tb,""),vi(o,e)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const e=this.getElement();e.removeAttribute(tb),Object.assign(e.style,t.style)}add(t){let e=this.modals.indexOf(t);return e!==-1||(e=this.modals.length,this.modals.push(t),this.setModalAttributes(t),e!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),e}remove(t){const e=this.modals.indexOf(t);e!==-1&&(this.modals.splice(e,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const Cp=(n,t)=>Kh?n==null?(t||Ay()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function lP(n,t){const e=xy(),[s,o]=S.useState(()=>Cp(n,e?.document));if(!s){const l=Cp(n);l&&o(l)}return S.useEffect(()=>{},[t,s]),S.useEffect(()=>{const l=Cp(n);l!==s&&o(l)},[n,s]),s}function uP({children:n,in:t,onExited:e,mountOnEnter:s,unmountOnExit:o}){const l=S.useRef(null),c=S.useRef(t),d=hi(e);S.useEffect(()=>{t?c.current=!0:d(l.current)},[t,d]);const p=Zh(l,Qo(n)),g=S.cloneElement(n,{ref:p});return t?g:o||!c.current&&s?null:g}const cP=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function fP(n,t){if(n==null)return{};var e={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(t.indexOf(s)>=0)continue;e[s]=n[s]}return e}function hP(n){let{onEnter:t,onEntering:e,onEntered:s,onExit:o,onExiting:l,onExited:c,addEndListener:d,children:p}=n,g=fP(n,cP);const _=S.useRef(null),T=Zh(_,Qo(p)),w=tt=>st=>{tt&&_.current&&tt(_.current,st)},C=S.useCallback(w(t),[t]),M=S.useCallback(w(e),[e]),z=S.useCallback(w(s),[s]),k=S.useCallback(w(o),[o]),Q=S.useCallback(w(l),[l]),q=S.useCallback(w(c),[c]),F=S.useCallback(w(d),[d]);return Object.assign({},g,{nodeRef:_},t&&{onEnter:C},e&&{onEntering:M},s&&{onEntered:z},o&&{onExit:k},l&&{onExiting:Q},c&&{onExited:q},d&&{addEndListener:F},{children:typeof p=="function"?(tt,st)=>p(tt,Object.assign({},st,{ref:T})):S.cloneElement(p,{ref:T})})}const dP=["component"];function mP(n,t){if(n==null)return{};var e={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(t.indexOf(s)>=0)continue;e[s]=n[s]}return e}const pP=S.forwardRef((n,t)=>{let{component:e}=n,s=mP(n,dP);const o=hP(s);return x.jsx(e,Object.assign({ref:t},o))});function gP({in:n,onTransition:t}){const e=S.useRef(null),s=S.useRef(!0),o=hi(t);return Y0(()=>{if(!e.current)return;let l=!1;return o({in:n,element:e.current,initial:s.current,isStale:()=>l}),()=>{l=!0}},[n,o]),Y0(()=>(s.current=!1,()=>{s.current=!0}),[]),e}function yP({children:n,in:t,onExited:e,onEntered:s,transition:o}){const[l,c]=S.useState(!t);t&&l&&c(!1);const d=gP({in:!!t,onTransition:g=>{const _=()=>{g.isStale()||(g.in?s?.(g.element,g.initial):(c(!0),e?.(g.element)))};Promise.resolve(o(g)).then(_,T=>{throw g.in||c(!0),T})}}),p=Zh(d,Qo(n));return l&&!t?null:S.cloneElement(n,{ref:p})}function eb(n,t,e){return n?x.jsx(pP,Object.assign({},e,{component:n})):t?x.jsx(yP,Object.assign({},e,{transition:t})):x.jsx(uP,Object.assign({},e))}const _P=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function vP(n,t){if(n==null)return{};var e={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(t.indexOf(s)>=0)continue;e[s]=n[s]}return e}let Ip;function EP(n){return Ip||(Ip=new Oy({ownerDocument:n?.document})),Ip}function TP(n){const t=xy(),e=n||EP(t),s=S.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>e.add(s.current),remove:()=>e.remove(s.current),isTopModal:()=>e.isTopModal(s.current),setDialogRef:S.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:S.useCallback(o=>{s.current.backdrop=o},[])})}const zS=S.forwardRef((n,t)=>{let{show:e=!1,role:s="dialog",className:o,style:l,children:c,backdrop:d=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:_,transition:T,runTransition:w,backdropTransition:C,runBackdropTransition:M,autoFocus:z=!0,enforceFocus:k=!0,restoreFocus:Q=!0,restoreFocusOptions:q,renderDialog:F,renderBackdrop:tt=re=>x.jsx("div",Object.assign({},re)),manager:st,container:lt,onShow:N,onHide:R=()=>{},onExit:I,onExited:P,onExiting:L,onEnter:j,onEntering:D,onEntered:ue}=n,Qt=vP(n,_P);const W=xy(),ot=lP(lt),ft=TP(st),Lt=P4(),V=L4(e),[it,ct]=S.useState(!e),at=S.useRef(null);S.useImperativeHandle(t,()=>ft,[ft]),Kh&&!V&&e&&(at.current=Rp(W?.document)),e&&it&&ct(!1);const mt=hi(()=>{if(ft.add(),Cn.current=gh(document,"keydown",Zt),hn.current=gh(document,"focus",()=>setTimeout(bt),!0),N&&N(),z){var re,As;const We=Rp((re=(As=ft.dialog)==null?void 0:As.ownerDocument)!=null?re:W?.document);ft.dialog&&We&&!X0(ft.dialog,We)&&(at.current=We,ft.dialog.focus())}}),St=hi(()=>{if(ft.remove(),Cn.current==null||Cn.current(),hn.current==null||hn.current(),Q){var re;(re=at.current)==null||re.focus==null||re.focus(q),at.current=null}});S.useEffect(()=>{!e||!ot||mt()},[e,ot,mt]),S.useEffect(()=>{it&&St()},[it,St]),aP(()=>{St()});const bt=hi(()=>{if(!k||!Lt()||!ft.isTopModal())return;const re=Rp(W?.document);ft.dialog&&re&&!X0(ft.dialog,re)&&ft.dialog.focus()}),be=hi(re=>{re.target===re.currentTarget&&(g?.(re),d===!0&&R())}),Zt=hi(re=>{p&&E4(re)&&ft.isTopModal()&&(_?.(re),re.defaultPrevented||R())}),hn=S.useRef(),Cn=S.useRef(),Gn=(...re)=>{ct(!0),P?.(...re)};if(!ot)return null;const or=Object.assign({role:s,ref:ft.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},Qt,{style:l,className:o,tabIndex:-1});let $n=F?F(or):x.jsx("div",Object.assign({},or,{children:S.cloneElement(c,{role:"document"})}));$n=eb(T,w,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!e,onExit:I,onExiting:L,onExited:Gn,onEnter:j,onEntering:D,onEntered:ue,children:$n});let In=null;return d&&(In=tt({ref:ft.setBackdropRef,onClick:be}),In=eb(C,M,{in:!!e,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:In})),x.jsx(x.Fragment,{children:Co.createPortal(x.jsxs(x.Fragment,{children:[In,$n]}),ot)})});zS.displayName="Modal";const bP=Object.assign(zS,{Manager:Oy});function wP(n,t){return n.classList?n.classList.contains(t):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+t+" ")!==-1}function SP(n,t){n.classList?n.classList.add(t):wP(n,t)||(typeof n.className=="string"?n.className=n.className+" "+t:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+t))}function nb(n,t){return n.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function AP(n,t){n.classList?n.classList.remove(t):typeof n.className=="string"?n.className=nb(n.className,t):n.setAttribute("class",nb(n.className&&n.className.baseVal||"",t))}const To={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class qS extends Oy{adjustAndStore(t,e,s){const o=e.style[t];e.dataset[t]=o,vi(e,{[t]:`${parseFloat(vi(e,t))+s}px`})}restore(t,e){const s=e.dataset[t];s!==void 0&&(delete e.dataset[t],vi(e,{[t]:s}))}setContainerStyle(t){super.setContainerStyle(t);const e=this.getElement();if(SP(e,"modal-open"),!t.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";oa(e,To.FIXED_CONTENT).forEach(l=>this.adjustAndStore(s,l,t.scrollBarWidth)),oa(e,To.STICKY_CONTENT).forEach(l=>this.adjustAndStore(o,l,-t.scrollBarWidth)),oa(e,To.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(o,l,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const e=this.getElement();AP(e,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";oa(e,To.FIXED_CONTENT).forEach(l=>this.restore(s,l)),oa(e,To.STICKY_CONTENT).forEach(l=>this.restore(o,l)),oa(e,To.NAVBAR_TOGGLER).forEach(l=>this.restore(o,l))}}let Np;function RP(n){return Np||(Np=new qS(n)),Np}const HS=S.createContext({onHide(){}}),FS=S.forwardRef(({closeLabel:n="Close",closeVariant:t,closeButton:e=!1,onHide:s,children:o,...l},c)=>{const d=S.useContext(HS),p=Yh(()=>{d?.onHide(),s?.()});return x.jsxs("div",{ref:c,...l,children:[o,e&&x.jsx(Cy,{"aria-label":n,variant:t,onClick:p})]})});FS.displayName="AbstractModalHeader";const GS=S.forwardRef(({className:n,bsPrefix:t,as:e="div",...s},o)=>(t=xt(t,"nav-item"),x.jsx(e,{ref:o,className:Rt(n,t),...s})));GS.displayName="NavItem";const $S=S.forwardRef(({bsPrefix:n,className:t,as:e=kS,active:s,eventKey:o,disabled:l=!1,...c},d)=>{n=xt(n,"nav-link");const[p,g]=US({key:Iy(o,c.href),active:s,disabled:l,...c});return x.jsx(e,{...c,...p,ref:d,disabled:l,className:Rt(t,n,l&&"disabled",g.isActive&&"active")})});$S.displayName="NavLink";const KS=S.forwardRef((n,t)=>{const{as:e="div",bsPrefix:s,variant:o,fill:l=!1,justify:c=!1,navbar:d,navbarScroll:p,className:g,activeKey:_,...T}=NS(n,{activeKey:"onSelect"}),w=xt(s,"nav");let C,M,z=!1;const k=S.useContext(Yo),Q=S.useContext(wy);return k?(C=k.bsPrefix,z=d??!0):Q&&({cardHeaderBsPrefix:M}=Q),x.jsx(iP,{as:e,ref:t,activeKey:_,className:Rt(g,{[w]:!z,[`${C}-nav`]:z,[`${C}-nav-scroll`]:z&&p,[`${M}-${o}`]:!!M,[`${w}-${o}`]:!!o,[`${w}-fill`]:l,[`${w}-justified`]:c}),...T})});KS.displayName="Nav";const Of=Object.assign(KS,{Item:GS,Link:$S}),QS=S.forwardRef(({bsPrefix:n,className:t,as:e,...s},o)=>{n=xt(n,"navbar-brand");const l=e||(s.href?"a":"span");return x.jsx(l,{...s,ref:o,className:Rt(t,n)})});QS.displayName="NavbarBrand";const YS=S.forwardRef(({children:n,bsPrefix:t,...e},s)=>{t=xt(t,"navbar-collapse");const o=S.useContext(Yo);return x.jsx(DS,{in:!!(o&&o.expanded),...e,children:x.jsx("div",{ref:s,className:t,children:n})})});YS.displayName="NavbarCollapse";const XS=S.forwardRef(({bsPrefix:n,className:t,children:e,label:s="Toggle navigation",as:o="button",onClick:l,...c},d)=>{n=xt(n,"navbar-toggler");const{onToggle:p,expanded:g}=S.useContext(Yo)||{},_=Yh(T=>{l&&l(T),p&&p()});return o==="button"&&(c.type="button"),x.jsx(o,{...c,ref:d,onClick:_,"aria-label":s,className:Rt(t,n,!g&&"collapsed"),children:e||x.jsx("span",{className:`${n}-icon`})})});XS.displayName="NavbarToggle";const mg=new WeakMap,rb=(n,t)=>{if(!n||!t)return;const e=mg.get(t)||new Map;mg.set(t,e);let s=e.get(n);return s||(s=t.matchMedia(n),s.refCount=0,e.set(s.media,s)),s};function CP(n,t=typeof window>"u"?void 0:window){const e=rb(n,t),[s,o]=S.useState(()=>e?e.matches:!1);return Z4(()=>{let l=rb(n,t);if(!l)return o(!1);let c=mg.get(t);const d=()=>{o(l.matches)};return l.refCount++,l.addListener(d),d(),()=>{l.removeListener(d),l.refCount--,l.refCount<=0&&c?.delete(l.media),l=void 0}},[n]),s}function IP(n){const t=Object.keys(n);function e(d,p){return d===p?p:d?`${d} and ${p}`:p}function s(d){return t[Math.min(t.indexOf(d)+1,t.length-1)]}function o(d){const p=s(d);let g=n[p];return typeof g=="number"?g=`${g-.2}px`:g=`calc(${g} - 0.2px)`,`(max-width: ${g})`}function l(d){let p=n[d];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function c(d,p,g){let _;typeof d=="object"?(_=d,g=p,p=!0):(p=p||!0,_={[d]:p});let T=S.useMemo(()=>Object.entries(_).reduce((w,[C,M])=>((M==="up"||M===!0)&&(w=e(w,l(C))),(M==="down"||M===!0)&&(w=e(w,o(C))),w),""),[JSON.stringify(_)]);return CP(T,g)}return c}const NP=IP({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),WS=S.forwardRef(({className:n,bsPrefix:t,as:e="div",...s},o)=>(t=xt(t,"offcanvas-body"),x.jsx(e,{ref:o,className:Rt(n,t),...s})));WS.displayName="OffcanvasBody";const xP={[Jn]:"show",[fi]:"show"},ZS=S.forwardRef(({bsPrefix:n,className:t,children:e,in:s=!1,mountOnEnter:o=!1,unmountOnExit:l=!1,appear:c=!1,...d},p)=>(n=xt(n,"offcanvas"),x.jsx(Qh,{ref:p,addEndListener:Ry,in:s,mountOnEnter:o,unmountOnExit:l,appear:c,...d,childRef:Qo(e),children:(g,_)=>S.cloneElement(e,{..._,className:Rt(t,e.props.className,(g===Jn||g===ku)&&`${n}-toggling`,xP[g])})})));ZS.displayName="OffcanvasToggling";const JS=S.forwardRef(({bsPrefix:n,className:t,closeLabel:e="Close",closeButton:s=!1,...o},l)=>(n=xt(n,"offcanvas-header"),x.jsx(FS,{ref:l,...o,className:Rt(t,n),closeLabel:e,closeButton:s})));JS.displayName="OffcanvasHeader";const OP=Sy("h5"),tA=S.forwardRef(({className:n,bsPrefix:t,as:e=OP,...s},o)=>(t=xt(t,"offcanvas-title"),x.jsx(e,{ref:o,className:Rt(n,t),...s})));tA.displayName="OffcanvasTitle";function DP(n){return x.jsx(ZS,{...n})}function kP(n){return x.jsx(MS,{...n})}const eA=S.forwardRef(({bsPrefix:n,className:t,children:e,"aria-labelledby":s,placement:o="start",responsive:l,show:c=!1,backdrop:d=!0,keyboard:p=!0,scroll:g=!1,onEscapeKeyDown:_,onShow:T,onHide:w,container:C,autoFocus:M=!0,enforceFocus:z=!0,restoreFocus:k=!0,restoreFocusOptions:Q,onEntered:q,onExit:F,onExiting:tt,onEnter:st,onEntering:lt,onExited:N,backdropClassName:R,manager:I,renderStaticNode:P=!1,...L},j)=>{const D=S.useRef();n=xt(n,"offcanvas");const[ue,Qt]=S.useState(!1),W=Yh(w),ot=NP(l||"xs","up");S.useEffect(()=>{Qt(l?c&&!ot:c)},[c,l,ot]);const ft=S.useMemo(()=>({onHide:W}),[W]);function Lt(){return I||(g?(D.current||(D.current=new qS({handleContainerOverflow:!1})),D.current):RP())}const V=(mt,...St)=>{mt&&(mt.style.visibility="visible"),st?.(mt,...St)},it=(mt,...St)=>{mt&&(mt.style.visibility=""),N?.(...St)},ct=S.useCallback(mt=>x.jsx("div",{...mt,className:Rt(`${n}-backdrop`,R)}),[R,n]),at=mt=>x.jsx("div",{...mt,...L,className:Rt(t,l?`${n}-${l}`:n,`${n}-${o}`),"aria-labelledby":s,children:e});return x.jsxs(x.Fragment,{children:[!ue&&(l||P)&&at({}),x.jsx(HS.Provider,{value:ft,children:x.jsx(bP,{show:ue,ref:j,backdrop:d,container:C,keyboard:p,autoFocus:M,enforceFocus:z&&!g,restoreFocus:k,restoreFocusOptions:Q,onEscapeKeyDown:_,onShow:T,onHide:W,onEnter:V,onEntering:lt,onEntered:q,onExit:F,onExiting:tt,onExited:it,manager:Lt(),transition:DP,backdropTransition:kP,renderBackdrop:ct,renderDialog:at})})]})});eA.displayName="Offcanvas";const MP=Object.assign(eA,{Body:WS,Header:JS,Title:tA}),nA=S.forwardRef(({onHide:n,...t},e)=>{const s=S.useContext(Yo),o=Yh(()=>{s==null||s.onToggle==null||s.onToggle(),n?.()});return x.jsx(MP,{ref:e,show:!!(s!=null&&s.expanded),...t,renderStaticNode:!0,onHide:o})});nA.displayName="NavbarOffcanvas";const rA=S.forwardRef(({className:n,bsPrefix:t,as:e="span",...s},o)=>(t=xt(t,"navbar-text"),x.jsx(e,{ref:o,className:Rt(n,t),...s})));rA.displayName="NavbarText";const iA=S.forwardRef((n,t)=>{const{bsPrefix:e,expand:s=!0,variant:o="light",bg:l,fixed:c,sticky:d,className:p,as:g="nav",expanded:_,onToggle:T,onSelect:w,collapseOnSelect:C=!1,...M}=NS(n,{expanded:"onToggle"}),z=xt(e,"navbar"),k=S.useCallback((...F)=>{w?.(...F),C&&_&&T?.(!1)},[w,C,_,T]);M.role===void 0&&g!=="nav"&&(M.role="navigation");let Q=`${z}-expand`;typeof s=="string"&&(Q=`${Q}-${s}`);const q=S.useMemo(()=>({onToggle:()=>T?.(!_),bsPrefix:z,expanded:!!_,expand:s}),[z,_,s,T]);return x.jsx(Yo.Provider,{value:q,children:x.jsx(yh.Provider,{value:k,children:x.jsx(g,{ref:t,...M,className:Rt(p,z,s&&Q,o&&`${z}-${o}`,l&&`bg-${l}`,d&&`sticky-${d}`,c&&`fixed-${c}`)})})})});iA.displayName="Navbar";const Df=Object.assign(iA,{Brand:QS,Collapse:YS,Offcanvas:nA,Text:rA,Toggle:XS}),Dy=S.forwardRef(({bsPrefix:n,className:t,as:e="div",...s},o)=>{const l=xt(n,"row"),c=oS(),d=lS(),p=`${l}-cols`,g=[];return c.forEach(_=>{const T=s[_];delete s[_];let w;T!=null&&typeof T=="object"?{cols:w}=T:w=T;const C=_!==d?`-${_}`:"";w!=null&&g.push(`${p}${C}-${w}`)}),x.jsx(e,{ref:o,...s,className:Rt(t,l,...g)})});Dy.displayName="Row";const VP=()=>{const n=Lr(),[t,e]=S.useState([]);return S.useEffect(()=>{n.listallbooks().then(s=>{e(s.docs)})},[n]),x.jsx(Xh,{className:"mt-4",children:x.jsx(Dy,{className:"g-3",children:t.map(s=>x.jsx($h,{xs:12,sm:6,md:4,lg:3,children:x.jsx(CS,{id:s.id,view:"View",...s.data()})},s.id))})})},PP=()=>x.jsx(Df,{bg:"dark","data-bs-theme":"dark",expand:"md",children:x.jsxs(Xh,{children:[x.jsx(Df.Brand,{as:Ro,to:"/",children:"Bookify"}),x.jsx(Df.Toggle,{"aria-controls":"basic-navbar-nav"}),x.jsx(Df.Collapse,{id:"basic-navbar-nav",children:x.jsxs(Of,{className:"ms-auto d-flex align-items-center",children:[x.jsx(Of.Link,{as:Ro,to:"/",children:"Home"}),x.jsx(Of.Link,{as:Ro,to:"/book",children:"Book Listner"}),x.jsx(Of.Link,{as:Ro,to:"/view/mybook",children:"My Books"})]})})]})}),LP=()=>{const n=Eh(),t=Lr(),e=Ts(),[s,o]=S.useState(null);return S.useEffect(()=>{t.viewdatabyid(n.id).then(l=>o(l))},[t]),s==null?x.jsx("h1",{children:"Loading..."}):x.jsxs("div",{className:"container mt-5 mx-auto",children:[x.jsx("h1",{children:s.name}),x.jsx("img",{style:{width:300,height:300},src:s.imageurl,alt:""}),x.jsx("h2",{children:"Details"}),x.jsxs("p",{children:["price: Rs. ",s.price]}),x.jsxs("p",{children:["ISBN Number: ",s.isbn," "]}),x.jsx("h2",{children:"Owner Details"}),x.jsxs("p",{children:["Name: ",s.Owner]}),x.jsx(Ko,{onClick:()=>e(`/orders/${n.id}`),variant:"primary",children:"Buy Book"})]})},UP=()=>{const[n,t]=S.useState(""),[e,s]=S.useState(""),[o,l]=S.useState("1"),[c,d]=S.useState(!1),[p,g]=S.useState(!1),_=Lr(),T=Eh(),w=async C=>{C.preventDefault(),g(!0);try{await _.bookorder(e,n,o,T.id),d(!0)}catch(M){console.error("Order failed:",M),d(!1)}finally{}};return x.jsxs("div",{className:"container mt-5",children:[x.jsxs(ae,{onSubmit:w,children:[x.jsxs(ae.Group,{className:"mb-3",controlId:"formBasicName",children:[x.jsx(ae.Label,{children:"Your Name"}),x.jsx(ae.Control,{onChange:C=>s(C.target.value),value:e,type:"text",placeholder:"Enter Name",required:!0})]}),x.jsxs(ae.Group,{className:"mb-3",controlId:"formBasicEmail",children:[x.jsx(ae.Label,{children:"Email"}),x.jsx(ae.Control,{onChange:C=>t(C.target.value),value:n,type:"email",placeholder:"Enter Your Email",required:!0})]}),x.jsxs(ae.Group,{className:"mb-3",controlId:"formBasicQty",children:[x.jsx(ae.Label,{children:"Quantity"}),x.jsx(ae.Control,{onChange:C=>l(C.target.value),value:o,type:"number",min:"1",placeholder:"Number Of Books",required:!0})]}),x.jsx(Ko,{variant:"primary",disabled:p,type:"submit",children:p?"Placing Order...":"Place Order"})]}),c&&x.jsx(jV,{buyerName:e,buyerEmail:n,quantity:o,onMailDone:()=>g(!1)})]})},xp=({children:n})=>Lr().isLogin?n:x.jsx(RC,{to:"/login",replace:!0}),jP=()=>{const n=Lr(),[t,e]=S.useState([]);return S.useEffect(()=>{n.isLogin&&n.Viewmybooks().then(s=>{s&&(e(s.docs),s.forEach(o=>{}))}).catch(s=>{})},[n]),x.jsx("div",{className:"mt- 5",children:x.jsx(VS,{children:t.map(s=>x.jsx(CS,{id:`myorders/${s.id}`,view:"My Orders",...s.data()},s.id))})})},BP=()=>{const{id:n}=Eh(),t=Lr(),[e,s]=S.useState([]);return S.useEffect(()=>{t.myorders(n).then(o=>{const l=o.docs.map(c=>({id:c.id,...c.data()}));s(l)}).catch(o=>{console.error("Error fetching orders:",o.message)})},[t,n]),x.jsxs(Xh,{className:"mt-4",children:[x.jsxs("h2",{className:"mb-4",children:["Orders for Book ID: ",n]}),e.length===0?x.jsx("p",{children:"No orders found."}):x.jsx(Dy,{xs:1,md:2,lg:3,className:"g-4",children:e.map(o=>x.jsx($h,{children:x.jsxs(Ar,{className:"h-100 shadow-sm",children:[x.jsxs(Ar.Body,{children:[x.jsxs(Ar.Title,{children:["Order by ",o.name]}),x.jsxs(Ar.Text,{children:[x.jsx("strong",{children:"Email:"})," ",o.email," ",x.jsx("br",{}),x.jsx("strong",{children:"Quantity:"})," ",o.Qty]})]}),x.jsxs(Ar.Footer,{className:"text-muted",children:["Order ID: ",o.id]})]})},o.id))})]})};function zP(){return x.jsxs(x.Fragment,{children:[x.jsx(qI,{position:"top-center",autoClose:4e3}),x.jsx(PP,{}),x.jsxs(IC,{children:[x.jsx(ui,{path:"/",element:x.jsx(VP,{})}),x.jsx(ui,{path:"/login",element:x.jsx(r4,{})}),x.jsx(ui,{path:"/book",element:x.jsx(s4,{})}),x.jsx(ui,{path:"/register",element:x.jsx(i4,{})}),x.jsx(ui,{path:"/book/view/:id",element:x.jsx(xp,{children:x.jsx(LP,{})})}),x.jsx(ui,{path:"/orders/:id",element:x.jsx(xp,{children:x.jsx(UP,{})})}),x.jsx(ui,{path:"/view/mybook",element:x.jsx(xp,{children:x.jsx(jP,{})})}),x.jsx(ui,{path:"/book/view/myorders/:id",element:x.jsx(BP,{})})]})]})}LR.createRoot(document.getElementById("root")).render(x.jsx(S.StrictMode,{children:x.jsx(WC,{children:x.jsx(UV,{children:x.jsx(zP,{})})})}));
